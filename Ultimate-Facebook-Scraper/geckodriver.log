1585215475629	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileeYdawa"
1585215480737	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585215482109	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585215482109	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585215482110	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585215482110	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585215487984	Marionette	INFO	Listening on port 45533
1585215488091	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: resource://gre/modules/XULStore.jsm, line 66: Error: Can't find profile directory.
1585215501952	Marionette	INFO	Stopped listening on port 45533
1585215586049	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileFFm46k"
1585215586668	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585215587829	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585215587829	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585215587829	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585215587829	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585215589708	Marionette	INFO	Listening on port 36675
1585215589758	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: resource://gre/modules/XULStore.jsm, line 66: Error: Can't find profile directory.
1585215601752	Marionette	INFO	Stopped listening on port 36675
1585215617411	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile8q8Gv6"
1585215617956	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585215619199	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585215619200	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585215619200	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585215619200	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585215621044	Marionette	INFO	Listening on port 38145
1585215621120	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: resource://gre/modules/XULStore.jsm, line 66: Error: Can't find profile directory.
1585215628416	Marionette	INFO	Stopped listening on port 38145
1585215794090	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileTYEcLX"
1585215794625	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585215795693	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585215795693	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585215795694	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585215795694	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585215797508	Marionette	INFO	Listening on port 43371
1585215798622	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

1585215883973	Marionette	INFO	Stopped listening on port 43371
1585215886159	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile3Xitms"
1585215886706	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585215887766	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585215887766	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585215887766	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585215887766	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585215889576	Marionette	INFO	Listening on port 42833
1585215889670	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: resource://gre/modules/XULStore.jsm, line 66: Error: Can't find profile directory.
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1585216105502	Marionette	INFO	Stopped listening on port 42833
1585216106400	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile4j2jqQ"
1585216106933	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585216108199	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585216108199	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585216108199	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585216108199	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
Exiting due to channel error.
Exiting due to channel error.
1585216120204	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileIOfTax"
1585216120783	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585216121931	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585216121931	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585216121931	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585216121931	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585216123717	Marionette	INFO	Listening on port 35261
1585216123819	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://www.facebook.com/rsrc.php/v3i6N34/yB/l/en_GB/ffbpG-BylCl.js?_nc_x=F1thSyd-8rl, line 48: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://www.facebook.com/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://www.facebook.com/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://www.facebook.com/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://www.facebook.com/rsrc.php/v3i6N34/yB/l/en_GB/ffbpG-BylCl.js?_nc_x=F1thSyd-8rl, line 48: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://www.facebook.com/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1585217223154	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofilelIDe5I"
1585217223703	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585217224873	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585217224873	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585217224874	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585217224874	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585217226715	Marionette	INFO	Listening on port 36027
1585217226764	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
Exiting due to channel error.
Exiting due to channel error.
1585222352008	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile0kkYdq"
1585222352543	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585222353698	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585222353698	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585222353698	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585222353698	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585222355658	Marionette	INFO	Listening on port 40887
1585222356729	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.

###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][MessageChannel] Error: (msgtype=0x59000D,name=PHttpChannel::Msg_DeletingChannel) Channel closing: too late to send/recv, messages will be lost


###!!! [Child][RunMessage] Error: Channel closing: too late to send/recv, messages will be lost

1585222387932	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileirGMi4"
1585222388631	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1585222390681	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1585222390681	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1585222390681	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1585222390681	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1585222392962	Marionette	INFO	Listening on port 38545
1585222393049	Marionette	WARN	TLS certificate errors will be ignored for this session
1585222393228	Marionette	INFO	Stopped listening on port 40887
JavaScript error: data:application/x-javascript;charset=utf-8;base64,aWYgKHNlbGYuQ2F2YWxyeUxvZ2dlcikgeyBDYXZhbHJ5TG9nZ2VyLnN0YXJ0X2pzKFsiKzRzV3kiXSk7IH0KLyoqCiAqIEBwcm92aWRlc01vZHVsZSBTaGFrYQogKiBAcHJlc2VydmUtd2hpdGVzcGFjZQogKiBAbm9wYWNrYWdlCiAqIEBjb2RlZ2VuLWNvbW1hbmQ6IHNjcmlwdHMvc2hha2EtcGxheWVyL2J1aWxkL2ZiX2J1aWxkLnNoCiAqIEBnZW5lcmF0ZWQKICovCl9fZCgiU2hha2EiLFsiUHJvbWlzZSIsIkV2ZW50TGlzdGVuZXIiLCJWaWRlb1BsYXllclNoYWthUGVyZm9ybWFuY2VMb2dnZXIiLCJWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyIiwiVGltZVNsaWNlIiwiVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvciIsIlZpZGVvUGxheWVyUmVzb3VyY2VUaW1lciIsIlNoYWthU2VnbWVudFJlZmVyZW5jZUhlbHBlciIsIlNlZ21lbnRSZXF1ZXN0TWFuYWdlciIsImNvbmNhdEFycmF5QnVmZmVyIiwiQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIiLCJsb2dMb25nQWthbWFpUmVxdWVzdCIsInRocm90dGxlIiwiVmlld3BvcnRQcmlvcml0eUFkanVzdGVyIiwiRmlyc3RMb2FkZWRWaWRlb1ByaW9yaXR5QWRqdXN0ZXIiLCJWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciIsIlZpZGVvU3RyZWFtaW5nTWFuYWdlciIsIk11bHRpcGxlU2VnbWVudHNQcm92aWRlciIsIkxvY2FsQml0cmF0ZUhlbHBlciIsIlVuaXRDb25zdGFudHMiLCJCdWZmZXJWZWxvY2l0eSIsIlZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvciIsIlZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWciLCJnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcyIsIm1lcmdlU2Vla1JhbmdlR2FwcyIsIk5ldHdvcmtTdGF0dXNEZXRlY3RvciIsIk1vc1V0aWxzIiwiQmFuemFpT0RTIiwiVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSIsIlZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uIiwiVmlkZW9TdHJlYW1pbmdUYXNrUXVldWVQcm92aWRlciIsIkJpbmFyeVNlYXJjaCIsIlNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyIsImdreCIsInNldFRpbWVvdXRBY3Jvc3NUcmFuc2l0aW9ucyIsInNldFRpbWVvdXQiLCJzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zIiwic2V0SW50ZXJ2YWwiLCJzZXRJbW1lZGlhdGVBY3Jvc3NUcmFuc2l0aW9ucyIsInNldEltbWVkaWF0ZSIsImNsZWFyVGltZW91dCIsImNsZWFySW50ZXJ2YWwiLCJjbGVhckltbWVkaWF0ZSIsImRpc3BhdGNoRXZlbnQiLCJFdmVudExpc3RlbmVyIiwiRXZlbnQiLCJleHRyYWN0Q0VBNjA4IiwicGVyZm9ybWFuY2VOb3ciLCJwYXJzZUhlYWRlcnMiLCJjYW5Vc2VGZXRjaFN0cmVhbSIsIlN1YnNjcmlwdGlvbnNIYW5kbGVyIiwiVmlkZW9QdXNoVHJhY2tlciJdLChmdW5jdGlvbiAkbW9kdWxlX1NoYWthKGdsb2JhbCxyZXF1aXJlLHJlcXVpcmVEeW5hbWljLHJlcXVpcmVMYXp5LG1vZHVsZSxleHBvcnRzKXsKCi8vIHJ1biBgc2NyaXB0cy9zaGFrYS1wbGF5ZXIvYnVpbGQvZmJfYnVpbGQuc2hgIHRvIHJlZ2VuZXJhdGUgU2hha2EuanMgYWZ0ZXIgbW9kaWZ5aW5nIHRoaXMKLy8gZmlsZQoKdmFyIFByb21pc2UgPSByZXF1aXJlKCdQcm9taXNlJyk7CnZhciBFdmVudExpc3RlbmVyID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpOwp2YXIgVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYVBlcmZvcm1hbmNlTG9nZ2VyJyk7CnZhciBWaWRlb1B1c2hQYXJhbWV0ZXJzSGVscGVyID0gcmVxdWlyZSgnVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcicpOwp2YXIgVGltZVNsaWNlID0gcmVxdWlyZSgnVGltZVNsaWNlJyk7CnZhciBWaWRlb1BsYXllckxvY2FsQmFuZHdpZHRoRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJMb2NhbEJhbmR3aWR0aEVzdGltYXRvcicpOwp2YXIgVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJSZXNvdXJjZVRpbWVyJyk7CnZhciBTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXIgPSByZXF1aXJlKCdTaGFrYVNlZ21lbnRSZWZlcmVuY2VIZWxwZXInKTsKdmFyIFNlZ21lbnRSZXF1ZXN0TWFuYWdlciA9IHJlcXVpcmUoJ1NlZ21lbnRSZXF1ZXN0TWFuYWdlcicpOwp2YXIgY29uY2F0QXJyYXlCdWZmZXIgPSByZXF1aXJlKCdjb25jYXRBcnJheUJ1ZmZlcicpOwp2YXIgQnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIgPSByZXF1aXJlKCdCdWZmZXJSZXBsYWNlbWVudEhlbHBlcicpOwp2YXIgbG9nTG9uZ0FrYW1haVJlcXVlc3QgPSByZXF1aXJlKCdsb2dMb25nQWthbWFpUmVxdWVzdCcpOwp2YXIgdGhyb3R0bGUgPSByZXF1aXJlKCd0aHJvdHRsZScpOwp2YXIgVmlld3BvcnRQcmlvcml0eUFkanVzdGVyID0gcmVxdWlyZSgnVmlld3BvcnRQcmlvcml0eUFkanVzdGVyJyk7CnZhciBGaXJzdExvYWRlZFZpZGVvUHJpb3JpdHlBZGp1c3RlciA9IHJlcXVpcmUoJ0ZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyJyk7CnZhciBWaWRlb1ByaW9yaXR5Q2FsY3VsYXRvciA9IHJlcXVpcmUoJ1ZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yJyk7CnZhciBWaWRlb1N0cmVhbWluZ01hbmFnZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ01hbmFnZXInKTsKdmFyIE11bHRpcGxlU2VnbWVudHNQcm92aWRlciA9IHJlcXVpcmUoJ011bHRpcGxlU2VnbWVudHNQcm92aWRlcicpOwp2YXIgTG9jYWxCaXRyYXRlSGVscGVyID0gcmVxdWlyZSgnTG9jYWxCaXRyYXRlSGVscGVyJyk7CnZhciBVbml0Q29uc3RhbnRzID0gcmVxdWlyZSgnVW5pdENvbnN0YW50cycpOwp2YXIgQnVmZmVyVmVsb2NpdHkgPSByZXF1aXJlKCdCdWZmZXJWZWxvY2l0eScpOwp2YXIgVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJCaXRyYXRlRXN0aW1hdG9yJyk7CnZhciBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnID0gcmVxdWlyZSgnVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZycpOwp2YXIgZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXMgPSByZXF1aXJlKCdnZXRTZWVrUmFuZ2VHYXBzRnJvbVNoYWthUmVmZXJlbmNlcycpOwp2YXIgbWVyZ2VTZWVrUmFuZ2VHYXBzID0gcmVxdWlyZSgnbWVyZ2VTZWVrUmFuZ2VHYXBzJyk7CnZhciBOZXR3b3JrU3RhdHVzRGV0ZWN0b3IgPSByZXF1aXJlKCdOZXR3b3JrU3RhdHVzRGV0ZWN0b3InKTsKdmFyIE1vc1V0aWxzID0gcmVxdWlyZSgnTW9zVXRpbHMnKTsKdmFyIEJhbnphaU9EUyA9IHJlcXVpcmUoJ0JhbnphaU9EUycpOwp2YXIgVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZSA9IHJlcXVpcmUoJ1ZpZGVvRGFzaFByZWZldGNoQ2FjaGUnKTsKdmFyIFZpZGVvQ2xpZW50RWRnZUNvb3BlcmF0aW9uID0gcmVxdWlyZSgnVmlkZW9DbGllbnRFZGdlQ29vcGVyYXRpb24nKTsKdmFyIFZpZGVvU3RyZWFtaW5nVGFza1F1ZXVlUHJvdmlkZXIgPSByZXF1aXJlKCdWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyJyk7CnZhciBCaW5hcnlTZWFyY2ggPSByZXF1aXJlKCdCaW5hcnlTZWFyY2gnKTsKdmFyIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscyA9IHJlcXVpcmUoJ1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscycpOwp2YXIgZ2t4ID0gcmVxdWlyZSgnZ2t4Jyk7Cgp2YXIgc2V0VGltZW91dCA9IFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgKICAgICd0aW1lb3V0c19wZXJzaXN0X29uX3BhZ2VfdHJhbnNpdGlvbicsCiAgICB0cnVlCiAgKSA/CiAgcmVxdWlyZSgnc2V0VGltZW91dEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldFRpbWVvdXQnKTsKdmFyIHNldEludGVydmFsID0gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKAogICAgJ3RpbWVvdXRzX3BlcnNpc3Rfb25fcGFnZV90cmFuc2l0aW9uJywKICAgIHRydWUKICApID8KICByZXF1aXJlKCdzZXRJbnRlcnZhbEFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEludGVydmFsJyk7CnZhciBzZXRJbW1lZGlhdGUgPSBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woCiAgICAndGltZW91dHNfcGVyc2lzdF9vbl9wYWdlX3RyYW5zaXRpb24nLAogICAgdHJ1ZQogICkgPwogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZUFjcm9zc1RyYW5zaXRpb25zJykgOgogIHJlcXVpcmUoJ3NldEltbWVkaWF0ZScpOwp2YXIgY2xlYXJUaW1lb3V0ID0gcmVxdWlyZSgnY2xlYXJUaW1lb3V0Jyk7CnZhciBjbGVhckludGVydmFsID0gcmVxdWlyZSgnY2xlYXJJbnRlcnZhbCcpOwp2YXIgY2xlYXJJbW1lZGlhdGUgPSByZXF1aXJlKCdjbGVhckltbWVkaWF0ZScpOwp2YXIgZGlzcGF0Y2hEb21FdmVudCA9IHJlcXVpcmUoJ2Rpc3BhdGNoRXZlbnQnKTsKdmFyIGV2ZW50TGlzdGVuZXJDYXB0dXJlID0gcmVxdWlyZSgnRXZlbnRMaXN0ZW5lcicpLmNhcHR1cmU7CnZhciBldmVudEtpbGwgPSByZXF1aXJlKCdFdmVudCcpLmtpbGw7CnZhciBleHRyYWN0Q0VBNjA4ID0gcmVxdWlyZSgnZXh0cmFjdENFQTYwOCcpOwp2YXIgcGVyZm9ybWFuY2VOb3cgPSByZXF1aXJlKCdwZXJmb3JtYW5jZU5vdycpOwp2YXIgcGFyc2VIZWFkZXJzID0gcmVxdWlyZSgncGFyc2VIZWFkZXJzJyk7CnZhciBjYW5Vc2VGZXRjaFN0cmVhbSA9IHJlcXVpcmUoJ2NhblVzZUZldGNoU3RyZWFtJyk7CnZhciBTdWJzY3JpcHRpb25zSGFuZGxlciA9IHJlcXVpcmUoJ1N1YnNjcmlwdGlvbnNIYW5kbGVyJyk7CnZhciBWaWRlb1B1c2hUcmFja2VyID0gcmVxdWlyZSgnVmlkZW9QdXNoVHJhY2tlcicpOwoKZnVuY3Rpb24gc2V0RXZlbnRQcm9wZXJ0eShvYmosIG5hbWUsIGhhbmRsZXIpIHsKICBvYmpbbmFtZV0gPSBUaW1lU2xpY2UuZ3VhcmQoaGFuZGxlciwgJ3NoYWthICcgKyBuYW1lKTsKfTsKCmlmICgKICBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woJ3NoYWthX25hdGl2ZV9wcm9taXNlJywgZmFsc2UpICYmCiAgVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCd1c2VfbmF0aXZlX3Byb21pc2UnLCB0cnVlKQopIHsKICBQcm9taXNlID0gd2luZG93LlByb21pc2U7Cn0KCnZhciBnID0ge307CgooZnVuY3Rpb24od2luZG93KXt2YXIgbixhYT10aGlzO2Z1bmN0aW9uIHEoYSxiKXt2YXIgYz1hLnNwbGl0KCIuIiksZD1hYTtjWzBdaW4gZHx8IWQuZXhlY1NjcmlwdHx8ZC5leGVjU2NyaXB0KCJ2YXIgIitjWzBdKTtmb3IodmFyIGU7Yy5sZW5ndGgmJihlPWMuc2hpZnQoKSk7KWMubGVuZ3RofHx2b2lkIDA9PT1iP2RbZV0/ZD1kW2VdOmQ9ZFtlXT17fTpkW2VdPWJ9ZnVuY3Rpb24gcihhLGIpe2Z1bmN0aW9uIGMoKXt9Yy5wcm90b3R5cGU9Yi5wcm90b3R5cGU7YS5QZD1iLnByb3RvdHlwZTthLnByb3RvdHlwZT1uZXcgYzthLnByb3RvdHlwZS5jb25zdHJ1Y3Rvcj1hO2EuTGQ9ZnVuY3Rpb24oYSxjLGYpe3JldHVybiBiLnByb3RvdHlwZVtjXS5hcHBseShhLEFycmF5LnByb3RvdHlwZS5zbGljZS5jYWxsKGFyZ3VtZW50cywyKSl9fTsvKgoKIENvcHlyaWdodCAyMDE1IEdvb2dsZSBJbmMuCgogTGljZW5zZWQgdW5kZXIgdGhlIEFwYWNoZSBMaWNlbnNlLCBWZXJzaW9uIDIuMCAodGhlICJMaWNlbnNlIik7CiB5b3UgbWF5IG5vdCB1c2UgdGhpcyBmaWxlIGV4Y2VwdCBpbiBjb21wbGlhbmNlIHdpdGggdGhlIExpY2Vuc2UuCiBZb3UgbWF5IG9idGFpbiBhIGNvcHkgb2YgdGhlIExpY2Vuc2UgYXQKCiAgICAgaHR0cDovL3d3dy5hcGFjaGUub3JnL2xpY2Vuc2VzL0xJQ0VOU0UtMi4wCgogVW5sZXNzIHJlcXVpcmVkIGJ5IGFwcGxpY2FibGUgbGF3IG9yIGFncmVlZCB0byBpbiB3cml0aW5nLCBzb2Z0d2FyZQogZGlzdHJpYnV0ZWQgdW5kZXIgdGhlIExpY2Vuc2UgaXMgZGlzdHJpYnV0ZWQgb24gYW4gIkFTIElTIiBCQVNJUywKIFdJVEhPVVQgV0FSUkFOVElFUyBPUiBDT05ESVRJT05TIE9GIEFOWSBLSU5ELCBlaXRoZXIgZXhwcmVzcyBvciBpbXBsaWVkLgogU2VlIHRoZSBMaWNlbnNlIGZvciB0aGUgc3BlY2lmaWMgbGFuZ3VhZ2UgZ292ZXJuaW5nIHBlcm1pc3Npb25zIGFuZAogbGltaXRhdGlvbnMgdW5kZXIgdGhlIExpY2Vuc2UuCiovCmZ1bmN0aW9uIGJhKCl7fTtmdW5jdGlvbiBjYShhKXt2YXIgYj1jb25zb2xlW2FdO2I/Yi5iaW5kfHwoY29uc29sZVthXT1mdW5jdGlvbigpe2IuYXBwbHkoY29uc29sZSxhcmd1bWVudHMpfSk6Y29uc29sZVthXT1mdW5jdGlvbigpe319Y2EoImVycm9yIik7Y2EoIndhcm4iKTtjYSgiaW5mbyIpO2NhKCJsb2ciKTtjYSgiZGVidWciKTt2YXIgdT17cWE6ZnVuY3Rpb24oYSl7dS5JYlthXT17cWE6dS53YygpLGVuZDpOYU59fSxlbmQ6ZnVuY3Rpb24oYSl7aWYoYT11LkliW2FdKWEuZW5kPXUud2MoKX0sTWQ6ZnVuY3Rpb24oYSxiLGMpe3ZhciBkPXUuZ2V0KGEpLGU9dS5nZXQoYik7aWYoIWR8fCFlKXJldHVybiBOYU47ZC09ZTtmb3IoZT0yO2U8YXJndW1lbnRzLmxlbmd0aDsrK2Upe3ZhciBmPXUuZ2V0KGFyZ3VtZW50c1tlXSk7aWYoIWYpcmV0dXJuIE5hTjtkLT1mfXJldHVybiBkfSxnZXQ6ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dS5JYlthXSkmJmEuZW5kP2EuZW5kLWEucWE6TmFOfX07dS53Yz13aW5kb3cucGVyZm9ybWFuY2UmJndpbmRvdy5wZXJmb3JtYW5jZS5ub3c/d2luZG93LnBlcmZvcm1hbmNlLm5vdy5iaW5kKHdpbmRvdy5wZXJmb3JtYW5jZSk6RGF0ZS5ub3c7dS5JYj17fTsvKgoKIENvcHlyaWdodCAyMDA0LXByZXNlbnQgRmFjZWJvb2suIEFsbCBSaWdodHMgUmVzZXJ2ZWQuCgoqLwpmdW5jdGlvbiBmYShhLGIsYyxkLGUsZixnLGgpe3RoaXMuaWQ9YTt0aGlzLmJhbmR3aWR0aD1ifHwwO3RoaXMubGFuZz1jfHwidW5rbm93biI7dGhpcy5zdHJlYW1JbmZvSUQ9ZDt0aGlzLm1pbWVUeXBlPWV8fCIiO3RoaXMuY29kZWNzPWZ8fCIiO3RoaXMuY2hhbm5lbHM9Z3x8bnVsbDt0aGlzLnNhbXBsaW5nUmF0ZT1ofHxudWxsO3RoaXMuYWN0aXZlPSExfXEoInNoYWthLnBsYXllci5BdWRpb1RyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOmEuYmFuZHdpZHRoPGIuYmFuZHdpZHRoPy0xOmEuYmFuZHdpZHRoPmIuYmFuZHdpZHRoPzE6MH0pO3ZhciBnYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9yZXF1ZXN0X3RpbWVvdXRfdGltZXNjYWxlIiwxRTMpLGhhPU1hdGguZmxvb3IoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNoYWthX2RlZmF1bHRfYWpheF9yZXF1ZXN0X3RpbWVvdXRfbXMiLDApL2dhKSxpYT1NYXRoLmZsb29yKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJzaGFrYV9kZWZhdWx0X2FqYXhfcmVxdWVzdF90aW1lb3V0X21zIiwwKS9nYSksamE9TWF0aC5mbG9vcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigic2hha2FfZGVmYXVsdF9hamF4X3JlcXVlc3RfdGltZW91dF9tcyIsMCkvZ2EpO2Z1bmN0aW9uIGthKCl7dGhpcy5taW5CYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg9dGhpcy5tYXhXaWR0aD10aGlzLm1pbkhlaWdodD10aGlzLm1heEhlaWdodD1udWxsfWthLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBrYTthLm1heEhlaWdodD10aGlzLm1heEhlaWdodDthLm1pbkhlaWdodD10aGlzLm1pbkhlaWdodDthLm1heFdpZHRoPXRoaXMubWF4V2lkdGg7YS5tYXhCYW5kd2lkdGg9dGhpcy5tYXhCYW5kd2lkdGg7YS5taW5CYW5kd2lkdGg9dGhpcy5taW5CYW5kd2lkdGg7cmV0dXJuIGF9O2Z1bmN0aW9uIGxhKCl7dGhpcy5mb250U2l6ZT0iMTAwJSI7dGhpcy5mb250Q29sb3I9bWE7dGhpcy5mb250T3BhY2l0eT1vYTt0aGlzLmJhY2tncm91bmRDb2xvcj1wYTt0aGlzLmJhY2tncm91bmRPcGFjaXR5PW9hO3RoaXMuZm9udEVkZ2U9cWF9cSgic2hha2EucGxheWVyLlRleHRTdHlsZSIsbGEpOwpmdW5jdGlvbiByYShhKXt2YXIgYj1bXTtiLnB1c2goImZvbnQtc2l6ZTogIithLmZvbnRTaXplKTtiLnB1c2goImNvbG9yOiAiK3NhKGEuZm9udENvbG9yLGEuZm9udE9wYWNpdHkpKTtiLnB1c2goImJhY2tncm91bmQtY29sb3I6ICIrc2EoYS5iYWNrZ3JvdW5kQ29sb3IsYS5iYWNrZ3JvdW5kT3BhY2l0eSkpO2Zvcih2YXIgYz1bXSxkPTA7ZDxhLmZvbnRFZGdlLmxlbmd0aDsrK2Qpe3ZhciBlPWEuZm9udEVkZ2VbZF0uc2xpY2UoMyw2KTtjLnB1c2goc2EoYS5mb250RWRnZVtkXS5zbGljZSgwLDMpLGEuZm9udE9wYWNpdHkpKyIgIitlLmpvaW4oInB4ICIpKyJweCIpfWIucHVzaCgidGV4dC1zaGFkb3c6ICIrYy5qb2luKCIsIikpO3JldHVybiBiLmpvaW4oIjsgIil9ZnVuY3Rpb24gc2EoYSxiKXtyZXR1cm4icmdiYSgiK2EuY29uY2F0KGIpLmpvaW4oIiwiKSsiKSJ9dmFyIG1hPVsyNTUsMjU1LDI1NV0scGE9WzAsMCwwXTsKbGEuU3RhbmRhcmRDb2xvcnM9e1dISVRFOm1hLEJMQUNLOnBhLFJFRDpbMjU1LDAsMF0sR1JFRU46WzAsMjU1LDBdLEJMVUU6WzAsMCwyNTVdLFlFTExPVzpbMjU1LDI1NSwwXSxNQUdFTlRBOlsyNTUsMCwyNTVdLENZQU46WzAsMjU1LDI1NV19O3ZhciBvYT0xO2xhLlN0YW5kYXJkT3BhY2l0aWVzPXtPUEFRVUU6b2EsU0VNSV9ISUdIOi43NSxTRU1JX0xPVzouMjUsVFJBTlNQQVJFTlQ6MH07dmFyIHFhPVtdOwpsYS5FZGdlU3R5bGVzPXtOT05FOnFhLFJBSVNFRDpbWzM0LDM0LDM0LDEsMSwwXSxbMzQsMzQsMzQsMiwyLDBdLFszNCwzNCwzNCwzLDMsMF1dLERFUFJFU1NFRDpbWzIwNCwyMDQsMjA0LDEsMSwwXSxbMjA0LDIwNCwyMDQsMCwxLDBdLFszNCwzNCwzNCwtMSwtMSwwXSxbMzQsMzQsMzQsMCwtMSwwXV0sVU5JRk9STTpbWzM0LDM0LDM0LDAsMCw0XSxbMzQsMzQsMzQsMCwwLDRdLFszNCwzNCwzNCwwLDAsNF0sWzM0LDM0LDM0LDAsMCw0XV0sRFJPUDpbWzM0LDM0LDM0LDIsMiwzXSxbMzQsMzQsMzQsMiwyLDRdLFszNCwzNCwzNCwyLDIsNV1dfTtmdW5jdGlvbiB0YShhLGIpe3RoaXMuaWQ9YTt0aGlzLmxhbmc9Ynx8InVua25vd24iO3RoaXMuZW5hYmxlZD10aGlzLmFjdGl2ZT0hMX1xKCJzaGFrYS5wbGF5ZXIuVGV4dFRyYWNrLmNvbXBhcmUiLGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEubGFuZzxiLmxhbmc/LTE6YS5sYW5nPmIubGFuZz8xOjB9KTtmdW5jdGlvbiB1YShhLGIsYyxkLGUsZixnLGgsayxsLG0scCx0KXt0aGlzLmlkPWE7dGhpcy5iYW5kd2lkdGg9Ynx8MDt0aGlzLndpZHRoPWN8fDA7dGhpcy5oZWlnaHQ9ZHx8MDt0aGlzLnN0cmVhbUluZm9JRD1lO3RoaXMuZmJRdWFsaXR5TGFiZWw9Zjt0aGlzLmZiUXVhbGl0eUNsYXNzPWc7YT1bXTtoJiYoYT1oLnNwbGl0KCIsIikpO3RoaXMuZnJhbWVSYXRlPWt8fCIiO3RoaXMubWltZVR5cGU9bHx8IiI7dGhpcy5jb2RlY3M9bXx8IiI7dGhpcy5pc0hWUT0tMTxhLmluZGV4T2YoImh2cSIpO3RoaXMuaXNJbmxpbmVIVlE9LTE8YS5pbmRleE9mKCJodnFfd3d3X2lubGluZSIpO3RoaXMuYXZvaWRPblBvb3JDb25uZWN0aW9uPS0xPGEuaW5kZXhPZigiYXZvaWRfb25fcG9vcl9jb25uZWN0aW9uIik7dGhpcy5hY3RpdmU9ITE7dGhpcy5wbGF5YmFja1Jlc29sdXRpb25Nb3M9cHx8bnVsbDt0aGlzLnBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbD10fHxudWxsfQpmdW5jdGlvbiB2YShhLGIpe3ZhciBjPWEud2lkdGgqYS5oZWlnaHQsZD1iLndpZHRoKmIuaGVpZ2h0O3JldHVybiBjPGQ/LTE6Yz5kPzE6YS5iYW5kd2lkdGg8Yi5iYW5kd2lkdGg/LTE6YS5iYW5kd2lkdGg+Yi5iYW5kd2lkdGg/MTowfXEoInNoYWthLnBsYXllci5WaWRlb1RyYWNrLmNvbXBhcmUiLHZhKTtmdW5jdGlvbiB3YShhKXtmb3IodmFyIGI9eGEsYz1bXSxkPTA7ZDxhLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT0hMSxmPTA7ZjxjLmxlbmd0aCYmIShlPWI/YihhW2RdLGNbZl0pOmFbZF09PT1jW2ZdKTsrK2YpO2V8fGMucHVzaChhW2RdKX1yZXR1cm4gY307ZnVuY3Rpb24geWEoKXtyZXR1cm4gRGF0ZS5ub3coKSt6YX12YXIgemE9MDtmdW5jdGlvbiBCYShhKXt0aGlzLmI9YTt0aGlzLmM9MD09Q2E7dGhpcy5hPTB9dmFyIENhPTE7ZnVuY3Rpb24gRGEoYSl7cmV0dXJuIGEuYTxhLmIuYnl0ZUxlbmd0aH1mdW5jdGlvbiBFYShhKXt2YXIgYj1hLmIuZ2V0VWludDgoYS5hKTthLmErPTE7cmV0dXJuIGJ9ZnVuY3Rpb24gdihhKXt2YXIgYj1hLmIuZ2V0VWludDMyKGEuYSxhLmMpO2EuYSs9NDtyZXR1cm4gYn1mdW5jdGlvbiBGYShhKXt2YXIgYixjO2EuYz8oYj1hLmIuZ2V0VWludDMyKGEuYSwhMCksYz1hLmIuZ2V0VWludDMyKGEuYSs0LCEwKSk6KGM9YS5iLmdldFVpbnQzMihhLmEsITEpLGI9YS5iLmdldFVpbnQzMihhLmErNCwhMSkpO2lmKDIwOTcxNTE8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRGF0YVZpZXdSZWFkZXI6IE92ZXJmbG93IHJlYWRpbmcgNjQtYml0IHZhbHVlLiIpO2EuYSs9ODtyZXR1cm4gYypNYXRoLnBvdygyLDMyKStifQpmdW5jdGlvbiBHYShhKXtpZihhLmErMTY+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBSZWFkIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO3ZhciBiPW5ldyBVaW50OEFycmF5KGEuYi5idWZmZXIsYS5hLDE2KTthLmErPTE2O3JldHVybiBifWZ1bmN0aW9uIEhhKGEsYil7aWYoYS5hK2I+YS5iLmJ5dGVMZW5ndGgpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkRhdGFWaWV3UmVhZGVyOiBTa2lwIHBhc3QgZW5kIG9mIERhdGFWaWV3LiIpO2EuYSs9Yn07ZnVuY3Rpb24gSWEoYSl7dGhpcy5iPWE7dGhpcy5hPW5ldyBCYShhKTtKYXx8KEphPVtuZXcgVWludDhBcnJheShbMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzEyNywyNTVdKSxuZXcgVWludDhBcnJheShbNjMsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFszMSwyNTUsMjU1LDI1NV0pLG5ldyBVaW50OEFycmF5KFsxNSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbNywyNTUsMjU1LDI1NSwyNTUsMjU1XSksbmV3IFVpbnQ4QXJyYXkoWzMsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKSxuZXcgVWludDhBcnJheShbMSwyNTUsMjU1LDI1NSwyNTUsMjU1LDI1NSwyNTVdKV0pfXZhciBKYTsKZnVuY3Rpb24gS2EoYSl7dmFyIGI7Yj1MYShhKTtpZig3PGIubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBFQk1MIElEIG11c3QgYmUgYXQgbW9zdCA3IGJ5dGVzLiIpO2Zvcih2YXIgYz0wLGQ9MDtkPGIubGVuZ3RoO2QrKyljPTI1NipjK2JbZF07Yj1jO2M9TGEoYSk7YTp7Zm9yKGQ9MDtkPEphLmxlbmd0aDtkKyspaWYoTWEoYyxKYVtkXSkpe2Q9ITA7YnJlYWsgYX1kPSExfWlmKGQpYz1hLmIuYnl0ZUxlbmd0aC1hLmEuYTtlbHNle2lmKDg9PWMubGVuZ3RoJiZjWzFdJjIyNCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciB2YWx1ZSBtdXN0IGJlIGF0IG1vc3QgNTMgYml0cy4iKTtmb3IodmFyIGQ9Y1swXSYoMTw8OC1jLmxlbmd0aCktMSxlPTE7ZTxjLmxlbmd0aDtlKyspZD0yNTYqZCtjW2VdO2M9ZH1jPWEuYS5hK2M8PWEuYi5ieXRlTGVuZ3RoP2M6YS5iLmJ5dGVMZW5ndGgtYS5hLmE7ZD1uZXcgRGF0YVZpZXcoYS5iLmJ1ZmZlciwKYS5iLmJ5dGVPZmZzZXQrYS5hLmEsYyk7SGEoYS5hLGMpO3JldHVybiBuZXcgTmEoYixkKX1mdW5jdGlvbiBMYShhKXt2YXIgYj1FYShhLmEpLGM7Zm9yKGM9MTs4Pj1jJiYhKGImMTw8OC1jKTtjKyspO2lmKDg8Yyl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbFBhcnNlcjogVmFyaWFibGUgc2l6ZWQgaW50ZWdlciBtdXN0IGZpdCB3aXRoaW4gOCBieXRlcy4iKTt2YXIgZD1uZXcgVWludDhBcnJheShjKTtkWzBdPWI7Zm9yKGI9MTtiPGM7YisrKWRbYl09RWEoYS5hKTtyZXR1cm4gZH1mdW5jdGlvbiBOYShhLGIpe3RoaXMuaWQ9YTt0aGlzLmE9Yn0KZnVuY3Rpb24gT2EoYSl7aWYoODxhLmEuYnl0ZUxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiRWJtbEVsZW1lbnQ6IFVuc2lnbmVkIGludGVnZXIgaGFzIHRvbyBtYW55IGJ5dGVzLiIpO2lmKDg9PWEuYS5ieXRlTGVuZ3RoJiZhLmEuZ2V0VWludDgoMCkmMjI0KXRocm93IG5ldyBSYW5nZUVycm9yKCJFYm1sUGFyc2VyOiBVbnNpZ25lZCBpbnRlZ2VyIG11c3QgYmUgYXQgbW9zdCA1MyBiaXRzLiIpO2Zvcih2YXIgYj0wLGM9MDtjPGEuYS5ieXRlTGVuZ3RoO2MrKyl2YXIgZD1hLmEuZ2V0VWludDgoYyksYj0yNTYqYitkO3JldHVybiBifTt2YXIgUGE9eyJvdXRwdXQtcmVzdHJpY3RlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsIm91dHB1dC1ub3QtYWxsb3dlZCI6IlRoZSByZXF1aXJlZCBvdXRwdXQgcHJvdGVjdGlvbiBpcyBub3QgYXZhaWxhYmxlLiIsZXhwaXJlZDoiVGhlIGRlY3J5cHRpb24ga2V5IGhhcyBleHBpcmVkLiIsImludGVybmFsLWVycm9yIjoiVGhlIGtleSBzeXN0ZW0gaGFzIGVuY291bnRlcmVkIGFuIHVuc3BlY2lmaWVkIGVycm9yLiJ9O2Z1bmN0aW9uIHgoYSl7dGhpcy5iPU1hdGguZXhwKE1hdGgubG9nKC41KS9hKTt0aGlzLnliPXRoaXMuYmI9dGhpcy5hPTB9cSgic2hha2EudXRpbC5FV01BIix4KTt4LnByb3RvdHlwZS5zYW1wbGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1NYXRoLnBvdyh0aGlzLmIsYSk7dGhpcy5hPWIqKDEtYykrYyp0aGlzLmE7dGhpcy5iYis9YTt0aGlzLnliKz0xfTt4LnByb3RvdHlwZS5zYW1wbGU9eC5wcm90b3R5cGUuc2FtcGxlO3gucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iYn07eC5wcm90b3R5cGUuZ2V0VG90YWxXZWlnaHQ9eC5wcm90b3R5cGUuYzt4LnByb3RvdHlwZS5nZXRFc3RpbWF0ZT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEvKDEtTWF0aC5wb3codGhpcy5iLHRoaXMuYmIpKX07eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU9eC5wcm90b3R5cGUuZ2V0RXN0aW1hdGU7eC5wcm90b3R5cGUuZj1mdW5jdGlvbigpe3RoaXMueWI9dGhpcy5iYj10aGlzLmE9MH07CngucHJvdG90eXBlLnJlc2V0PXgucHJvdG90eXBlLmY7dmFyIFFhPXdpbmRvdy5DdXN0b21FdmVudDsiZnVuY3Rpb24iIT09dHlwZW9mIFFhJiYoUWE9ZnVuY3Rpb24oYSxiKXtiPWJ8fHtidWJibGVzOiExLGNhbmNlbGFibGU6ITEsZGV0YWlsOnZvaWQgMH07dmFyIGM9ZG9jdW1lbnQuY3JlYXRlRXZlbnQoIkN1c3RvbUV2ZW50Iik7Yy5pbml0Q3VzdG9tRXZlbnQoYSxiLmJ1YmJsZXMsYi5jYW5jZWxhYmxlLGIuZGV0YWlsKTtyZXR1cm4gY30sUWEucHJvdG90eXBlPXdpbmRvdy5FdmVudC5wcm90b3R5cGUpO2Z1bmN0aW9uIHkoYSl7dmFyIGI9bmV3IFFhKGEudHlwZSx7ZGV0YWlsOmEuZGV0YWlsLGJ1YmJsZXM6ISFhLmJ1YmJsZXN9KSxjO2ZvcihjIGluIGEpYyBpbiBifHwoYltjXT1hW2NdKTtyZXR1cm4gYn1mdW5jdGlvbiBBKGEpe3JldHVybiBuZXcgUWEoImVycm9yIix7ZGV0YWlsOmEsYnViYmxlczohMH0pfTtmdW5jdGlvbiBSYShhLGIsYyl7U2EoYik7U2EoYyk7cmV0dXJuIGM9PWJ8fGE+PVRhJiZjPT1iLnNwbGl0KCItIilbMF18fGE+PVVhJiZjLnNwbGl0KCItIilbMF09PWIuc3BsaXQoIi0iKVswXT8hMDohMX12YXIgVGE9MSxVYT0yO2Z1bmN0aW9uIFNhKGEpe2E9YS50b0xvd2VyQ2FzZSgpLnNwbGl0KCItIik7dmFyIGI9VmFbYVswXV07YiYmKGFbMF09Yik7cmV0dXJuIGEuam9pbigiLSIpfQp2YXIgVmE9e2FhcjoiYWEiLGFiazoiYWIiLGFmcjoiYWYiLGFrYToiYWsiLGFsYjoic3EiLGFtaDoiYW0iLGFyYToiYXIiLGFyZzoiYW4iLGFybToiaHkiLGFzbToiYXMiLGF2YToiYXYiLGF2ZToiYWUiLGF5bToiYXkiLGF6ZToiYXoiLGJhazoiYmEiLGJhbToiYm0iLGJhcToiZXUiLGJlbDoiYmUiLGJlbjoiYm4iLGJpaDoiYmgiLGJpczoiYmkiLGJvZDoiYm8iLGJvczoiYnMiLGJyZToiYnIiLGJ1bDoiYmciLGJ1cjoibXkiLGNhdDoiY2EiLGNlczoiY3MiLGNoYToiY2giLGNoZToiY2UiLGNoaToiemgiLGNodToiY3UiLGNodjoiY3YiLGNvcjoia3ciLGNvczoiY28iLGNyZToiY3IiLGN5bToiY3kiLGN6ZToiY3MiLGRhbjoiZGEiLGRldToiZGUiLGRpdjoiZHYiLGR1dDoibmwiLGR6bzoiZHoiLGVsbDoiZWwiLGVuZzoiZW4iLGVwbzoiZW8iLGVzdDoiZXQiLGV1czoiZXUiLGV3ZToiZWUiLGZhbzoiZm8iLGZhczoiZmEiLGZpajoiZmoiLGZpbjoiZmkiLGZyYToiZnIiLGZyZToiZnIiLApmcnk6ImZ5IixmdWw6ImZmIixnZW86ImthIixnZXI6ImRlIixnbGE6ImdkIixnbGU6ImdhIixnbGc6ImdsIixnbHY6Imd2IixncmU6ImVsIixncm46ImduIixndWo6Imd1IixoYXQ6Imh0IixoYXU6ImhhIixoZWI6ImhlIixoZXI6Imh6IixoaW46ImhpIixobW86ImhvIixocnY6ImhyIixodW46Imh1IixoeWU6Imh5IixpYm86ImlnIixpY2U6ImlzIixpZG86ImlvIixpaWk6ImlpIixpa3U6Iml1IixpbGU6ImllIixpbmE6ImlhIixpbmQ6ImlkIixpcGs6ImlrIixpc2w6ImlzIixpdGE6Iml0IixqYXY6Imp2IixqcG46ImphIixrYWw6ImtsIixrYW46ImtuIixrYXM6ImtzIixrYXQ6ImthIixrYXU6ImtyIixrYXo6ImtrIixraG06ImttIixraWs6ImtpIixraW46InJ3IixraXI6Imt5Iixrb206Imt2Iixrb246ImtnIixrb3I6ImtvIixrdWE6ImtqIixrdXI6Imt1IixsYW86ImxvIixsYXQ6ImxhIixsYXY6Imx2IixsaW06ImxpIixsaW46ImxuIixsaXQ6Imx0IixsdHo6ImxiIixsdWI6Imx1IiwKbHVnOiJsZyIsbWFjOiJtayIsbWFoOiJtaCIsbWFsOiJtbCIsbWFvOiJtaSIsbWFyOiJtciIsbWF5OiJtcyIsbWtkOiJtayIsbWxnOiJtZyIsbWx0OiJtdCIsbW9uOiJtbiIsbXJpOiJtaSIsbXNhOiJtcyIsbXlhOiJteSIsbmF1OiJuYSIsbmF2OiJudiIsbmJsOiJuciIsbmRlOiJuZCIsbmRvOiJuZyIsbmVwOiJuZSIsbmxkOiJubCIsbm5vOiJubiIsbm9iOiJuYiIsbm9yOiJubyIsbnlhOiJueSIsb2NpOiJvYyIsb2ppOiJvaiIsb3JpOiJvciIsb3JtOiJvbSIsb3NzOiJvcyIscGFuOiJwYSIscGVyOiJmYSIscGxpOiJwaSIscG9sOiJwbCIscG9yOiJwdCIscHVzOiJwcyIscXVlOiJxdSIscm9oOiJybSIscm9uOiJybyIscnVtOiJybyIscnVuOiJybiIscnVzOiJydSIsc2FnOiJzZyIsc2FuOiJzYSIsc2luOiJzaSIsc2xrOiJzayIsc2xvOiJzayIsc2x2OiJzbCIsc21lOiJzZSIsc21vOiJzbSIsc25hOiJzbiIsc25kOiJzZCIsc29tOiJzbyIsc290OiJzdCIsc3BhOiJlcyIsc3FpOiJzcSIsCnNyZDoic2MiLHNycDoic3IiLHNzdzoic3MiLHN1bjoic3UiLHN3YToic3ciLHN3ZToic3YiLHRhaDoidHkiLHRhbToidGEiLHRhdDoidHQiLHRlbDoidGUiLHRnazoidGciLHRnbDoidGwiLHRoYToidGgiLHRpYjoiYm8iLHRpcjoidGkiLHRvbjoidG8iLHRzbjoidG4iLHRzbzoidHMiLHR1azoidGsiLHR1cjoidHIiLHR3aToidHciLHVpZzoidWciLHVrcjoidWsiLHVyZDoidXIiLHV6YjoidXoiLHZlbjoidmUiLHZpZToidmkiLHZvbDoidm8iLHdlbDoiY3kiLHdsbjoid2EiLHdvbDoid28iLHhobzoieGgiLHlpZDoieWkiLHlvcjoieW8iLHpoYToiemEiLHpobzoiemgiLHp1bDoienUifTtmdW5jdGlvbiBXYShhKXtyZXR1cm4gT2JqZWN0LmtleXMoYSkubWFwKGZ1bmN0aW9uKGIpe3JldHVybiBhW2JdfSl9ZnVuY3Rpb24gQihhLGIpe3JldHVybiBYYShhLGIsImJvb2xlYW4iKX1mdW5jdGlvbiBDKGEsYixjKXthPVhhKGEsYiwibnVtYmVyIik7aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZihpc05hTihhKXx8YT09TnVtYmVyLk5FR0FUSVZFX0lORklOSVRZfHxhPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBmaW5pdGUuIik7aWYobnVsbCE9YyYmYTxjKXRocm93IG5ldyBSYW5nZUVycm9yKCInIitiKyInIG11c3QgYmUgPj0gIitjKTtyZXR1cm4gYX1mdW5jdGlvbiBZYShhLGIpe3JldHVybiBYYShhLGIsInN0cmluZyIpfQpmdW5jdGlvbiBYYShhLGIsYyl7YT1hW2JdO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7aWYodHlwZW9mIGEhPT1jKXRocm93IG5ldyBUeXBlRXJyb3IoIiciK2IrIicgbXVzdCBiZSBhICIrYysiLiIpO3JldHVybiBhfWZ1bmN0aW9uIFphKGEsYixjKXthPWFbYl07aWYobnVsbD09YSlyZXR1cm4gbnVsbDtpZighKGEgaW5zdGFuY2VvZiBjKSl0aHJvdyBuZXcgVHlwZUVycm9yKCInIitiKyInIG11c3QgYmUgYW4gaW5zdGFuY2Ugb2YgIitjLm5hbWUrIi4iKTtyZXR1cm4gYX07ZnVuY3Rpb24gRCgpe3RoaXMuYT17fX1ELnByb3RvdHlwZS5wdXNoPWZ1bmN0aW9uKGEsYil7dGhpcy5hLmhhc093blByb3BlcnR5KGEpP3RoaXMuYVthXS5wdXNoKGIpOnRoaXMuYVthXT1bYl19O0QucHJvdG90eXBlLnNldD1mdW5jdGlvbihhLGIpe3RoaXMuYVthXT1ifTtELnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuKGE9dGhpcy5hW2FdKT9hLnNsaWNlKCk6bnVsbH07ZnVuY3Rpb24gJGEoYSl7dmFyIGI9W10sYztmb3IoYyBpbiBhLmEpYi5wdXNoLmFwcGx5KGIsYS5hW2NdKTtyZXR1cm4gYn1ELnByb3RvdHlwZS5yZW1vdmU9ZnVuY3Rpb24oYSxiKXt2YXIgYz10aGlzLmFbYV07aWYoYylmb3IodmFyIGQ9MDtkPGMubGVuZ3RoOysrZCljW2RdPT1iJiYoYy5zcGxpY2UoZCwxKSwtLWQpfTtmdW5jdGlvbiBhYihhKXt2YXIgYj1bXSxjO2ZvcihjIGluIGEuYSliLnB1c2goYyk7cmV0dXJuIGJ9O2Z1bmN0aW9uIGJiKCl7dGhpcy5hPW5ldyBEfWJiLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7ZGIodGhpcyk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIEUoYSxiLGMsZCl7Yj1uZXcgZWIoYixjLGQpO2EuYS5wdXNoKGMsYil9YmIucHJvdG90eXBlLlZhPWZ1bmN0aW9uKGEsYil7Zm9yKHZhciBjPXRoaXMuYS5nZXQoYil8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTtlLnRhcmdldD09YSYmKGUuVmEoKSx0aGlzLmEucmVtb3ZlKGIsZSkpfX07ZnVuY3Rpb24gZGIoYSl7Zm9yKHZhciBiPSRhKGEuYSksYz0wO2M8Yi5sZW5ndGg7KytjKWJbY10uVmEoKTthLmEuYT17fX1mdW5jdGlvbiBlYihhLGIsYyl7dGhpcy50YXJnZXQ9YTt0aGlzLnR5cGU9Yjt0aGlzLmE9Yzt0aGlzLnRhcmdldC5hZGRFdmVudExpc3RlbmVyKGIsYywhMSl9CmViLnByb3RvdHlwZS5WYT1mdW5jdGlvbigpe3RoaXMudGFyZ2V0JiYodGhpcy50YXJnZXQucmVtb3ZlRXZlbnRMaXN0ZW5lcih0aGlzLnR5cGUsdGhpcy5hLCExKSx0aGlzLmE9dGhpcy50YXJnZXQ9bnVsbCl9O2Z1bmN0aW9uIEYoYSl7dGhpcy5GYj1uZXcgRDt0aGlzLkphPWF9cSgic2hha2EudXRpbC5GYWtlRXZlbnRUYXJnZXQiLEYpO249Ri5wcm90b3R5cGU7bi5hZGRFdmVudExpc3RlbmVyPWZ1bmN0aW9uKGEsYil7dGhpcy5GYi5wdXNoKGEsYil9O24ucmVtb3ZlRXZlbnRMaXN0ZW5lcj1mdW5jdGlvbihhLGIpe3RoaXMuRmIucmVtb3ZlKGEsYil9OwpuLmRpc3BhdGNoRXZlbnQ9ZnVuY3Rpb24oYSl7YS5oYXNPd25Qcm9wZXJ0eSgic3JjRWxlbWVudCIpfHwoZGVsZXRlIGEuc3JjRWxlbWVudCxPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwic3JjRWxlbWVudCIse2dldDpmdW5jdGlvbigpe3JldHVybiBudWxsfX0pKTtpZihhLmhhc093blByb3BlcnR5KCJ0YXJnZXQiKSlhLnRhcmdldD10aGlzO2Vsc2V7ZGVsZXRlIGEudGFyZ2V0O3ZhciBiPXRoaXM7T2JqZWN0LmRlZmluZVByb3BlcnR5KGEsInRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBifSxzZXQ6ZnVuY3Rpb24oYSl7Yj1hfX0pfWlmKGEuaGFzT3duUHJvcGVydHkoImN1cnJlbnRUYXJnZXQiKSlhLmN1cnJlbnRUYXJnZXQ9bnVsbDtlbHNle2RlbGV0ZSBhLmN1cnJlbnRUYXJnZXQ7dmFyIGM9bnVsbDtPYmplY3QuZGVmaW5lUHJvcGVydHkoYSwiY3VycmVudFRhcmdldCIse2dldDpmdW5jdGlvbigpe3JldHVybiBjfSxzZXQ6ZnVuY3Rpb24oYSl7Yz1hfX0pfXJldHVybiBmYih0aGlzLAphKX07bi5vYz0hMTtuLkxhPWZ1bmN0aW9uKGEsYil7cmV0dXJuIHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJkZWJ1Zy9kYXNoUGxheWVyRXZlbnQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0eXBlOmEsZXZlbnQ6Yn19KSl9O2Z1bmN0aW9uIGZiKGEsYil7Yi5jdXJyZW50VGFyZ2V0PWE7Zm9yKHZhciBjPWEuRmIuZ2V0KGIudHlwZSl8fFtdLGQ9MDtkPGMubGVuZ3RoOysrZCl7dmFyIGU9Y1tkXTt0cnl7ZS5oYW5kbGVFdmVudD9lLmhhbmRsZUV2ZW50KGIpOmUuY2FsbChhLGIpfWNhdGNoKGYpe319YS5KYSYmYi5idWJibGVzJiZmYihhLkphLGIpO3JldHVybiBiLmRlZmF1bHRQcmV2ZW50ZWR9O2Z1bmN0aW9uIEcoYSl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5hPXtvYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImZhc3RfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwzKSkseGI6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoInNsb3dfbW92aW5nX2F2ZXJhZ2VfaGFsZl9saWZlIiwxMCkpfSxlYjp7WGE6bmV3IHgoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImFnZ3Jlc3NpdmVfZmFzdF9tb3ZpbmdfYXZlcmFnZV9oYWxmX2xpZmUiLDFFLTQpKSx4YjpuZXcgeChWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigiYWdncmVzc2l2ZV9zbG93X21vdmluZ19hdmVyYWdlX2hhbGZfbGlmZSIsOS4yMzM1MDg3OTE3NzQ1KSl9fTt0aGlzLmg9YXx8NUU1O3RoaXMuaj1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWluX3NhbXBsZV9jb3VudCIsCjFFNCk7dGhpcy5iPTA7dGhpcy5jPVtdO3RoaXMuaT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigibWF4X3JlY2VudF9iYW5kd2lkdGhfc2FtcGxlcyIsMCl9cihHLEYpO3EoInNoYWthLnV0aWwuRVdNQUJhbmR3aWR0aEVzdGltYXRvciIsRyk7Ry5wcm90b3R5cGUuc2hvdWxkRXhjbHVkZVNhbXBsZT1mdW5jdGlvbihhLGIpe3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImNoYW5nZV9hYnJfYXVkaW9fZXhjbHVzaW9uX2xvZ2ljIiwhMCk/IWI6NjU1MzY+YX07CkcucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnKXtpZih0aGlzLnNob3VsZEV4Y2x1ZGVTYW1wbGUoYixjKSllJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oImF1ZGlvIikubG9nKCk7ZWxzZXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV9yZXNvdXJjZV90aW1pbmdfZW50cnlfZm9yX2JhbmR3aWR0aCIsITApKXtpZighZCl7ZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJyZXNvdXJjZV90aW1pbmdfZW50cnlfbWlzc2luZyIpLmxvZygpO3JldHVybn1hPWQudGltZVRvTGFzdEJ5dGU7aWYoMD5hKXtlJiZlLnNldEV2ZW50KCJ1bnNhbXBsZWQiKS5zZXRSZWFzb24oInJlc291cmNlX3RpbWluZ19lbnRyeV9pbnZhbGlkIikubG9nKCk7cmV0dXJufX1hPU1hdGgubWF4KGEsNTApO2M9MUUzKlVuaXRDb25zdGFudHMuQklUU19JTl9CWVRFKmIvYTt2YXIgaD1hLzFFMzt0aGlzLmEuZWIuWGEuc2FtcGxlKGgsCmMsZCk7dGhpcy5hLmViLnhiLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLlhhLnNhbXBsZShoLGMsZCk7dGhpcy5hLm9iLnhiLnNhbXBsZShoLGMsZCk7Z3x8dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImJhbmR3aWR0aCJ9KSk7dGhpcy5iPURhdGUubm93KCk7ZD1wYXJzZUludChhLDEwKTtpZigwPHRoaXMuaSlmb3IodGhpcy5jLnB1c2goW2IsZF0pO3RoaXMuYy5sZW5ndGg+dGhpcy5pOyl0aGlzLmMuc2hpZnQoKTtlJiZlLnNldEV2ZW50KCJzYW1wbGVkIikuc2V0Qnl0ZXMoYikuc2V0RGVsYXlNcyhkKS5sb2coKTtmJiZmLmdldEV2ZW50TG9nZ2VyKCJiYW5kd2lkdGhfc2FtcGxlZCIpLnNldExlbmd0aChiKS5zZXRDbGllbnRUaW1lQmVnaW4odGhpcy5iLWQpLnNldENsaWVudFRpbWVFbmQodGhpcy5iKS5sb2coKX19OwpHLnByb3RvdHlwZS5nZXRCYW5kd2lkdGg9ZnVuY3Rpb24oYSl7YT0iYWdncmVzc2l2ZSI9PT1hP3RoaXMuYS5lYjp0aGlzLmEub2I7cmV0dXJuIHRoaXMuY2FuVHJ1c3RFc3RpbWF0ZSgpP01hdGgubWluKGEuWGEuZ2V0RXN0aW1hdGUoKSxhLnhiLmdldEVzdGltYXRlKCkpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RmFzdE1vdmluZ0JhbmR3aWR0aD1mdW5jdGlvbihhKXthPSJhZ2dyZXNzaXZlIj09PWE/dGhpcy5hLmViOnRoaXMuYS5vYjtyZXR1cm4gdGhpcy5jYW5UcnVzdEVzdGltYXRlKCk/YS5YYS5nZXRFc3RpbWF0ZSgpOnRoaXMuaH07Ry5wcm90b3R5cGUuZ2V0RGF0YUFnZT1mdW5jdGlvbigpe3JldHVybihEYXRlLm5vdygpLXRoaXMuYikvMUUzfTtHLnByb3RvdHlwZS5jYW5UcnVzdEVzdGltYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuYS5lYi5YYTtyZXR1cm4gYi5iYj49KHZvaWQgMD09PWE/LjU6YSl8fGIueWI+PXRoaXMuan07CkcucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiExfTtHLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtHLnByb3RvdHlwZS5mbHVzaEFCUkV2YWx1YXRpb25TZXQ9ZnVuY3Rpb24oKXtyZXR1cm5bXX07Ry5wcm90b3R5cGUuZ2V0UmVjZW50U2FtcGxlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmN9Oy8qCgogQ29weXJpZ2h0IDIwMTUgRmFjZWJvb2sgSW5jLgoKIExpY2Vuc2VkIHVuZGVyIHRoZSBBcGFjaGUgTGljZW5zZSwgVmVyc2lvbiAyLjAgKHRoZSAiTGljZW5zZSIpOwogeW91IG1heSBub3QgdXNlIHRoaXMgZmlsZSBleGNlcHQgaW4gY29tcGxpYW5jZSB3aXRoIHRoZSBMaWNlbnNlLgogWW91IG1heSBvYnRhaW4gYSBjb3B5IG9mIHRoZSBMaWNlbnNlIGF0CgogICAgIGh0dHA6Ly93d3cuYXBhY2hlLm9yZy9saWNlbnNlcy9MSUNFTlNFLTIuMAoKIFVubGVzcyByZXF1aXJlZCBieSBhcHBsaWNhYmxlIGxhdyBvciBhZ3JlZWQgdG8gaW4gd3JpdGluZywgc29mdHdhcmUKIGRpc3RyaWJ1dGVkIHVuZGVyIHRoZSBMaWNlbnNlIGlzIGRpc3RyaWJ1dGVkIG9uIGFuICJBUyBJUyIgQkFTSVMsCiBXSVRIT1VUIFdBUlJBTlRJRVMgT1IgQ09ORElUSU9OUyBPRiBBTlkgS0lORCwgZWl0aGVyIGV4cHJlc3Mgb3IgaW1wbGllZC4KIFNlZSB0aGUgTGljZW5zZSBmb3IgdGhlIHNwZWNpZmljIGxhbmd1YWdlIGdvdmVybmluZyBwZXJtaXNzaW9ucyBhbmQKIGxpbWl0YXRpb25zIHVuZGVyIHRoZSBMaWNlbnNlLgoqLwpmdW5jdGlvbiBnYihhLGIsYyxkKXtHLmNhbGwodGhpcyxkKTt0aGlzLmc9YXx8MDt0aGlzLmY9dm9pZCAwPT09Yj9JbmZpbml0eTpiO3RoaXMubT1jfXIoZ2IsRyk7cSgic2hha2EudXRpbC5FV01BQ2FjaGVCYW5kd2lkdGhFc3RpbWF0b3IiLGdiKTsKZ2IucHJvdG90eXBlLnNhbXBsZT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3ZhciBrPThFMypiL2E7ZSYmZS5zZXRCeXRlcyhiKS5zZXREZWxheU1zKHBhcnNlSW50KGEsMTApKTthPD10aGlzLmcmJms+dGhpcy5mJiYhaD8oZSYmZS5zZXRFdmVudCgidW5zYW1wbGVkIikuc2V0UmVhc29uKCJjYWNoZWQiKS5sb2coKSxmJiYhdGhpcy5zaG91bGRFeGNsdWRlU2FtcGxlKGIsYykmJmYuZ2V0RXZlbnRMb2dnZXIoImJhbmR3aWR0aF9zYW1wbGVkIikuc2V0UmVzdWx0KCJhYm9ydGVkIikuc2V0TGVuZ3RoKGIpLnNldENsaWVudFRpbWVCZWdpbihEYXRlLm5vdygpLXBhcnNlSW50KGEsMTApKS5zZXRDbGllbnRUaW1lRW5kKERhdGUubm93KCkpLmxvZygpLHRoaXMubSgpKTpHLnByb3RvdHlwZS5zYW1wbGUuY2FsbCh0aGlzLGEsYixjLGQsZSxmLGcpfTtnYi5wcm90b3R5cGUuc3VwcG9ydHNDYWNoaW5nPWZ1bmN0aW9uKCl7cmV0dXJuIEluZmluaXR5IT09dGhpcy5mJiYhIXRoaXMuZ307CmdiLnByb3RvdHlwZS5zZXRSZXByZXNlbnRhdGlvbklEPWZ1bmN0aW9uKCl7fTtnYi5wcm90b3R5cGUuZmx1c2hBQlJFdmFsdWF0aW9uU2V0PWZ1bmN0aW9uKCl7cmV0dXJuW119O2Z1bmN0aW9uIGhiKCl7Ry5jYWxsKHRoaXMpfXIoaGIsRyk7cSgic2hha2EudXRpbC5FV01BU2lnbmVkVVJMQmFuZHdpZHRoRXN0aW1hdG9yIixoYik7aGIucHJvdG90eXBlLnN1cHBvcnRzQ2FjaGluZz1mdW5jdGlvbigpe3JldHVybiEwfTtmdW5jdGlvbiBJKCl7dmFyIGEsYixjPW5ldyBQcm9taXNlKGZ1bmN0aW9uKGMsZSl7YT1jO2I9ZX0pO2MucmVzb2x2ZT1hO2MucmVqZWN0PWI7Yy5kZXN0cm95PUkucHJvdG90eXBlLmRlc3Ryb3k7cmV0dXJuIGN9SS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuY2F0Y2goZnVuY3Rpb24oKXt9KTt2YXIgYT1FcnJvcigiRGVzdHJveWVkISIpO2EudHlwZT0iZGVzdHJveSI7dGhpcy5yZWplY3QoYSl9O2Z1bmN0aW9uIGliKGEpe2Euc3BsaXQoIiIpLnJlZHVjZShmdW5jdGlvbihhLGMsZCl7cmV0dXJuIGErKGQmJjA9PWQlND8iICIrYzpjKX0pfTtmdW5jdGlvbiBqYigpe3RoaXMubGI9bmV3IEk7dGhpcy5jPSExO3RoaXMuQWE9bnVsbDt0aGlzLmE9W107dGhpcy5iPW51bGx9ZnVuY3Rpb24ga2IoYSxiKXtpZihhLmMpdGhyb3cgRXJyb3IoIkNhbm5vdCBhcHBlbmQgdG8gYSBydW5uaW5nIHRhc2shIik7YS5hLnB1c2goYil9amIucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7aWYodGhpcy5jKXRocm93IEVycm9yKCJUYXNrIGFscmVhZHkgc3RhcnRlZCEiKTt0aGlzLmM9ITA7dGhpcy5hLnVuc2hpZnQoZnVuY3Rpb24oKXt9KTtsYih0aGlzLHZvaWQgMCl9O2piLnByb3RvdHlwZS5hYm9ydD1mdW5jdGlvbigpe2lmKHRoaXMuQWEpcmV0dXJuIHRoaXMuQWE7aWYoIXRoaXMuYylyZXR1cm4gdGhpcy5jPSEwLFByb21pc2UucmVzb2x2ZSgpO3RoaXMuYiYmKHRoaXMuZj10aGlzLmIoKSk7cmV0dXJuIHRoaXMuQWE9bmV3IEl9O2piLnByb3RvdHlwZS5lbmQ9ZnVuY3Rpb24oKXt0aGlzLmEuc3BsaWNlKDEpfTsKZnVuY3Rpb24gbGIoYSxiKXt2YXIgYz1hLmFbMF0oYiksZDtjPyhkPWNbMF0sYS5iPWNbMV0pOihkPVByb21pc2UucmVzb2x2ZSgpLGEuYj1udWxsKTtkLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3RoaXMuQWE/KHRoaXMuYT1bXSx0aGlzLmI9bnVsbCxtYih0aGlzKSk6KHRoaXMuYS5zaGlmdCgpLHRoaXMuYS5sZW5ndGg/bGIodGhpcyxhKToodGhpcy5sYi5yZXNvbHZlKGEpLHRoaXMuYj1udWxsKSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuYT1bXTt0aGlzLmI9bnVsbDt0aGlzLkFhP21iKHRoaXMpOnRoaXMubGIucmVqZWN0KGEpfSkpfQpmdW5jdGlvbiBtYihhKXtmdW5jdGlvbiBiKCl7dmFyIGE9RXJyb3IoIlRhc2sgYWJvcnRlZC4iKTthLnR5cGU9ImFib3J0ZWQiO3RoaXMubGIucmVqZWN0KGEpO3NldFRpbWVvdXQoZnVuY3Rpb24oKXt0aGlzLkFhLnJlc29sdmUoKTt0aGlzLkFhPW51bGx9LmJpbmQodGhpcyksNSl9YS5mP2EuZi50aGVuKGZ1bmN0aW9uKCl7dGhpcy5mPW51bGw7Yi5jYWxsKHRoaXMpfS5iaW5kKGEpKTpiLmNhbGwoYSl9O2Z1bmN0aW9uIEooYSxiKXtyZXR1cm4gYi5iaW5kKGEpfTtmdW5jdGlvbiBuYihhLGIsYyxkLGUsZixnKXtNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYyk7Ri5jYWxsKHRoaXMsZSk7ZT1iLmFkZFNvdXJjZUJ1ZmZlcihjKTt0aGlzLmg9YTt0aGlzLkE9Yjt0aGlzLmE9ZTt0aGlzLko9ZDt0aGlzLkI9bmV3IGJiO3RoaXMuST10aGlzLmw9dGhpcy5ZPXRoaXMuaT1udWxsO3RoaXMuUj0hMTt0aGlzLlA9dGhpcy5LPXRoaXMuTz0wO3RoaXMuRz1udWxsO3RoaXMuVj10aGlzLkY9ITE7dGhpcy5aPWY7dGhpcy5EPW51bGw7dGhpcy4kPWc/ZzpudWxsO3RoaXMuYj1bXTt0aGlzLlU9MDt0aGlzLm09dGhpcy5jPXRoaXMuZj1udWxsO3RoaXMuVD1qYTt0aGlzLm89dGhpcy51PTA7dGhpcy53PXRoaXMuUz0hMTt0aGlzLmc9YyYmYy5jaGFyQXQoMCk7RSh0aGlzLkIsdGhpcy5hLCJ1cGRhdGVlbmQiLHRoaXMubmQuYmluZCh0aGlzKSk7dGhpcy5oLmdldEJvb2woImxpc3Rlbl9mb3JfYXN5bmNfYXBwZW5kX2J1ZmZlcl9lcnJvcnMiLCEwKSYmRSh0aGlzLkIsCnRoaXMuYSwiZXJyb3IiLHRoaXMuYWQuYmluZCh0aGlzKSk7dGhpcy5qPW51bGx9cihuYixGKTtuYi5wcm90b3R5cGUuQmE9ZnVuY3Rpb24oKXtyZXR1cm57U291cmNlQnVmZmVyOnRoaXMuYX19O2Z1bmN0aW9uIG9iKGEsYixjKXthLm9jJiZhLkxhKGIse3R5cGU6YS5nLmNoYXJBdCgwKSxzZWdtZW50OmMsc291cmNlQnVmZmVyOmEuYX0pfXZhciBwYj0xLzYwO25iLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hYm9ydCgpLmNhdGNoKGZ1bmN0aW9uKCl7fSk7dGhpcy5jJiZ0aGlzLmMuZGVzdHJveSgpO3RoaXMuYj10aGlzLmY9dGhpcy5jPW51bGw7dGhpcy5CLmRlc3Ryb3koKTt0aGlzLkE9dGhpcy5hPXRoaXMuRD10aGlzLkI9bnVsbH07ZnVuY3Rpb24gcWIoYSl7dmFyIGI9YS5iLmxlbmd0aDtyZXR1cm4gMDxiP2EuYltiLTFdOm51bGx9CmZ1bmN0aW9uIHJiKGEsYil7Zm9yKHZhciBjPWEuYS5idWZmZXJlZCxkPTA7ZDxjLmxlbmd0aDsrK2Qpe3ZhciBlPWMuc3RhcnQoZCktcGIsZj1jLmVuZChkKStwYjtpZihiPj1lJiZiPD1mKXJldHVybiBjLmVuZChkKS1ifXJldHVybiAwfWZ1bmN0aW9uIHNiKGEsYixjKXt2YXIgZD1iLmVuZFRpbWU/Yi5lbmRUaW1lLWIuc3RhcnRUaW1lOjEsZT1uZXcgdGI7ZS5OYT0zO2UuYz0xRTMqZDtlLmI9MUUzKmEuVDtlLnU9YS5ZO2Uuaj1jO2UuZGE9YS5aO2UubWltZVR5cGU9YS5nO2UuaD1hLiQ7ZS5vPWIuaXNQcmVkaWN0aXZlO3JldHVybiBlfW49bmIucHJvdG90eXBlOwpuLmZldGNoPWZ1bmN0aW9uKGEsYixjLGQsZSxmLGcsaCl7dmFyIGssbD1mPyJyZXBsYWNpbmdfbG93ZXJfcXVhbGl0eV9idWZmZXIiOm51bGw7aWYodGhpcy5sKXt2YXIgbT10aGlzLmJbdGhpcy5iLmxlbmd0aC0xXSxwPW51bGw7bSYmKHA9MUUzKihhLnN0YXJ0VGltZS1tLmVuZFRpbWUpKTtrPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoImZldGNoIikuc2V0UmVhc29uKGwpLnNldFJlc291cmNlKHViKGEudXJsKSkuc2V0VHlwZSh2Yih0aGlzKSkuc2V0TGVuZ3RoKE1hdGgucm91bmQoMUUzKihhLmVuZFRpbWUtYS5zdGFydFRpbWUpKSkuc2V0U2VnbWVudFN0YXJ0VGltZSgxRTMqYS5zdGFydFRpbWUpLnNldFNlZ21lbnRFbmRUaW1lKDFFMyphLmVuZFRpbWUpLnNldFNlZ21lbnRUaW1lR2FwKHApLnN0YXJ0KCl9dGhpcy5qPWs7aWYodGhpcy5mKXtpZih0aGlzLmguZ2V0Qm9vbCgic2JtX2VuYWJsZV9jb25jdXJyZW50X2ZldGNoX3JlcXVlc3RzIiwhMSkpe3ZhciB0PVtdLnNsaWNlLmNhbGwoYXJndW1lbnRzKTsKcmV0dXJuIHRoaXMuZi5sYi50aGVuKEoodGhpcyxmdW5jdGlvbigpe3JldHVybiB0aGlzLmZldGNoLmFwcGx5KHRoaXMsdCl9KSxmdW5jdGlvbihhKXt0aHJvdyBhO30pfW09RXJyb3IoIkNhbm5vdCBmZXRjaCAoIit0aGlzLmcrIik6IHByZXZpb3VzIG9wZXJhdGlvbiBub3QgY29tcGxldGUuIik7dGhpcy51Pj10aGlzLk8/KG0udHlwZT0ic3RyZWFtIixrJiZrLnNldEVycm9yKG0pLmxvZygpLHRoaXMudT0wKToodGhpcy51KyssbS50eXBlPSJhYm9ydGVkIik7cmV0dXJuIFByb21pc2UucmVqZWN0KG0pfXRoaXMuZj1uZXcgamI7YyE9dGhpcy5hLnRpbWVzdGFtcE9mZnNldCYmKHRoaXMuYS50aW1lc3RhbXBPZmZzZXQ9Yyk7dmFyIG09c2IodGhpcyxhLGUpLHA9dGhpcy5oLmdldEJvb2woImVuYWJsZV9zdHJlYW1pbmdfY29kZV9wYXRoIiwhMCksdzt3PXA/YS51cmwuc3RyZWFtKG0sdGhpcy5KLHRoaXMubCx0aGlzLmosdGhpcy5JLHZiKHRoaXMpLGwsZyxoKTphLnVybC5mZXRjaChtLAp0aGlzLkosdGhpcy5sLHRoaXMuaix0aGlzLkksdmIodGhpcyksbCxnKTtvYih0aGlzLCJTZWdtZW50RmV0Y2hpbmciLGEpO3ZhciB6PUsucHJvdG90eXBlLkthLmJpbmQoYS51cmwpO3RoaXMuRyYmdGhpcy5GJiYoZD10aGlzLkcpO3ZhciBIPTAsZGE9bnVsbDtkJiYodGhpcy5HPWQsdGhpcy5GPSExLGtiKHRoaXMuZixmdW5jdGlvbigpe3JldHVybltkLnRoZW4oZnVuY3Rpb24oYSl7YS4kYT5IJiYoSD1hLiRhKTtyZXR1cm4gd2IodGhpcyxhLG51bGwpfS5iaW5kKHRoaXMpKSx0aGlzLmNiLmJpbmQodGhpcyldfS5iaW5kKHRoaXMpKSk7dmFyIGVhPWZ1bmN0aW9uKGEpe2EuJGE+SCYmKEg9YS4kYSk7ZGE9YS5ieXRlTGVuZ3RoO3RoaXMuSi5nZXRCYW5kd2lkdGgoKTt0aGlzLlMmJnRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJjZWE2MDhDYXB0aW9uc0J5dGVzUmVjZWl2ZWQiLGJ1YmJsZXM6ITAsZGV0YWlsOnt0aW1lc2NhbGU6Yix2aWRlb0J5dGVzOmF9fSkpfS5iaW5kKHRoaXMpOwpwPyhoJiYobT1oLmdldFByb2dyZXNzVHJhY2tlcigpLHRoaXMuaSE9PW0mJih0aGlzLmk9bSkpLGtiKHRoaXMuZixKKHRoaXMsZnVuY3Rpb24oKXt2YXIgYj1udWxsLGM9TWF0aC5tYXgoMCwoYS51cmwuZW5kQnl0ZXx8MCktYS51cmwuc3RhcnRCeXRlKSxkPXRoaXMuaC5nZXROdW1iZXIoInN0cmVhbWluZ19hcHBlbmRfcGVyX3NlZ21lbnQiLDMpLGU9MD09PWQ/MDpjL2Q7cmV0dXJuW3cudGhlbihmdW5jdGlvbihjKXtiPWM7dGhpcy53PSExO3JldHVybiB4Yih0aGlzLGMsYSxlKX0uYmluZCh0aGlzKSkudGhlbihmdW5jdGlvbihhKXtiPW51bGw7cmV0dXJuIGF9KS50aGVuKGVhKS5jYXRjaChmdW5jdGlvbihhKXt0aGlzLmguZ2V0Qm9vbCgiYWJvcnRfZmV0Y2hfb25fbmV0X2Vycm9yIiwhMSkmJmgmJih0aGlzLmEuYWJvcnQoKSx0aGlzLnc9ITApO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0uYmluZCh0aGlzKSksZnVuY3Rpb24oKXtvYih0aGlzLCJTZWdtZW50RmFpbGVkIixhKTsKYiYmKGIuY2FuY2VsKCJhYm9ydCIpLGI9bnVsbCxoJiYodGhpcy5hLmFib3J0KCksdGhpcy53PSEwKSk7eigpO3JldHVybiB0aGlzLmNiKCl9LmJpbmQodGhpcyldfSkpKTprYih0aGlzLmYsSih0aGlzLGZ1bmN0aW9uKCl7cmV0dXJuW3cudGhlbihmdW5jdGlvbihiKXtvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYSk7ZWEoYik7cmV0dXJuIHdiKHRoaXMsYixhLGwpfS5iaW5kKHRoaXMpKSxmdW5jdGlvbigpe29iKHRoaXMsIlNlZ21lbnRGYWlsZWQiLGEpO3ooKTtyZXR1cm4gdGhpcy5jYigpfS5iaW5kKHRoaXMpXX0pKTt2YXIgQWE9MD09dGhpcy5hLmJ1ZmZlcmVkLmxlbmd0aCYmMD09dGhpcy5iLmxlbmd0aCxjYj1udWxsO2tiKHRoaXMuZixmdW5jdGlvbigpe2lmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJiF0aGlzLlYpe3ZhciBiPUVycm9yKCJGYWlsZWQgdG8gYnVmZmVyIHNlZ21lbnQgKCIrdGhpcy5nKyIpLiIpO2IudHlwZT0ic3RyZWFtIjtyZXR1cm5bUHJvbWlzZS5yZWplY3QoYildfXRoaXMuYS5idWZmZXJlZC5sZW5ndGgmJgpBYSYmKGI9YS5zdGFydFRpbWUsY2I9dGhpcy5hLmJ1ZmZlcmVkLnN0YXJ0KDApLWIpO2I9eWIodGhpcy5iLGEuc3RhcnRUaW1lKTswPD1iP3RoaXMuYi5zcGxpY2UoYisxLDAsYSk6dGhpcy5iLnB1c2goYSl9LmJpbmQodGhpcykpO3RoaXMudT0wO3JldHVybiB6Yih0aGlzKS50aGVuKGZ1bmN0aW9uKCl7ayYmay5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHtXOmNiLFdjOkgsSDphLmVuZFRpbWUtYS5zdGFydFRpbWUsRGM6ZGF9KX0uYmluZCh0aGlzKSxmdW5jdGlvbihhKXtrJiZrLnNldEVycm9yKGEpLmxvZygpO2E9QWIoYSwidGFzayIsIkFuIHVua25vd24gdGFzayBlcnJvciBvY2N1cnJlZC4iKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9LmJpbmQodGhpcykpfTsKZnVuY3Rpb24geGIoYSxiLGMsZCl7dmFyIGU9bmV3IEFycmF5QnVmZmVyKDApLGY9bmV3IEFycmF5QnVmZmVyKDApLGc9ZnVuY3Rpb24oKXtyZXR1cm4gYi5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgYj1hLnZhbHVlO2E9YS5kb25lO2lmKHRoaXMud3x8YSYmMD09PWYuYnl0ZUxlbmd0aClyZXR1cm4gZTtpZighYSYmIWIpcmV0dXJuIGcoKTtiJiYoYiBpbnN0YW5jZW9mIFVpbnQ4QXJyYXkmJihiPWIuYnVmZmVyKSxmPWNvbmNhdEFycmF5QnVmZmVyKGYsYikpO3JldHVybiBmLmJ5dGVMZW5ndGg+PWR8fGE/KHRoaXMuaSYmdGhpcy5pLm5vdGlmeUJ5dGVzQ29uc3VtZWQoZi5ieXRlTGVuZ3RoKSxvYih0aGlzLCJTZWdtZW50RmV0Y2hlZCIsYyksZT1jb25jYXRBcnJheUJ1ZmZlcihlLGYpLGI9ZixmPW5ldyBBcnJheUJ1ZmZlcigwKSx3Yih0aGlzLGIsYykudGhlbihnKSk6ZygpfS5iaW5kKHRoaXMpKX0uYmluZChhKTtyZXR1cm4gZygpfQpmdW5jdGlvbiBCYihhKXtpZihhLmYpe3ZhciBiPUVycm9yKCJDYW5ub3QgY2xlYXIgKCIrYS5nKyIpOiBwcmV2aW91cyBvcGVyYXRpb24gbm90IGNvbXBsZXRlLiIpO2Eubz49YS5LPyhiLnR5cGU9InN0cmVhbSIsYS5vPTApOihhLm8rKyxiLnR5cGU9ImFib3J0ZWQiKTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYil9YS5mPW5ldyBqYjtrYihhLmYsZnVuY3Rpb24oKXt2YXIgYTthOmlmKDA9PXRoaXMuYS5idWZmZXJlZC5sZW5ndGgpYT1Qcm9taXNlLnJlc29sdmUoKTtlbHNle3RyeXt0aGlzLmEucmVtb3ZlKDAsdGhpcy5BLmR1cmF0aW9uKX1jYXRjaChiKXtiPUFiKGIsImNsZWFyX2J1ZmZlciIsIkFuIGVycm9yIG9jY3VyZWQgd2hlbiBjbGVhcmluZyB0aGUgYnVmZmVyLiIpO2E9UHJvbWlzZS5yZWplY3QoYik7YnJlYWsgYX10aGlzLmI9W107YT10aGlzLmM9bmV3IEl9cmV0dXJuW2EsdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7YS5vPTA7cmV0dXJuIHpiKGEpfQpmdW5jdGlvbiBDYihhLGIpe2lmKGEuZil7dmFyIGM9RXJyb3IoIkNhbm5vdCBjbGVhckFmdGVyICgiK2EuZysiKTogcHJldmlvdXMgb3BlcmF0aW9uIG5vdCBjb21wbGV0ZS4iKTtjLnR5cGU9InN0cmVhbSI7cmV0dXJuIFByb21pc2UucmVqZWN0KGMpfWEuZj1uZXcgamI7a2IoYS5mLGZ1bmN0aW9uKCl7cmV0dXJuW0RiKHRoaXMsYiksdGhpcy5jYi5iaW5kKHRoaXMpXX0uYmluZChhKSk7cmV0dXJuIHpiKGEpfWZ1bmN0aW9uIEViKGEsYil7YS5jPW5ldyBJO3ZhciBjPWItNTtpZigwPGMpe3RyeXthLmEucmVtb3ZlKDAsYyl9Y2F0Y2goZCl7cmV0dXJuIGQ9QWIoZCwiY2xlYXJfYnVmZmVyIiwiQW4gZXJyb3Igb2NjdXJlZCB3aGVuIGNsZWFyaW5nIHRoZSBidWZmZXIuIiksUHJvbWlzZS5yZWplY3QoZCl9Yz1GYihhLGMpOzA8YyYmKGEuYj1hLmIuc2xpY2UoYyxhLmIubGVuZ3RoKSl9ZWxzZSBhLmMucmVzb2x2ZSgpO3JldHVybiBhLmN9Cm4uYWJvcnQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mP3RoaXMuZi5hYm9ydCgpOlByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBHYihhKXtmb3IodmFyIGI9YS5jdXJyZW50VGltZSxjPWIsZD0wO2Q8YS5idWZmZXJlZC5sZW5ndGg7ZCsrKWlmKGI8PWEuYnVmZmVyZWQuc3RhcnQoZCkpe2M9YS5idWZmZXJlZC5zdGFydChkKTticmVha31yZXR1cm4gY31mdW5jdGlvbiBIYihhLGIpe2Zvcih2YXIgYz1iLmN1cnJlbnRUaW1lLGQ9MDtkPGIuYnVmZmVyZWQubGVuZ3RoO2QrKylpZihjPj1iLmJ1ZmZlcmVkLnN0YXJ0KGQpJiZjPD1iLmJ1ZmZlcmVkLmVuZChkKS1hLlApcmV0dXJuITE7cmV0dXJuITB9CmZ1bmN0aW9uIHpiKGEpe2EuZi5zdGFydCgpO3JldHVybiBhLmYubGIudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLmY9bnVsbH0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dGhpcy5mPW51bGw7YT1BYihhLCJ0YXNrIiwiQW4gdW5rbm93biB0YXNrIGVycm9yIG9jY3VycmVkLiIpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKX0KZnVuY3Rpb24gd2IoYSxiLGMsZCl7dmFyIGU7aWYoYS5sKXt2YXIgZj1jP3ViKGMudXJsKToiaW5pdCI7ZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJhcHBlbmQiKS5zZXRSZWFzb24oZCkuc2V0UmVzb3VyY2UoZikuc2V0VHlwZSh2YihhKSkuc2V0TGVuZ3RoKGIuYnl0ZUxlbmd0aCkuc3RhcnQoKTtudWxsIT09YyYmKGU9ZS5zZXRTZWdtZW50U3RhcnRUaW1lKDFFMypjLnN0YXJ0VGltZSkuc2V0U2VnbWVudEVuZFRpbWUoMUUzKmMuZW5kVGltZSkpO2EuaiYmKGU9ZS5zZXRQYXJlbnRMb2dnZXIoYS5qKSl9dHJ5e2EuYS5hcHBlbmRCdWZmZXIoYil9Y2F0Y2goZyl7cmV0dXJuIGEuaC5nZXRCb29sKCJudWtlX3NvdXJjZV9idWZmZXJfb25fcXVvdGFfZXhjZWVkZWRfZXJyIiwhMCkmJmcgaW5zdGFuY2VvZiBET01FeGNlcHRpb24mJmcuY29kZT09PURPTUV4Y2VwdGlvbi5RVU9UQV9FWENFRURFRF9FUlImJmcubWVzc2FnZS5tYXRjaCgvXi4qU291cmNlQnVmZmVyLipmdWxsLipmcmVlXHNzcGFjZS4qJC8pJiYKKGcudHlwZT0ic291cmNlYnVmZmVyX2Z1bGwiKSxlJiZlLnNldEVycm9yKGcpLmxvZygpLFByb21pc2UucmVqZWN0KGcpfWEuYz1uZXcgSTthLm09YztyZXR1cm4gYS5jLnRoZW4oZnVuY3Rpb24oKXtlJiZlLmxvZygpfSxmdW5jdGlvbihhKXtlJiZlLnNldEVycm9yKGEpLmxvZygpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pfW4uYWQ9ZnVuY3Rpb24oYSl7YT1hLmVycm9yfHxFcnJvcigiQ2FsbCB0byBhcHBlbmRCdWZmZXIgZmFpbGVkIHRvIGFwcGVuZCB0aGUgc2VnbWVudC4iKTthPUFiKGEsInN0cmVhbSIsIkNhbGwgdG8gYXBwZW5kQnVmZmVyIGZhaWxlZCB0byBhcHBlbmQgdGhlIHNlZ21lbnQuIik7dGhpcy5jJiZ0aGlzLmMucmVqZWN0KGEpfTsKZnVuY3Rpb24gRGIoYSxiKXtpZigwPT1hLmEuYnVmZmVyZWQubGVuZ3RoKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt2YXIgYz1GYihhLGIpO2lmKC0xPT1jfHxjPT1hLmIubGVuZ3RoLTEpcmV0dXJuIFByb21pc2UucmVzb2x2ZSgpO3RyeXthLmEucmVtb3ZlKGEuYltjKzFdLnN0YXJ0VGltZSxhLkEuZHVyYXRpb24pfWNhdGNoKGQpe3JldHVybiBQcm9taXNlLnJlamVjdChkKX1hLmI9YS5iLnNsaWNlKDAsYysxKTthLmM9bmV3IEk7cmV0dXJuIGEuY31uLmNiPWZ1bmN0aW9uKCl7aWYodGhpcy5jKXtpZigib3BlbiI9PXRoaXMuQS5yZWFkeVN0YXRlKXt2YXIgYT1FcnJvcigiUHJldmlvdXMgb3BlcmF0aW9uIGFib3J0ZWQuIik7YS50eXBlPSJhYm9ydGVkIjt0aGlzLmMucmVqZWN0KGEpO3RoaXMuYS5hYm9ydCgpO3RoaXMuUiYmKHRoaXMuRj0hMCk7dGhpcy5jPW5ldyBJfXJldHVybiB0aGlzLmN9cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTsKbi5uZD1mdW5jdGlvbigpe3RoaXMuYyYmKHRoaXMubSYmKG9iKHRoaXMsIlNlZ21lbnRBcHBlbmRlZCIsdGhpcy5tKSx0aGlzLm09bnVsbCksdGhpcy5jLnJlc29sdmUoKSx0aGlzLmM9bnVsbCl9O24uRGQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5pfTtuYi5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPW5iLnByb3RvdHlwZS5EZDtmdW5jdGlvbiB2YihhKXtyZXR1cm4idiI9PT1hLmcuY2hhckF0KDApPyJ2aWRlbyI6ImEiPT09YS5nLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9ZnVuY3Rpb24gQWIoYSxiLGMpe2F8fChhPUVycm9yKGMpKTthLnR5cGV8fChhLnR5cGU9Yik7YS5tZXNzYWdlfHwoYS5tZXNzYWdlPWMpO3JldHVybiBhfQpmdW5jdGlvbiBGYihhLGIpe2lmKGEuaC5nZXRCb29sKCJzYm1fdXNlX3NlZ21lbnRfaW5kZXhfdG9fZmluZF90aW1lc3RhbXBzIiwhMSkmJmEuRCl7dmFyIGM9YS5ELmZpbmQoYik7aWYoYylyZXR1cm4geWIoYS5iLGMuc3RhcnRUaW1lKX1lbHNlIHJldHVybiB5YihhLmIsYik7cmV0dXJuLTF9O2Z1bmN0aW9uIEliKGEpe3JldHVybiBTdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsYSl9cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9TdHJpbmciLEliKTtmdW5jdGlvbiBKYihhKXtmb3IodmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5sZW5ndGgpLGM9MDtjPGEubGVuZ3RoOysrYyliW2NdPWEuY2hhckNvZGVBdChjKTtyZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tU3RyaW5nIixKYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMudG9CYXNlNjQiLGZ1bmN0aW9uKGEsYil7dmFyIGM9dm9pZCAwPT1iPyEwOmIsZD13aW5kb3cuYnRvYShJYihhKSkucmVwbGFjZSgvXCsvZywiLSIpLnJlcGxhY2UoL1wvL2csIl8iKTtyZXR1cm4gYz9kOmQucmVwbGFjZSgvPSokLywiIil9KTtmdW5jdGlvbiBLYihhKXtyZXR1cm4gSmIod2luZG93LmF0b2IoYS5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSkpfQpxKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy5mcm9tQmFzZTY0IixLYik7cSgic2hha2EudXRpbC5VaW50OEFycmF5VXRpbHMuZnJvbUhleCIsZnVuY3Rpb24oYSl7Zm9yKHZhciBiPW5ldyBVaW50OEFycmF5KGEubGVuZ3RoLzIpLGM9MDtjPGEubGVuZ3RoO2MrPTIpYltjLzJdPXdpbmRvdy5wYXJzZUludChhLnN1YnN0cihjLDIpLDE2KTtyZXR1cm4gYn0pO2Z1bmN0aW9uIExiKGEpe2Zvcih2YXIgYj0iIixjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBkPWFbY10udG9TdHJpbmcoMTYpOzE9PWQubGVuZ3RoJiYoZD0iMCIrZCk7Yis9ZH1yZXR1cm4gYn1xKCJzaGFrYS51dGlsLlVpbnQ4QXJyYXlVdGlscy50b0hleCIsTGIpO2Z1bmN0aW9uIE1hKGEsYil7aWYoIWEmJiFiKXJldHVybiEwO2lmKCFhfHwhYnx8YS5sZW5ndGghPWIubGVuZ3RoKXJldHVybiExO2Zvcih2YXIgYz0wO2M8YS5sZW5ndGg7KytjKWlmKGFbY10hPWJbY10pcmV0dXJuITE7cmV0dXJuITB9O2Z1bmN0aW9uIE1iKCl7dGhpcy5pPXRoaXMuYT0iIjt0aGlzLndpdGhDcmVkZW50aWFscz0hMTt0aGlzLm89dGhpcy5mPW51bGw7dGhpcy5qPXRoaXMuaD0hMTt0aGlzLm09dGhpcy5nPSIiO3RoaXMuYz1udWxsO3RoaXMuYj1bXX1mdW5jdGlvbiBOYihhLGIpe3ZhciBjPW5ldyBNYjtjLmE9YS5hO2MuaT1hLmk7Yy53aXRoQ3JlZGVudGlhbHM9YS53aXRoQ3JlZGVudGlhbHM7Yy5mPWEuZjtjLm89YS5vO2MuaD1hLmg7Yy5qPWEuajtjLmc9YS5nO2MubT1hLm07Yy5jPWEuYz9uZXcgVWludDhBcnJheShhLmMuYnVmZmVyKTpudWxsO09iKGMsYS5iKTtPYihjLGIuYik7cmV0dXJuIGN9ZnVuY3Rpb24gT2IoYSxiKXt2YXIgYz1hLmIuY29uY2F0KGIubWFwKGZ1bmN0aW9uKGEpe3JldHVybntpbml0RGF0YTpuZXcgVWludDhBcnJheShhLmluaXREYXRhLmJ1ZmZlciksaW5pdERhdGFUeXBlOmEuaW5pdERhdGFUeXBlfX0pKTthLmI9d2EoYyl9CmZ1bmN0aW9uIHhhKGEsYil7cmV0dXJuIGEuaW5pdERhdGFUeXBlPT1iLmluaXREYXRhVHlwZSYmTWEoYS5pbml0RGF0YSxiLmluaXREYXRhKX07ZnVuY3Rpb24gUGIoYSxiLGMsZCl7dGhpcy53aXRoQ3JlZGVudGlhbHM9Yzt0aGlzLmE9W107ZCYmdGhpcy5hLnB1c2goZCl9cSgic2hha2EucGxheWVyLkRybVNjaGVtZUluZm8iLFBiKTtQYi5EaXN0aW5jdGl2ZUlkZW50aWZpZXI9e09QVElPTkFMOjAsUkVRVUlSRUQ6MX07UGIuUGVyc2lzdGVudFN0YXRlPXtPUFRJT05BTDowLFJFUVVJUkVEOjF9O1BiLmNyZWF0ZVVuZW5jcnlwdGVkPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBQYigwLDAsITEsbnVsbCl9O2Z1bmN0aW9uIFFiKGEpe3RoaXMuc3lzdGVtSWRzPVtdO3RoaXMuY2VuY0tleUlkcz1bXTt0aGlzLmE9W107YT1uZXcgQmEobmV3IERhdGFWaWV3KGEuYnVmZmVyKSk7dHJ5e2Zvcig7RGEoYSk7KXt2YXIgYj1hLmEsYz12KGEpLGQ9dihhKTsxPT1jP2M9RmEoYSk6MD09YyYmKGM9YS5iLmJ5dGVMZW5ndGgtYik7aWYoMTg4NjYxNDM3NiE9ZClIYShhLGMtKGEuYS1iKSk7ZWxzZXt2YXIgZT1FYShhKTtpZigxPGUpSGEoYSxjLShhLmEtYikpO2Vsc2V7SGEoYSwzKTt2YXIgZj1MYihHYShhKSksZz1bXTtpZigwPGUpZm9yKHZhciBoPXYoYSksaz0wO2s8aDsrK2spe3ZhciBsPUxiKEdhKGEpKTtnLnB1c2gobCl9dmFyIG09dihhKTtIYShhLG0pO3RoaXMuY2VuY0tleUlkcy5wdXNoLmFwcGx5KHRoaXMuY2VuY0tleUlkcyxnKTt0aGlzLnN5c3RlbUlkcy5wdXNoKGYpO3RoaXMuYS5wdXNoKHtzdGFydDpiLGVuZDphLmEtMX0pO2EuYSE9YitjJiZIYShhLGMtKGEuYS1iKSl9fX19Y2F0Y2gocCl7fX0KO3ZhciBSYj0vXig/OihbXjovPyMuXSspOik/KD86XC9cLyg/OihbXi8/I10qKUApPyhbXi8jP10qPykoPzo6KFswLTldKykpPyg/PVsvIz9dfCQpKT8oW14/I10rKT8oPzpcPyhbXiNdKikpPyg/OiMoLiopKT8kLztmdW5jdGlvbiBMKGEpe3ZhciBiO2EgaW5zdGFuY2VvZiBMPyhTYih0aGlzLGEuemEpLHRoaXMuV2E9YS5XYSx0aGlzLmhhPWEuaGEsVGIodGhpcyxhLlphKSx0aGlzLnVhPWEudWEsVWIodGhpcyxhLmEuY2xvbmUoKSksdGhpcy5NYT1hLk1hKTphJiYoYj1TdHJpbmcoYSkubWF0Y2goUmIpKT8oU2IodGhpcyxiWzFdfHwiIiwhMCksdGhpcy5XYT1WYihiWzJdfHwiIiksdGhpcy5oYT1WYihiWzNdfHwiIiwhMCksVGIodGhpcyxiWzRdKSx0aGlzLnVhPVZiKGJbNV18fCIiLCEwKSxVYih0aGlzLGJbNl18fCIiLCEwKSx0aGlzLk1hPVZiKGJbN118fCIiKSk6dGhpcy5hPW5ldyBXYihudWxsKX1uPUwucHJvdG90eXBlO24uemE9IiI7bi5XYT0iIjtuLmhhPSIiO24uWmE9bnVsbDtuLnVhPSIiO24uTWE9IiI7Cm4udG9TdHJpbmc9ZnVuY3Rpb24oKXt2YXIgYT1bXSxiPXRoaXMuemE7YiYmYS5wdXNoKFhiKGIsWWIsITApLCI6Iik7aWYoYj10aGlzLmhhKXthLnB1c2goIi8vIik7dmFyIGM9dGhpcy5XYTtjJiZhLnB1c2goWGIoYyxZYiwhMCksIkAiKTthLnB1c2goZW5jb2RlVVJJQ29tcG9uZW50KGIpLnJlcGxhY2UoLyUyNShbMC05YS1mQS1GXXsyfSkvZywiJSQxIikpO2I9dGhpcy5aYTtudWxsIT1iJiZhLnB1c2goIjoiLFN0cmluZyhiKSl9aWYoYj10aGlzLnVhKXRoaXMuaGEmJiIvIiE9Yi5jaGFyQXQoMCkmJmEucHVzaCgiLyIpLGEucHVzaChYYihiLCIvIj09Yi5jaGFyQXQoMCk/WmI6JGIsITApKTsoYj10aGlzLmEudG9TdHJpbmcoKSkmJmEucHVzaCgiPyIsYik7KGI9dGhpcy5NYSkmJmEucHVzaCgiIyIsWGIoYixhYykpO3JldHVybiBhLmpvaW4oIiIpfTsKbi5yZXNvbHZlPWZ1bmN0aW9uKGEpe3ZhciBiPXRoaXMuY2xvbmUoKTsiZGF0YSI9PT1iLnphJiYoYj1uZXcgTCk7dmFyIGM9ISFhLnphO2M/U2IoYixhLnphKTpjPSEhYS5XYTtjP2IuV2E9YS5XYTpjPSEhYS5oYTtjP2IuaGE9YS5oYTpjPW51bGwhPWEuWmE7dmFyIGQ9YS51YTtpZihjKVRiKGIsYS5aYSk7ZWxzZSBpZihjPSEhYS51YSl7aWYoIi8iIT1kLmNoYXJBdCgwKSlpZih0aGlzLmhhJiYhdGhpcy51YSlkPSIvIitkO2Vsc2V7dmFyIGU9Yi51YS5sYXN0SW5kZXhPZigiLyIpOy0xIT1lJiYoZD1iLnVhLnN1YnN0cigwLGUrMSkrZCl9aWYoIi4uIj09ZHx8Ii4iPT1kKWQ9IiI7ZWxzZSBpZigtMSE9ZC5pbmRleE9mKCIuLyIpfHwtMSE9ZC5pbmRleE9mKCIvLiIpKXtmb3IodmFyIGU9MD09ZC5sYXN0SW5kZXhPZigiLyIsMCksZD1kLnNwbGl0KCIvIiksZj1bXSxnPTA7ZzxkLmxlbmd0aDspe3ZhciBoPWRbZysrXTsiLiI9PWg/ZSYmZz09ZC5sZW5ndGgmJmYucHVzaCgiIik6Ii4uIj09Cmg/KCgxPGYubGVuZ3RofHwxPT1mLmxlbmd0aCYmIiIhPWZbMF0pJiZmLnBvcCgpLGUmJmc9PWQubGVuZ3RoJiZmLnB1c2goIiIpKTooZi5wdXNoKGgpLGU9ITApfWQ9Zi5qb2luKCIvIil9fWM/Yi51YT1kOmM9IiIhPT1hLmEudG9TdHJpbmcoKTtjP1ViKGIsYS5hLmNsb25lKCkpOmM9ISFhLk1hO2MmJihiLk1hPWEuTWEpO3JldHVybiBifTtuLmNsb25lPWZ1bmN0aW9uKCl7cmV0dXJuIG5ldyBMKHRoaXMpfTtmdW5jdGlvbiBTYihhLGIsYyl7YS56YT1jP1ZiKGIsITApOmI7YS56YSYmKGEuemE9YS56YS5yZXBsYWNlKC86JC8sIiIpKX1mdW5jdGlvbiBUYihhLGIpe2lmKGIpe2I9TnVtYmVyKGIpO2lmKGlzTmFOKGIpfHwwPmIpdGhyb3cgRXJyb3IoIkJhZCBwb3J0IG51bWJlciAiK2IpO2EuWmE9Yn1lbHNlIGEuWmE9bnVsbH1mdW5jdGlvbiBVYihhLGIsYyl7YiBpbnN0YW5jZW9mIFdiP2EuYT1iOihjfHwoYj1YYihiLGJjKSksYS5hPW5ldyBXYihiKSl9CmZ1bmN0aW9uIFZiKGEsYil7cmV0dXJuIGE/Yj9kZWNvZGVVUkkoYSk6ZGVjb2RlVVJJQ29tcG9uZW50KGEpOiIifWZ1bmN0aW9uIFhiKGEsYixjKXtyZXR1cm4ic3RyaW5nIj09dHlwZW9mIGE/KGE9ZW5jb2RlVVJJKGEpLnJlcGxhY2UoYixjYyksYyYmKGE9YS5yZXBsYWNlKC8lMjUoWzAtOWEtZkEtRl17Mn0pL2csIiUkMSIpKSxhKTpudWxsfWZ1bmN0aW9uIGNjKGEpe2E9YS5jaGFyQ29kZUF0KDApO3JldHVybiIlIisoYT4+NCYxNSkudG9TdHJpbmcoMTYpKyhhJjE1KS50b1N0cmluZygxNil9dmFyIFliPS9bI1wvXD9AXS9nLCRiPS9bXCNcPzpdL2csWmI9L1tcI1w/XS9nLGJjPS9bXCNcP0BdL2csYWM9LyMvZztmdW5jdGlvbiBXYihhKXt0aGlzLmI9YXx8bnVsbH1XYi5wcm90b3R5cGUuYT1udWxsO1diLnByb3RvdHlwZS5jPW51bGw7CmZ1bmN0aW9uIGRjKGEsYixjKXtpZighYS5hJiYoYS5hPXt9LGEuYz0wLGEuYikpZm9yKHZhciBkPWEuYi5zcGxpdCgiJiIpLGU9MDtlPGQubGVuZ3RoO2UrKyl7dmFyIGY9ZFtlXS5pbmRleE9mKCI9IiksZz1udWxsLGg9bnVsbDswPD1mPyhnPWRbZV0uc3Vic3RyaW5nKDAsZiksaD1kW2VdLnN1YnN0cmluZyhmKzEpKTpnPWRbZV07Zz1kZWNvZGVVUklDb21wb25lbnQoZy5yZXBsYWNlKC9cKy9nLCIgIikpO2g9aHx8IiI7ZGMoYSxnLGRlY29kZVVSSUNvbXBvbmVudChoLnJlcGxhY2UoL1wrL2csIiAiKSkpfWEuYj1udWxsOyhkPWEuYS5oYXNPd25Qcm9wZXJ0eShiKSYmYS5hW2JdKXx8KGEuYVtiXT1kPVtdKTtkLnB1c2goYyk7YS5jKyt9CldiLnByb3RvdHlwZS50b1N0cmluZz1mdW5jdGlvbigpe2lmKHRoaXMuYilyZXR1cm4gdGhpcy5iO2lmKCF0aGlzLmEpcmV0dXJuIiI7dmFyIGE9W10sYjtmb3IoYiBpbiB0aGlzLmEpZm9yKHZhciBjPWVuY29kZVVSSUNvbXBvbmVudChiKSxkPXRoaXMuYVtiXSxlPTA7ZTxkLmxlbmd0aDtlKyspe3ZhciBmPWM7IiIhPT1kW2VdJiYoZis9Ij0iK2VuY29kZVVSSUNvbXBvbmVudChkW2VdKSk7YS5wdXNoKGYpfXJldHVybiB0aGlzLmI9YS5qb2luKCImIil9O1diLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBXYjthLmI9dGhpcy5iO2lmKHRoaXMuYSl7dmFyIGI9e30sYztmb3IoYyBpbiB0aGlzLmEpYltjXT10aGlzLmFbY10uY29uY2F0KCk7YS5hPWI7YS5jPXRoaXMuY31yZXR1cm4gYX07ZnVuY3Rpb24gZWMoYSxiLGMpe3ZhciBkPWEuaW5kZXhPZigiPD94bWwiKTswPD1kJiYoYT1hLnN1YnN0cihkKSk7YT0obmV3IERPTVBhcnNlcikucGFyc2VGcm9tU3RyaW5nKGEsInRleHQveG1sIik7aWYoIWEpcmV0dXJuIG51bGw7InN0cmluZyI9PT10eXBlb2YgYiYmKGI9W25ldyBMKGIpXSk7Yj1ifHxbbmV3IEwoIiIpXTtjPWN8fFtuZXcgTCgiIildO3JldHVybiBNKHtBYzpiLGJhc2VVcmw6Y30sYSxmYyl9cSgic2hha2EuZGFzaC5tcGQucGFyc2VNcGQiLGVjKTsKZnVuY3Rpb24gZmMoKXt0aGlzLmlkPXRoaXMudXJsPW51bGw7dGhpcy50eXBlPSJzdGF0aWMiO3RoaXMuRkJJc0xpdmVUZW1wbGF0ZWQ9dGhpcy5GQldhc0xpdmU9dGhpcy5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0hMTt0aGlzLkZCTWFuaWZlc3RJZGVudGlmaWVyPSIiO3RoaXMuRkJNUz0hMTt0aGlzLnU9dGhpcy5iYXNlVXJsPXRoaXMuQWM9bnVsbDt0aGlzLmo9dGhpcy5pPXRoaXMuaD0wO3RoaXMuYj1udWxsO3RoaXMubT01O3RoaXMuZj10aGlzLmM9dGhpcy5nPW51bGw7dGhpcy5vPTE7dGhpcy5sYXN0VmlkZW9GcmFtZVRzPXRoaXMuY3VycmVudFNlcnZlclRpbWVNcz0wO3RoaXMuYT1bXX1mdW5jdGlvbiBnYygpe3RoaXMuZj10aGlzLmM9dGhpcy5iPXRoaXMuYmFzZVVybD10aGlzLmR1cmF0aW9uPXRoaXMuc3RhcnQ9dGhpcy5pZD1udWxsO3RoaXMuYT1bXX0KZnVuY3Rpb24gaGMoKXt0aGlzLmM9dGhpcy5jb2RlY3M9dGhpcy5taW1lVHlwZT10aGlzLmhlaWdodD10aGlzLndpZHRoPXRoaXMuY29udGVudFR5cGU9dGhpcy5sYW5nPXRoaXMuZ3JvdXA9dGhpcy5pZD1udWxsO3RoaXMuZj0hMTt0aGlzLmk9dGhpcy5oPXRoaXMuZz10aGlzLmJhc2VVcmw9bnVsbDt0aGlzLmo9W107dGhpcy5hPVtdO3RoaXMuYj1udWxsfWZ1bmN0aW9uIGljKCl7dGhpcy52YWx1ZT1udWxsfWZ1bmN0aW9uIGpjKCl7dGhpcy5sYW5nPXRoaXMuYT1udWxsfWZ1bmN0aW9uIGtjKCl7dGhpcy5jb250ZW50VHlwZT10aGlzLmxhbmc9dGhpcy5pZD1udWxsfWZ1bmN0aW9uIGxjKCl7dGhpcy5kYXRhPW51bGx9ZnVuY3Rpb24gbWMoKXt0aGlzLmRhdGE9bnVsbH0KZnVuY3Rpb24gbmMoKXt0aGlzLmE9dGhpcy5iPXRoaXMuZj10aGlzLmk9dGhpcy5iYXNlVXJsPXRoaXMuaj10aGlzLmZyYW1lUmF0ZT10aGlzLnU9dGhpcy5vPXRoaXMubT10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9dGhpcy5oPXRoaXMuZz10aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPXRoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9dGhpcy5sYW5nPXRoaXMuaWQ9bnVsbDt0aGlzLmM9W119ZnVuY3Rpb24gb2MoKXt0aGlzLnZhbHVlPXRoaXMuYT1udWxsfW9jLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBvYzthLmE9dGhpcy5hO2EudmFsdWU9dGhpcy52YWx1ZTtyZXR1cm4gYX07b2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8sdGhpcy5hKTt0aGlzLnZhbHVlPU4oYiwidmFsdWUiLE8sdGhpcy52YWx1ZSl9OwpmdW5jdGlvbiBwYygpe3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuYz1udWxsfWZ1bmN0aW9uIHFjKCl7dGhpcy5wYXJzZWRQc3NoPXRoaXMucHNzaEJveD1udWxsfWZ1bmN0aW9uIHJjKCl7dGhpcy51cmw9bnVsbH1mdW5jdGlvbiBzYygpe3RoaXMudXJsPW51bGx9ZnVuY3Rpb24gdGMoKXt0aGlzLmJhc2VVcmw9bnVsbDt0aGlzLnM9MTt0aGlzLmM9dGhpcy5iPXRoaXMuZj10aGlzLmE9dGhpcy5MPW51bGx9dGMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHRjO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLmE9dmModGhpcy5hKTthLmY9dmModGhpcy5mKTthLmI9dmModGhpcy5iKTthLmM9dmModGhpcy5jKTtyZXR1cm4gYX07ZnVuY3Rpb24gd2MoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH0Kd2MucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHdjO2EudXJsPXVjKHRoaXMudXJsKTthLmE9dmModGhpcy5hKTtyZXR1cm4gYX07ZnVuY3Rpb24geGMoKXt0aGlzLmE9dGhpcy51cmw9bnVsbH14Yy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgeGM7YS51cmw9dWModGhpcy51cmwpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiB5Yygpe3RoaXMuYmFzZVVybD1udWxsO3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmM9MDt0aGlzLmI9bnVsbDt0aGlzLmE9W107dGhpcy5DPW51bGx9eWMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHljO2EuYmFzZVVybD11Yyh0aGlzLmJhc2VVcmwpO2Eucz10aGlzLnM7YS5MPXRoaXMuTDthLkg9dGhpcy5IO2EuYz10aGlzLmM7YS5iPXZjKHRoaXMuYik7YS5hPXVjKHRoaXMuYSl8fFtdO2EuQz12Yyh0aGlzLkMpO3JldHVybiBhfTsKZnVuY3Rpb24gemMoKXt0aGlzLmE9dGhpcy5iPW51bGx9emMucHJvdG90eXBlLmNsb25lPWZ1bmN0aW9uKCl7dmFyIGE9bmV3IHpjO2EuYj11Yyh0aGlzLmIpO2EuYT12Yyh0aGlzLmEpO3JldHVybiBhfTtmdW5jdGlvbiBBYygpe3RoaXMucz0xO3RoaXMuSD10aGlzLkw9bnVsbDt0aGlzLmI9MDt0aGlzLkM9dGhpcy5jPXRoaXMuYT10aGlzLmY9bnVsbH1BYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQWM7YS5zPXRoaXMuczthLkw9dGhpcy5MO2EuSD10aGlzLkg7YS5iPXRoaXMuYjthLmY9dGhpcy5mO2EuYT10aGlzLmE7YS5jPXRoaXMuYzthLkM9dmModGhpcy5DKTtyZXR1cm4gYX07ZnVuY3Rpb24gQmMoKXt0aGlzLmI9dGhpcy5hPW51bGw7dGhpcy5OPVtdfUJjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3ZhciBhPW5ldyBCYzthLmE9dGhpcy5hO2EuYj10aGlzLmI7YS5OPXVjKHRoaXMuTil8fFtdO3JldHVybiBhfTsKZnVuY3Rpb24gQ2MoKXt0aGlzLnN0YXJ0U2VnbWVudEluZGV4PXRoaXMucmVwZWF0PXRoaXMuZHVyYXRpb249dGhpcy5zdGFydFRpbWU9bnVsbH1DYy5wcm90b3R5cGUuY2xvbmU9ZnVuY3Rpb24oKXt2YXIgYT1uZXcgQ2M7YS5zdGFydFRpbWU9dGhpcy5zdGFydFRpbWU7YS5kdXJhdGlvbj10aGlzLmR1cmF0aW9uO2EucmVwZWF0PXRoaXMucmVwZWF0O3JldHVybiBhfTtmdW5jdGlvbiBEYyhhLGIpe3RoaXMucWE9YTt0aGlzLmVuZD1ifURjLnByb3RvdHlwZS5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgRGModGhpcy5xYSx0aGlzLmVuZCl9O2ZjLlRBR19OQU1FPSJNUEQiO2djLlRBR19OQU1FPSJQZXJpb2QiO2hjLlRBR19OQU1FPSJBZGFwdGF0aW9uU2V0IjtpYy5UQUdfTkFNRT0iUm9sZSI7amMuVEFHX05BTUU9IkFjY2Vzc2liaWxpdHkiO2tjLlRBR19OQU1FPSJDb250ZW50Q29tcG9uZW50IjtuYy5UQUdfTkFNRT0iUmVwcmVzZW50YXRpb24iO3BjLlRBR19OQU1FPSJDb250ZW50UHJvdGVjdGlvbiI7CnFjLlRBR19OQU1FPSJjZW5jOnBzc2giO3JjLlRBR19OQU1FPSJCYXNlVVJMIjtvYy5UQUdfTkFNRT0iQXVkaW9DaGFubmVsQ29uZmlndXJhdGlvbiI7c2MuVEFHX05BTUU9IkxvY2F0aW9uIjt0Yy5UQUdfTkFNRT0iU2VnbWVudEJhc2UiO3djLlRBR19OQU1FPSJSZXByZXNlbnRhdGlvbkluZGV4IjtsYy5UQUdfTkFNRT0iRkJJbml0aWFsaXphdGlvbkJpbmFyeSI7bWMuVEFHX05BTUU9IkZCU2VnbWVudEluZGV4QmluYXJ5Ijt4Yy5UQUdfTkFNRT0iSW5pdGlhbGl6YXRpb24iO3ljLlRBR19OQU1FPSJTZWdtZW50TGlzdCI7emMuVEFHX05BTUU9IlNlZ21lbnRVUkwiO0FjLlRBR19OQU1FPSJTZWdtZW50VGVtcGxhdGUiO0JjLlRBR19OQU1FPSJTZWdtZW50VGltZWxpbmUiO0NjLlRBR19OQU1FPSJTIjsKZmMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9YS5BYzt0aGlzLmlkPU4oYiwiaWQiLE8pO3RoaXMudHlwZT1OKGIsInR5cGUiLE8pfHwic3RhdGljIjt0aGlzLm1hbmlmZXN0SXNMaXZlU3RyZWFtaW5nPSJkeW5hbWljIj09PXRoaXMudHlwZTt0aGlzLkZCV2FzTGl2ZT1OKGIsIkZCV2FzTGl2ZSIsRWMpfHwhMTt0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPU4oYiwiRkJJc0xpdmVUZW1wbGF0ZWQiLEVjKXx8ITE7dGhpcy5GQk1hbmlmZXN0SWRlbnRpZmllcj1OKGIsIkZCTWFuaWZlc3RJZGVudGlmaWVyIixPKXx8IiI7dGhpcy5GQk1TPU4oYiwiRkJNUyIsRWMpfHwhMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm92ZXJyaWRlX2ZiX2lzX2xpdmVfdGVtcGxhdGVkIiwhMSkmJih0aGlzLkZCSXNMaXZlVGVtcGxhdGVkPSExKTt0aGlzLmI9TihiLCJtZWRpYVByZXNlbnRhdGlvbkR1cmF0aW9uIixGYyk7dGhpcy5tPU4oYiwibWluQnVmZmVyVGltZSIsCkZjLHRoaXMubSk7dGhpcy5nPU4oYiwibWluaW11bVVwZGF0ZVBlcmlvZCIsRmMsdGhpcy5nKTt0aGlzLmM9TihiLCJhdmFpbGFiaWxpdHlTdGFydFRpbWUiLEdjLHRoaXMuYyk7dGhpcy5mPU4oYiwidGltZVNoaWZ0QnVmZmVyRGVwdGgiLEZjLHRoaXMuZik7dGhpcy5jdXJyZW50U2VydmVyVGltZU1zPU4oYiwiY3VycmVudFNlcnZlclRpbWVNcyIsUCk7TihiLCJmaXJzdEF2VGltZU1zIixQKTt0aGlzLmxhc3RWaWRlb0ZyYW1lVHM9TihiLCJsYXN0VmlkZW9GcmFtZVRzIixQKTt0aGlzLmY9bnVsbDt0aGlzLm89TihiLCJzdWdnZXN0ZWRQcmVzZW50YXRpb25EZWxheSIsRmMsdGhpcy5vKTt0aGlzLmg9TihiLCJsb2FwU3RyZWFtVHlwZSIsSGMsdGhpcy5oKTt0aGlzLmk9TihiLCJ1c2luZ0FTUkNhcHRpb25zIixIYyx0aGlzLmkpO3RoaXMuaj1OKGIsImlzVXNpbmdBc3JDYXB0aW9uc0VtcGxveWVlRG9nZm9vZGluZyIsSGMsdGhpcy5qKTt2YXIgYz1hLmJhc2VVcmwsZD1JYyh0aGlzLApiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYyxkKTtpZihkPU0odGhpcyxiLHNjKSl0aGlzLnU9S2MoYyxkLnVybCk7dGhpcy5hPUljKHRoaXMsYixnYyl9O2Z1bmN0aW9uIExjKGEsYixjLGQpe2lmKDAhPT1hLmEubGVuZ3RoKXt2YXIgZT1uZXcgaGM7ZS5jb250ZW50VHlwZT0idGV4dCI7ZS5sYW5nPWN8fCJlbiI7ZS5mPSEwO2M9bmV3IG5jO2MuYmFuZHdpZHRoPTA7Yy5taW1lVHlwZT1kfHwidGV4dC92dHQiO2MuYmFzZVVybD1bbmV3IEwoYildO2UuYS5wdXNoKGMpO2EuYVswXS5hLnB1c2goZSk7TWMoYS5hWzBdKX19CmdjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5zdGFydD1OKGIsInN0YXJ0IixGYyk7dGhpcy5kdXJhdGlvbj1OKGIsImR1cmF0aW9uIixGYyk7dmFyIGM9SWModGhpcyxiLHJjKTt0aGlzLmJhc2VVcmw9SmMoYS5iYXNlVXJsLGMpO3RoaXMuYj1NKHRoaXMsYix0Yyk7dGhpcy5jPU0odGhpcyxiLHljKTt0aGlzLmY9TSh0aGlzLGIsQWMpO3RoaXMuYT1JYyh0aGlzLGIsaGMpO01jKHRoaXMpfTtmdW5jdGlvbiBNYyhhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPWEuYVtjXTtudWxsIT1kLmdyb3VwJiYoYltkLmdyb3VwXT0hMCl9Zm9yKGM9MDtjPGEuYS5sZW5ndGg7KytjKWlmKGQ9YS5hW2NdLG51bGw9PWQuZ3JvdXApe2Zvcih2YXIgZT0xOzE9PWJbZV07KSsrZTtiW2VdPSEwO2QuZ3JvdXA9ZX19CmhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU0odGhpcyxiLGtjKXx8e30sZD1NKHRoaXMsYixpYyk7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmdyb3VwPU4oYiwiZ3JvdXAiLFApO3RoaXMubGFuZz1OKGIsImxhbmciLE8sYy5sYW5nKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8sYy5jb250ZW50VHlwZSk7dGhpcy53aWR0aD1OKGIsIndpZHRoIixRKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPKTt0aGlzLmNvZGVjcz1OKGIsImNvZGVjcyIsTyk7dGhpcy5jPU4oYiwiRkJQcm9qZWN0aW9uIixPKTt0aGlzLmY9ZCYmIm1haW4iPT1kLnZhbHVlO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKTtjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTt0aGlzLmo9SWModGhpcyxiLHBjKTshdGhpcy5jb250ZW50VHlwZSYmdGhpcy5taW1lVHlwZSYmCih0aGlzLmNvbnRlbnRUeXBlPXRoaXMubWltZVR5cGUuc3BsaXQoIi8iKVswXSk7dGhpcy5nPWEuYj9PYyh0aGlzLGIsYS5iKTpNKHRoaXMsYix0Yyk7dGhpcy5oPWEuYz9PYyh0aGlzLGIsYS5jKTpNKHRoaXMsYix5Yyk7dGhpcy5pPWEuZj9PYyh0aGlzLGIsYS5mKTpNKHRoaXMsYixBYyk7dGhpcy5hPUljKHRoaXMsYixuYyk7dGhpcy5iPU0odGhpcyxiLGpjKTshdGhpcy5taW1lVHlwZSYmdGhpcy5hLmxlbmd0aCYmKHRoaXMubWltZVR5cGU9dGhpcy5hWzBdLm1pbWVUeXBlLCF0aGlzLmNvbnRlbnRUeXBlJiZ0aGlzLm1pbWVUeXBlJiYodGhpcy5jb250ZW50VHlwZT10aGlzLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0pKX07aWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy52YWx1ZT1OKGIsInZhbHVlIixPKX07amMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5hPU4oYiwic2NoZW1lSWRVcmkiLE8pO3RoaXMubGFuZz1OKGIsImxhbmciLE8pfTsKa2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5pZD1OKGIsImlkIixPKTt0aGlzLmxhbmc9TihiLCJsYW5nIixPKTt0aGlzLmNvbnRlbnRUeXBlPU4oYiwiY29udGVudFR5cGUiLE8pO3RoaXMubGFuZyYmKHRoaXMubGFuZz1TYSh0aGlzLmxhbmcpKX07Cm5jLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuaWQ9TihiLCJpZCIsTyk7dGhpcy5iYW5kd2lkdGg9TihiLCJiYW5kd2lkdGgiLFEpO3RoaXMud2lkdGg9TihiLCJ3aWR0aCIsUSxhLndpZHRoKTt0aGlzLmhlaWdodD1OKGIsImhlaWdodCIsUSxhLmhlaWdodCk7dGhpcy5taW1lVHlwZT1OKGIsIm1pbWVUeXBlIixPLGEubWltZVR5cGUpO3RoaXMuY29kZWNzPU4oYiwiY29kZWNzIixPLGEuY29kZWNzKTt0aGlzLmZiUXVhbGl0eUxhYmVsPU4oYiwiRkJRdWFsaXR5TGFiZWwiLE8pO3RoaXMuZmJRdWFsaXR5Q2xhc3M9TihiLCJGQlF1YWxpdHlDbGFzcyIsTyk7dGhpcy5tPU4oYiwiRkJBYnJQb2xpY3lUYWdzIixPKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm1wZF9wYXJzZV9tb3NfYXR0cmlidXRlcyIsITEpJiYodGhpcy5vPU4oYiwiRkJQbGF5YmFja1Jlc29sdXRpb25Nb3MiLE1vc1V0aWxzLnBhcnNlUGxheWJhY2tNb3MpLHRoaXMudT1OKGIsCiJGQlBsYXliYWNrUmVzb2x1dGlvbk1vc0NvbmZpZGVuY2VMZXZlbCIsTykpO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgibXBkX3BhcnNlX2ZyYW1lX2FuZF9hdWRpb19zYW1wbGluZ19yYXRlIiwhMSkmJih0aGlzLmZyYW1lUmF0ZT1OKGIsImZyYW1lUmF0ZSIsTyksdGhpcy5qPU4oYiwiYXVkaW9TYW1wbGluZ1JhdGUiLFEpKTt0aGlzLmxhbmc9YS5sYW5nO3ZhciBjPUljKHRoaXMsYixyYyk7dGhpcy5iYXNlVXJsPUpjKGEuYmFzZVVybCxjKTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwhMSkmJih0aGlzLmc9TSh0aGlzLGIsbGMpLHRoaXMuaD1NKHRoaXMsYixtYykpO3RoaXMuYz1JYyh0aGlzLGIscGMpO3RoaXMuaT1NKHRoaXMsYixvYyk7dGhpcy5mPWEuZz9PYyh0aGlzLGIsYS5nKTpNKHRoaXMsYix0Yyk7dGhpcy5iPWEuaD9PYyh0aGlzLGIsYS5oKTpNKHRoaXMsYiwKeWMpO3RoaXMuYT1hLmk/T2ModGhpcyxiLGEuaSk6TSh0aGlzLGIsQWMpO3RoaXMuYz10aGlzLmMuY29uY2F0KGEuail9O2xjLnByb3RvdHlwZS5wYXJzZT1tYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXtpZihiJiZiLmZpcnN0Q2hpbGQpe3ZhciBjPVBjKGIpO251bGwhPWMmJih0aGlzLmRhdGE9S2IoYykuYnVmZmVyKX19O3BjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYz1iO3RoaXMuZj1OKGIsInNjaGVtZUlkVXJpIixPKTt2YXIgYz1OKGIsImNlbmM6ZGVmYXVsdF9LSUQiLE8pO2MmJih0aGlzLmI9Yy5yZXBsYWNlKC9bLV0vZywiIikpO3RoaXMuYT1NKHRoaXMsYixxYyl9OwpxYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1QYyhiKTtpZihjKXt0aGlzLnBzc2hCb3g9S2IoYyk7dHJ5e3RoaXMucGFyc2VkUHNzaD1uZXcgUWIodGhpcy5wc3NoQm94KX1jYXRjaChkKXtpZighKGQgaW5zdGFuY2VvZiBSYW5nZUVycm9yKSl0aHJvdyBkO319fTtyYy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1iLmNoaWxkTm9kZXMsZD0iIjtpZigxPT1jLmxlbmd0aClkPVBjKGIpO2Vsc2UgZm9yKHZhciBlPTA7ZTxjLmxlbmd0aDtlKyspY1tlXS5ub2RlVHlwZT09Tm9kZS5URVhUX05PREUmJihkKz1jW2VdLm5vZGVWYWx1ZSk7dGhpcy51cmw9ZH07c2MucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy51cmw9UGMoYil9Owp0Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt0aGlzLmJhc2VVcmw9YS5iYXNlVXJsfHx0aGlzLmJhc2VVcmw7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuYT1OKGIsImluZGV4UmFuZ2UiLFFjLHRoaXMuYSk7dGhpcy5mPU4oYiwiRkJGaXJzdFNlZ21lbnRSYW5nZSIsUWMsdGhpcy5mKTt0aGlzLmI9TSh0aGlzLGIsd2MpfHx0aGlzLmI7dGhpcy5jPU0odGhpcyxiLHhjKXx8dGhpcy5jfTt3Yy5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiKXt2YXIgYz1OKGIsInNvdXJjZVVSTCIsTyk7dGhpcy51cmw9S2MoYS5iYXNlVXJsLGMpO3RoaXMuYT1OKGIsInJhbmdlIixRYyx2YyhhLmEpKX07CnhjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwic291cmNlVVJMIixPKTt0aGlzLnVybD1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwicmFuZ2UiLFFjKX07CnljLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYmFzZVVybD1hLmJhc2VVcmx8fHRoaXMuYmFzZVVybDt0aGlzLnM9TihiLCJ0aW1lc2NhbGUiLFEsdGhpcy5zKTt0aGlzLkw9TihiLCJwcmVzZW50YXRpb25UaW1lT2Zmc2V0IixQLHRoaXMuTCk7dGhpcy5IPU4oYiwiZHVyYXRpb24iLFEsdGhpcy5IKTt2YXIgYz1OKGIsInN0YXJ0TnVtYmVyIixRKTtudWxsIT1jJiYodGhpcy5jPWMpO3RoaXMuYj1NKHRoaXMsYix4Yyl8fHRoaXMuYjt0aGlzLmE9KGM9SWModGhpcyxiLHpjKSkmJjA8Yy5sZW5ndGg/Yzp0aGlzLmE7dGhpcy5DPU0odGhpcyxiLEJjKXx8dGhpcy5DO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiY2FsY3VsYXRlX3F1aWNrX2Rhc2hfcHJlc2VudGF0aW9uX3RpbWVfb2Zmc2V0X2Zyb21fdGltZWxpbmUiLCExKSYmKGM9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXROdW1iZXIoImNhbGN1bGF0ZV9xdWlja19kYXNoX3ByZXNlbnRhdGlvbl90aW1lX29mZnNldF9lcHNpbG9uX21zIiwKMjUwKSx0aGlzLkMmJnRoaXMuQy5OWzBdJiYodGhpcy5MPTFFMzx0aGlzLkMuTlswXS5zdGFydFRpbWU/dGhpcy5DLk5bMF0uc3RhcnRUaW1lLWM6dGhpcy5MKSl9O3pjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3ZhciBjPU4oYiwibWVkaWEiLE8pO3RoaXMuYj1LYyhhLmJhc2VVcmwsYyk7dGhpcy5hPU4oYiwibWVkaWFSYW5nZSIsUWMpfTsKQWMucHJvdG90eXBlLnBhcnNlPWZ1bmN0aW9uKGEsYil7dGhpcy5zPU4oYiwidGltZXNjYWxlIixRLHRoaXMucyk7dGhpcy5MPU4oYiwicHJlc2VudGF0aW9uVGltZU9mZnNldCIsUCx0aGlzLkwpO3RoaXMuSD1OKGIsImR1cmF0aW9uIixRLHRoaXMuSCk7dmFyIGM9TihiLCJzdGFydE51bWJlciIsUCk7bnVsbCE9YyYmKHRoaXMuYj1jKTt0aGlzLmY9TihiLCJtZWRpYSIsTyx0aGlzLmYpO3RoaXMuYT1OKGIsImluZGV4IixPLHRoaXMuYSk7dGhpcy5jPU4oYiwiaW5pdGlhbGl6YXRpb24iLE8sdGhpcy5jKTt0aGlzLkM9TSh0aGlzLGIsQmMpfHx0aGlzLkN9O0JjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuYT1OKGIsIkZCUHJlZGljdGVkTWVkaWEiLE8sdGhpcy5hKTt0aGlzLmI9TihiLCJGQlByZWRpY3RlZE1lZGlhRW5kTnVtYmVyIixRKTt0aGlzLk49SWModGhpcyxiLENjKX07CkNjLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIpe3RoaXMuc3RhcnRUaW1lPU4oYiwidCIsUCk7dGhpcy5kdXJhdGlvbj1OKGIsImQiLFApO3RoaXMucmVwZWF0PU4oYiwiciIsSGMpfTtmdW5jdGlvbiBKYyhhLGIpe2lmKCFifHwwPT09Yi5sZW5ndGgpcmV0dXJuIGE7Zm9yKHZhciBjPVtdLGQ9MDtkPGIubGVuZ3RoO2QrKyl7dmFyIGU9YltkXS51cmw7bnVsbD09YXx8MD09PWEubGVuZ3RoP2MucHVzaChuZXcgTChlKSk6KGU9S2MoYS5zbGljZSgwLDEpLGUpLGMucHVzaChlWzBdKSl9cmV0dXJuIGN9ZnVuY3Rpb24gS2MoYSxiKXtpZighYilyZXR1cm4gYTt2YXIgYz1uZXcgTChiKTtyZXR1cm4gYT9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGMpfSk6W2NdfWZ1bmN0aW9uIE9jKGEsYixjKXt2YXIgZD12YyhjKTsoYj1SYyhiLGMuY29uc3RydWN0b3IuVEFHX05BTUUpKSYmZC5wYXJzZShhLGIpO3JldHVybiBkfQpmdW5jdGlvbiBNKGEsYixjKXt2YXIgZD1udWxsO2lmKGI9UmMoYixjLlRBR19OQU1FKSlkPW5ldyBjLGQucGFyc2UoYSxiKTtyZXR1cm4gZH1mdW5jdGlvbiBSYyhhLGIpe2Zvcih2YXIgYz1udWxsLGQ9MDtkPGEuY2hpbGROb2Rlcy5sZW5ndGg7ZCsrKWlmKGEuY2hpbGROb2Rlc1tkXS50YWdOYW1lPT1iKXtpZihjKXJldHVybiBudWxsO2M9YS5jaGlsZE5vZGVzW2RdfXJldHVybiBjfWZ1bmN0aW9uIEljKGEsYixjKXtmb3IodmFyIGQ9W10sZT0wO2U8Yi5jaGlsZE5vZGVzLmxlbmd0aDtlKyspaWYoYi5jaGlsZE5vZGVzW2VdLnRhZ05hbWU9PWMuVEFHX05BTUUpe3ZhciBmPW5ldyBjO2YucGFyc2UuY2FsbChmLGEsYi5jaGlsZE5vZGVzW2VdKTtkLnB1c2goZil9cmV0dXJuIGR9ZnVuY3Rpb24gUGMoYSl7YT1hLmZpcnN0Q2hpbGQ7cmV0dXJuIGEubm9kZVR5cGUhPU5vZGUuVEVYVF9OT0RFP251bGw6YS5ub2RlVmFsdWV9CmZ1bmN0aW9uIHVjKGEpe3JldHVybiBhP2EubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmNsb25lKCl9KTpudWxsfWZ1bmN0aW9uIHZjKGEpe3JldHVybiBhP2EuY2xvbmUoKTpudWxsfWZ1bmN0aW9uIE4oYSxiLGMsZCl7YT1hLmhhc0F0dHJpYnV0ZShiKT9jKGEuZ2V0QXR0cmlidXRlKGIpKTpudWxsO3JldHVybiBudWxsIT1hP2E6dm9pZCAwIT09ZD9kOm51bGx9ZnVuY3Rpb24gR2MoYSl7aWYoIWEpcmV0dXJuIG51bGw7YT1EYXRlLnBhcnNlKGEpO3JldHVybiBpc05hTihhKT9udWxsOk1hdGguZmxvb3IoYS8xRTMpfQpmdW5jdGlvbiBGYyhhKXtpZighYSlyZXR1cm4gbnVsbDt2YXIgYj0vXlAoPzooWzAtOV0qKVkpPyg/OihbMC05XSopTSk/KD86KFswLTldKilEKT8oPzpUKD86KFswLTldKilIKT8oPzooWzAtOV0qKU0pPyg/OihbMC05Ll0qKVMpPyk/JC8uZXhlYyhhKTtpZighYilyZXR1cm4gbnVsbDthPTA7dmFyIGM9UChiWzFdKTtjJiYoYSs9MzE1MzZFMypjKTsoYz1QKGJbMl0pKSYmKGErPTI1OTJFMypjKTsoYz1QKGJbM10pKSYmKGErPTg2NDAwKmMpOyhjPVAoYls0XSkpJiYoYSs9MzYwMCpjKTsoYz1QKGJbNV0pKSYmKGErPTYwKmMpO2I9d2luZG93LnBhcnNlRmxvYXQoYls2XSk7KGI9aXNOYU4oYik/bnVsbDpiKSYmKGErPWIpO3JldHVybiBhfQpmdW5jdGlvbiBRYyhhKXt2YXIgYj0vKFswLTldKyktKFswLTldKykvLmV4ZWMoYSk7aWYoIWIpcmV0dXJuIG51bGw7YT1QKGJbMV0pO2lmKG51bGw9PWEpcmV0dXJuIG51bGw7Yj1QKGJbMl0pO3JldHVybiBudWxsPT1iP251bGw6bmV3IERjKGEsYil9ZnVuY3Rpb24gSGMoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIGlzTmFOKGEpP251bGw6YX1mdW5jdGlvbiBRKGEpe2E9d2luZG93LnBhcnNlSW50KGEsMTApO3JldHVybiAwPGE/YTpudWxsfWZ1bmN0aW9uIFAoYSl7YT13aW5kb3cucGFyc2VJbnQoYSwxMCk7cmV0dXJuIDA8PWE/YTpudWxsfWZ1bmN0aW9uIEVjKGEpe3N3aXRjaChhLnRvTG93ZXJDYXNlKCkpe2Nhc2UgInRydWUiOnJldHVybiEwO2Nhc2UgImZhbHNlIjpyZXR1cm4hMTtkZWZhdWx0OnJldHVybiBudWxsfX1mdW5jdGlvbiBPKGEpe3JldHVybiBhfTtmdW5jdGlvbiBTYyhhLGIpe3RoaXMudXJsPWE7dGhpcy5iPWJ8fG5ldyB0Yjt0aGlzLmo9MDt0aGlzLmc9LTE7dGhpcy5oPXRoaXMuaT0wO3RoaXMuYT1udWxsO3RoaXMuYz1uZXcgSTt0aGlzLmY9bnVsbDt0aGlzLm89dGhpcy5iLmk7dGhpcy5sPXRoaXMuYi5tfXEoInNoYWthLnV0aWwuQWpheFJlcXVlc3QiLFNjKTsKZnVuY3Rpb24gdGIoKXt0aGlzLmJvZHk9bnVsbDt0aGlzLk5hPTE7dGhpcy5jPTFFMzt0aGlzLmI9MDt0aGlzLm1ldGhvZD0iR0VUIjt0aGlzLnJlc3BvbnNlVHlwZT0iYXJyYXlidWZmZXIiO3RoaXMuUWE9e307dGhpcy5nPXRoaXMud2l0aENyZWRlbnRpYWxzPSExO3RoaXMuZGE9dGhpcy5hPXRoaXMudT1udWxsO3RoaXMuaj0hMTt0aGlzLmg9dGhpcy5tPXRoaXMuaT10aGlzLm1pbWVUeXBlPW51bGw7dGhpcy5vPSExO3RoaXMudz0vKC4qKVwuKHh4fGZuYSlcLmZiY2RuXC5uZXQvO3RoaXMuZj0vbGl2ZXN0cmVhbS1sb29rYXNpZGVcLihmYWNlYm9va3x3b3JrcGxhY2UpXC5jb20kL312YXIgVGM9ITA7ZnVuY3Rpb24gVWMoYSl7VmMoYSk7V2MoYSk7YS5iLmJvZHk9bnVsbDthLmMuZGVzdHJveSgpO2EuYz1udWxsO2EuZj1udWxsfQpmdW5jdGlvbiBXYyhhKXthLmEmJihhLmEub25sb2FkPW51bGwsYS5hLm9ucmVhZHlzdGF0ZWNoYW5nZT1udWxsLGEuYS5vbmVycm9yPW51bGwsYS5hLm9udGltZW91dD1udWxsKTthLmE9bnVsbH1mdW5jdGlvbiBWYyhhKXstMSE9PWEuZyYmKGNsZWFyVGltZW91dChhLmcpLGEuZz0tMSl9ClNjLnByb3RvdHlwZS5tPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiB0aGlzLmM7aWYoMD09dGhpcy51cmwubGFzdEluZGV4T2YoImRhdGE6IiwwKSl7dmFyIGE9dGhpcy51cmwuc3BsaXQoIjoiKVsxXS5zcGxpdCgiOyIpLnBvcCgpLnNwbGl0KCIsIiksYj1hLnBvcCgpLGI9ImJhc2U2NCI9PWEucG9wKCk/d2luZG93LmF0b2IoYi5yZXBsYWNlKC8tL2csIisiKS5yZXBsYWNlKC9fL2csIi8iKSk6d2luZG93LmRlY29kZVVSSUNvbXBvbmVudChiKTsiYXJyYXlidWZmZXIiPT10aGlzLmIucmVzcG9uc2VUeXBlJiYoYj1KYihiKS5idWZmZXIpO2E9SlNPTi5wYXJzZShKU09OLnN0cmluZ2lmeShuZXcgWE1MSHR0cFJlcXVlc3QpKTthLnJlc3BvbnNlPWI7YS5yZXNwb25zZVRleHQ9Yi50b1N0cmluZygpO2I9dGhpcy5jO2IucmVzb2x2ZShhKTtVYyh0aGlzKTtyZXR1cm4gYn1pZigwPT10aGlzLnVybC5sYXN0SW5kZXhPZigiaWRiOiIsMCkpcmV0dXJuIHRoaXMudSgpO3RoaXMuaisrOwp0aGlzLmk9cGVyZm9ybWFuY2VOb3coKTt0aGlzLmh8fCh0aGlzLmg9dGhpcy5iLmMpO3RoaXMuYT1uZXcgWE1MSHR0cFJlcXVlc3Q7dmFyIGM9dGhpcy51cmwsYT1uZXcgTChjKTtUYyYmKHRoaXMuZiYmIXRoaXMuZi5zdXBwb3J0c0NhY2hpbmcoKXx8dGhpcy5iLmcpJiZkYyhhLmEsIl8iLERhdGUubm93KCkpO2M9dGhpcy5iLncudGVzdChjKTtpZihudWxsIT10aGlzLmIuYSYmYyl7dmFyIGQ9dGhpcy5iLmEsZT1hLmE7bnVsbCE9ZC5hJiYoZC5oPWQuYS5nZXRTZWdtZW50c1RvUHVzaCgpLGQuZj1kLmEuZ2V0U2VnbWVudFN0YXJ0VGltZSgpLGQuZz1kLmEuZ2V0U2VnbWVudE9mZnNldCgpLGQuYz1kLmEuZ2V0UHVzaFZpZGVvUmVwcmVzZW50YXRpb25JRCgpLGQuYj1kLmEuZ2V0UHVzaEF1ZGlvUmVwcmVzZW50YXRpb25JRCgpLGQuaj1kLmEuZ2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QoKSk7bnVsbCE9ZC5oJiZkYyhlLCJfbmNfcF9uIixkLmgpO251bGwhPWQuZj9kYyhlLCJfbmNfcF90cyIsCmQuZik6bnVsbCE9ZC5nJiZkYyhlLCJfbmNfcF9vIixkLmcpO251bGwhPWQuYyYmbnVsbCE9ZC5iJiYoZGMoZSwiX25jX3BfcmlkIixkLmMpLGRjKGUsIl9uY19wX2FyaWQiLGQuYikpO2QuaSYmZGMoZSwiX25jX3BfZGJnIiwiMSIpO2QuaiYmZGMoZSwiX25jX25jIiwiMSIpfTE9PXRoaXMuYi5qJiZjJiZkYyhhLmEsIl9uY19wbGF5aW5nIiwxKTt0aGlzLmIubyYmZGMoYS5hLCJfbmNfc2MiLDEpO2M9YS50b1N0cmluZygpO2E9dGhpcy5iLmYudGVzdChhLmhhKTt0aGlzLmEub3Blbih0aGlzLmIubWV0aG9kLGMsITApO3RoaXMuYS5yZXNwb25zZVR5cGU9dGhpcy5iLnJlc3BvbnNlVHlwZTt0aGlzLmEudGltZW91dD10aGlzLmIuYjt0aGlzLmEud2l0aENyZWRlbnRpYWxzPXRoaXMuYi53aXRoQ3JlZGVudGlhbHN8fGE7c2V0RXZlbnRQcm9wZXJ0eSh0aGlzLmEsIm9ubG9hZCIsdGhpcy5mZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25yZWFkeXN0YXRlY2hhbmdlIiwKdGhpcy5sZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib25lcnJvciIsdGhpcy5kZC5iaW5kKHRoaXMpKTtzZXRFdmVudFByb3BlcnR5KHRoaXMuYSwib250aW1lb3V0Iix0aGlzLnFkLmJpbmQodGhpcykpO3NldEV2ZW50UHJvcGVydHkodGhpcy5hLCJvbmFib3J0Iix0aGlzLiRjLmJpbmQodGhpcykpO2ZvcihiIGluIHRoaXMuYi5RYSl0aGlzLmEuc2V0UmVxdWVzdEhlYWRlcihiLHRoaXMuYi5RYVtiXSk7dGhpcy5hLnNlbmQodGhpcy5iLmJvZHkpO3JldHVybiB0aGlzLmN9O1NjLnByb3RvdHlwZS5zZW5kPVNjLnByb3RvdHlwZS5tOwpmdW5jdGlvbiBYYyhhLGIsYyl7Yj1FcnJvcihiKTtiLnR5cGU9YztiLnN0YXR1cz1hLmEuc3RhdHVzO2IudXJsPWEudXJsO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZW5hYmxlX2RvdWJsZV9pbmdlc3QiLCExKSYmKGIucmVzcG9uc2VIZWFkZXJzPXBhcnNlSGVhZGVycyhhLmEuZ2V0QWxsUmVzcG9uc2VIZWFkZXJzKCkpKTtiLm1ldGhvZD1hLmIubWV0aG9kO2IuYm9keT1hLmIuYm9keTtyZXR1cm4gYn1uPVNjLnByb3RvdHlwZTtuLmFib3J0PWZ1bmN0aW9uKCl7VmModGhpcyk7aWYodGhpcy5hJiZ0aGlzLmEucmVhZHlTdGF0ZSE9WE1MSHR0cFJlcXVlc3QuRE9ORSYmKHRoaXMuYS5hYm9ydCgpLCFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKSl7dmFyIGE9WGModGhpcywiUmVxdWVzdCBhYm9ydGVkLiIsImFib3J0ZWQiKTt0aGlzLmMucmVqZWN0KGEpO1VjKHRoaXMpfX07Cm4uJGM9ZnVuY3Rpb24oKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9zaGFrYV91dGlsX2FqYXhfcmVxdWVzdF9hYm9ydCIsITApKXt2YXIgYT1YYyh0aGlzLCJSZXF1ZXN0IGFib3J0ZWQuIiwiYWJvcnRlZCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTsKbi5mZD1mdW5jdGlvbihhKXtpZih0aGlzLmYpe3ZhciBiPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHRoaXMudXJsLHRoaXMuaSxwZXJmb3JtYW5jZU5vdygpKTt0aGlzLmYuc2FtcGxlKHBlcmZvcm1hbmNlTm93KCktdGhpcy5pLGEubG9hZGVkfHx0aGlzLmEucmVzcG9uc2UmJnRoaXMuYS5yZXNwb25zZS5ieXRlTGVuZ3RofHwwLHRoaXMuYi5taW1lVHlwZT8idiI9PT10aGlzLmIubWltZVR5cGUuY2hhckF0KDApOiExLGIsdGhpcy5vLHRoaXMubCxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImV2YWx1YXRlX2Ficl9vbl9mZXRjaF9lbmQiLCExKSl9YT1bNDAzXTsyMDA8PXRoaXMuYS5zdGF0dXMmJjI5OT49dGhpcy5hLnN0YXR1cz8oVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJlbmFibGVfZG91YmxlX2luZ2VzdCIsITEpJiZudWxsIT1wYXJzZUhlYWRlcnModGhpcy5hLmdldEFsbFJlc3BvbnNlSGVhZGVycygpKVsieC1mYi12aWRlby1yZXBsaWNhIl0/CihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSk6dGhpcy5jLnJlc29sdmUodGhpcy5hKSxVYyh0aGlzKSk6IVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgicmVtb3ZlX2FqYXhfcmVzZW5kX2ludGVybmFsIiwhMCkmJnRoaXMuajx0aGlzLmIuTmEmJi0xPT09YS5pbmRleE9mKHRoaXMuYS5zdGF0dXMpP1ljKHRoaXMpOihhPVhjKHRoaXMsIkhUVFAgZXJyb3IuIiwibmV0IiksdGhpcy5jLnJlamVjdChhKSxVYyh0aGlzKSl9OwpuLmxkPWZ1bmN0aW9uKCl7aWYodGhpcy5hLnJlYWR5U3RhdGU9PVhNTEh0dHBSZXF1ZXN0LkhFQURFUlNfUkVDRUlWRUQmJih0aGlzLmEuJGE9RGF0ZS5ub3coKS10aGlzLmksdGhpcy5iLmEmJnRoaXMuYi5kYSYmdGhpcy5iLmRhLmFkZFB1c2hEYXRhRnJvbVhIUih0aGlzLmEpLHRoaXMuYi5oJiZ0aGlzLmIuaC5oYW5kbGVYSFIodGhpcy5hKSxWaWRlb0NsaWVudEVkZ2VDb29wZXJhdGlvbi51cGRhdGVGcm9tWEhSKHRoaXMuYSksdGhpcy5iLmcpKXt2YXIgYT1EYXRlLnBhcnNlKHRoaXMuYS5nZXRSZXNwb25zZUhlYWRlcigiRGF0ZSIpKTthJiYoemE9YS1EYXRlLm5vdygpKX19O24uZGQ9ZnVuY3Rpb24oKXt2YXIgYT1YYyh0aGlzLCJOZXR3b3JrIGZhaWx1cmUuIiwibmV0Iik7dGhpcy5jLnJlamVjdChhKTtVYyh0aGlzKX07Cm4ucWQ9ZnVuY3Rpb24oKXtpZighVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZW1vdmVfYWpheF9yZXNlbmRfaW50ZXJuYWwiLCEwKSYmdGhpcy5qPHRoaXMuYi5OYSlZYyh0aGlzKTtlbHNle3ZhciBhPVhjKHRoaXMsIlJlcXVlc3QgdGltZWQgb3V0LiIsIm5ldCIpO3RoaXMuYy5yZWplY3QoYSk7VWModGhpcyl9fTtmdW5jdGlvbiBZYyhhKXtXYyhhKTthLmc9c2V0VGltZW91dChmdW5jdGlvbigpe3RoaXMuZz0tMTt0aGlzLm0oKX0uYmluZChhKSxhLmgqKDErLjUqKDIqTWF0aC5yYW5kb20oKS0xKSkpO2EuaCo9Mn07ZnVuY3Rpb24gSyhhLGIsYyxkLGUsZil7dGhpcy5jPWI7dGhpcy5zdGFydEJ5dGU9Y3x8MDt0aGlzLmJhc2VVcmw9dGhpcy50b1N0cmluZygpO3RoaXMuZW5kQnl0ZT1udWxsIT1kP2Q6bnVsbDt0aGlzLmlzUHJlZGljdGl2ZT1lfHwhMTt0aGlzLmY9bnVsbDt0aGlzLm09MDt0aGlzLkE9ITE7dGhpcy5OYz10aGlzLmc9bnVsbDt0aGlzLm89YTt0aGlzLmk9bnVsbDt0aGlzLmo9dGhpcy51PSExO3RoaXMuYj10aGlzLmE9bnVsbDt0aGlzLmg9Znx8bnVsbH1xKCJzaGFrYS51dGlsLkZhaWxvdmVyVXJpIixLKTtLLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEpe3RoaXMuQT1hfTtLLnByb3RvdHlwZS5zZXRTaG91bGRSZWFkWEZiVmlkZW9Ccm9hZGNhc3RFbmRlZEhlYWRlcj1LLnByb3RvdHlwZS53O0sucHJvdG90eXBlLkQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5tfTtLLnByb3RvdHlwZS5nZXRGYlZpZGVvQnJvYWRjYXN0RW5kZWRSZXNwb25zZUhlYWRlcj1LLnByb3RvdHlwZS5EOwpLLnByb3RvdHlwZS5GPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuc3RhcnRCeXRlfTtLLnByb3RvdHlwZS5nZXRTdGFydEJ5dGU9Sy5wcm90b3R5cGUuRjtLLnByb3RvdHlwZS5CPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZW5kQnl0ZX07Sy5wcm90b3R5cGUuZ2V0RW5kQnl0ZT1LLnByb3RvdHlwZS5CO2Z1bmN0aW9uIFpjKGEsYil7cmV0dXJuIGEmJjAhPT1hLmxlbmd0aD9hLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5yZXNvbHZlKGIpfSk6W2JdfW49Sy5wcm90b3R5cGU7bi5mZXRjaD1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgpe3JldHVybiB0aGlzLmY/dGhpcy5mOnRoaXMuZj0kYyh0aGlzLDAsYXx8bmV3IHRiLGIsYyxkLGUsZixnLGgpfTtuLnN0cmVhbT1mdW5jdGlvbihhLGIsYyxkLGUsZixnLGgsayl7cmV0dXJuIGFkKHRoaXMsMCxhfHxuZXcgdGIsYixjLGQsZSxmLGcsaCxrKX07CmZ1bmN0aW9uICRjKGEsYixjLGQsZSxmLGcsaCxrLGwpe3JldHVybiBhZChhLGIsYyxkLGUsZixnLGgsayxsKS50aGVuKGZ1bmN0aW9uKGEpe3ZhciBiLGM9ZnVuY3Rpb24oKXtyZXR1cm4gYS5yZWFkKCkudGhlbihmdW5jdGlvbihhKXt2YXIgZD1hLnZhbHVlO2lmKGEuZG9uZSlyZXR1cm4gYnx8bmV3IEFycmF5QnVmZmVyKDApO2QmJigic3RyaW5nIj09PXR5cGVvZiBkP2I9KGJ8fCIiKStkOmI9Y29uY2F0QXJyYXlCdWZmZXIoYnx8bmV3IEFycmF5QnVmZmVyKDApLGQpKTtyZXR1cm4gYygpfS5iaW5kKHRoaXMpKX0uYmluZCh0aGlzKTtyZXR1cm4gYygpfSl9Cm4uS2E9ZnVuY3Rpb24oKXt0aGlzLmcmJih0aGlzLmE9dGhpcy5mPW51bGwsdGhpcy5nLmFib3J0KCksdGhpcy5pPXRoaXMuZz1udWxsKTt0aGlzLk5jJiZWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImVuYWJsZV9wMnBfc3VwcG9ydCIsITEpJiYodGhpcy5HLmFib3J0KCksdGhpcy5HPW51bGwpO3RoaXMuYiYmKHRoaXMuYi5hYm9ydFJlcXVlc3QoYmQodGhpcykpLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJih0aGlzLmI9bnVsbCkpfTsKZnVuY3Rpb24gYWQoYSxiLGMsZCxlLGYsZyxoLGssbCxtKXthLmI9bHx8bnVsbDt2YXIgcDtlJiYoYy5hJiYoYy5hLmk9ITApLGw9MCxjLmRhJiYobD1jLmRhLmdldFB1c2hDb3VudEZvclVybChhLmNbYl0udG9TdHJpbmcoKSkpLChwPWUuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJyZXF1ZXN0IikpJiZwLnNldFJlYXNvbihrfHxudWxsKS5zZXRQdXNoZWQobCkuc2V0VHlwZShofHxudWxsKS5zZXRJbml0aWF0b3IoInNoYWthIikuc3RhcnQoKSxmJiYocD1wLnNldFBhcmVudExvZ2dlcihmKSkpO3ZhciB0PXBlcmZvcm1hbmNlTm93KCk7YS5hPW51bGw7ZyYmKGMuaT1nKTtlJiYoYy5tPWUpO3ZhciB3PWNkKGEsYS5jW2JdLGMpO2s9bnVsbDthLmo9ITE7dmFyIHo9VmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDYWNoZVZhbHVlKHcpO3omJihrPXosYS5qPSEwLHAmJihwLnNldENvbm5lY3Rpb25RdWFsaXR5TGV2ZWwoVmlkZW9EYXNoUHJlZmV0Y2hDYWNoZS5nZXRDb25uZWN0aW9uUXVhbGl0eUxldmVsKHcpKSwKcC5zZXRJbml0aWF0b3IoInByZWZldGNoIikpKTtpZigheiYmbSlyZXR1cm4gbS5nZXRTdHJlYW0oYmQoYSkpLnRoZW4oZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ2V0UmVhZGVyKCl9LmJpbmQoYSkpO209bnVsbDtpZihhLmImJiFhLmIuaXNEaXNhYmxlZCgpJiYhayl0cnl7KGs9bT1hLmIuZ2V0UHJvbWlzZShiZChhKSkpP3A9bnVsbDphLmIuZGlzYWJsZSgpfWNhdGNoKEgpe2UmJmUuZ2V0RXZlbnRMb2dnZXIoInJlcXVlc3RfaW5mb19ub3RfZm91bmQiKS5zZXRSZXNvdXJjZSh3KS5sb2coKX0hayYmYS5oJiZhLmguY3JlYXRlUHJvbWlzZSYmKG09bmV3IEwodyksbT1jLmYudGVzdChtLmhhKSxrPWEuaC5jcmVhdGVQcm9taXNlKHt1cmw6dyxyZXNwb25zZVR5cGU6Yy5yZXNwb25zZVR5cGUsT2Q6Yy5jLEtkOjIsTmE6Yy5OYSx3aXRoQ3JlZGVudGlhbHM6Yy53aXRoQ3JlZGVudGlhbHN8fG0sUWE6Yy5RYX0sZnVuY3Rpb24oYSl7dGhpcy5OYz1hO3ZhciBiPXBlcmZvcm1hbmNlTm93KCk7CmEub25sb2FkPWZ1bmN0aW9uKGYpe2lmKGQpe3ZhciBoPVZpZGVvUGxheWVyUmVzb3VyY2VUaW1lci5nZXRSZXNvdXJjZVRpbWluZ0VudHJ5KHcsYixwZXJmb3JtYW5jZU5vdygpKTtkLnNhbXBsZShwZXJmb3JtYW5jZU5vdygpLWIsZi5sb2FkZWR8fGEucmVzcG9uc2UmJmEucmVzcG9uc2UuYnl0ZUxlbmd0aHx8MCxjLm1pbWVUeXBlPyJ2Ij09PWMubWltZVR5cGUuY2hhckF0KDApOiExLGgsZyxlLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX2ZldGNoX2VuZCIsITEpKX19fSkpO2t8fChhLmc9bmV3IFNjKHcsYyksYS5tPTAsZCYmKGEuZy5mPWQpLGs9YS5nLm0oKSk7cCYmcC5zZXRSZXNvdXJjZSh3KTtmJiZmLnNldFJlc291cmNlKHcpO3ZhciBkYT0hMSxlYT1rLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3ZhciBjPXRoaXMuaD90aGlzLmgub25SZXF1ZXN0U2VuZDpudWxsOyFjfHwidmlkZW8iIT1oJiYiYXVkaW8iIT1oJiYibWFuaWZlc3QiIT0KaHx8YyghMCxoLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCk7IXRoaXMuYnx8dGhpcy5iLmlzRGlzYWJsZWQoKXx8dGhpcy5hP3RoaXMuYXx8KHRoaXMuYT1WaWRlb1BsYXllclJlc291cmNlVGltZXIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3LHRoaXMuaj8wOnQscGVyZm9ybWFuY2VOb3coKSkpOnRoaXMuYT10aGlzLmIuZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeSh3KTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInNhbXBsZV9wcmVmZXRjaF9iYW5kd2lkdGgiLCExKSYmeiYmdGhpcy5hJiYwPHRoaXMuYS50aW1lVG9MYXN0Qnl0ZSYmZCYmZC5zYW1wbGUodGhpcy5hLnRpbWVUb0xhc3RCeXRlLGEucmVzcG9uc2UuYnl0ZUxlbmd0aCwidiI9PT1oLmNoYXJBdCgwKSx0aGlzLmEsZyxlLCEwKTtpZih0aGlzLkEpdHJ5e3RoaXMubT1wYXJzZUludChhLmdldFJlc3BvbnNlSGVhZGVyKCJ4LWZiLXZpZGVvLWJyb2FkY2FzdC1lbmRlZCIpLDEwKX1jYXRjaChmKXt9dGhpcy5iPQp0aGlzLmk9dGhpcy5nPXRoaXMuZj1udWxsO2EuYT8odGhpcy5pPW5ldyBMKGEuYSksdGhpcy51PSEwKTp0aGlzLmk9dGhpcy5jW2JdO2EucmVzcG9uc2UuJGE9YS4kYTtwJiYocD1wLnNldExlbmd0aChhLnJlc3BvbnNlLmJ5dGVMZW5ndGh8fGEucmVzcG9uc2UubGVuZ3RoKS5zZXRXYXNQcmVmZXRjaENhY2hlSGl0KHRoaXMuaiksbnVsbCE9dGhpcy5hJiYocD1wLnNldFRpbWVUb0xhc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0xhc3RCeXRlKSkuc2V0VGltZVRvRmlyc3RCeXRlKE1hdGgucm91bmQodGhpcy5hLnRpbWVUb0ZpcnN0Qnl0ZSkpLnNldFRpbWVUb1JlcXVlc3RTdGFydChNYXRoLnJvdW5kKHRoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSwyRTM8PXRoaXMuYS50aW1lVG9GaXJzdEJ5dGUmJi0xPHcuaW5kZXhPZigiYWthbWFpaGQiKSYmbG9nTG9uZ0FrYW1haVJlcXVlc3QoYS5nZXRSZXNwb25zZUhlYWRlcigiRGVidWctSW5mbyIpKyIsIFRURkItPiAiK3RoaXMuYS50aW1lVG9GaXJzdEJ5dGUrCiIsIFRUUlMtPiAiK3RoaXMuYS50aW1lVG9SZXF1ZXN0U3RhcnQpKSxwLmxvZygpKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHt2YWx1ZTphLnJlc3BvbnNlLGRvbmU6ITF9KX0pKSxlYT1lYS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7dmFyIGU9dGhpcy5oP3RoaXMuaC5vblJlcXVlc3RTZW5kOm51bGw7ZSYmZSghMSxoLDApO2lmKHRoaXMuZiYmYisxPHRoaXMuYy5sZW5ndGgpcmV0dXJuIHRoaXMuZj0kYyh0aGlzLGIrMSxjLGQpO3RoaXMuYj10aGlzLmE9dGhpcy5mPXRoaXMuZz1udWxsO3AmJnAuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSkpO3JldHVybiBQcm9taXNlLnJlc29sdmUoe2NhbmNlbDpmdW5jdGlvbigpe30scmVhZDpmdW5jdGlvbigpe3JldHVybiBkYT9Qcm9taXNlLnJlc29sdmUoe3ZhbHVlOm51bGwsZG9uZTohMH0pOmVhLnRoZW4oZnVuY3Rpb24oYSl7ZGE9ITA7cmV0dXJuIGF9KX0uYmluZChhKX0pfQpmdW5jdGlvbiBiZChhKXtyZXR1cm57YmFzZVVybDphLnRvU3RyaW5nKCksaXNQcmVkaWN0aXZlOmEuaXNQcmVkaWN0aXZlLHN0YXJ0Qnl0ZTphLnN0YXJ0Qnl0ZSxlbmRCeXRlOmEuZW5kQnl0ZX19bi5jbG9uZT1mdW5jdGlvbigpe3JldHVybiBuZXcgSyh0aGlzLm8sdGhpcy5jLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jbG9uZSgpfSksdGhpcy5zdGFydEJ5dGUsdGhpcy5lbmRCeXRlLHRoaXMuaXNQcmVkaWN0aXZlLHRoaXMuaCl9O24uZ2V0UmVzb3VyY2VUaW1pbmdFbnRyeT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9OwpmdW5jdGlvbiBjZChhLGIsYyl7dmFyIGQ9Yi50b1N0cmluZygpO2lmKGEuc3RhcnRCeXRlfHxhLmVuZEJ5dGUpYj1iLmhhLCFiLmVuZHNXaXRoKCJmYmNkbi5uZXQiKXx8Yi5zdGFydHNXaXRoKCJpbnRlcm5jYWNoZSIpfHxiLmVuZHNXaXRoKCJhay5mYmNkbi5uZXQiKT9jJiYoYy5RYS5SYW5nZT0iYnl0ZXM9IisoYS5zdGFydEJ5dGUrIi0iKyhudWxsIT1hLmVuZEJ5dGU/YS5lbmRCeXRlOiIiKSkpOihkKz0iJmJ5dGVzdGFydD0iK2Euc3RhcnRCeXRlLGQrPW51bGwhPT1hLmVuZEJ5dGU/IiZieXRlZW5kPSIrYS5lbmRCeXRlOiIiKTthLm8mJmMmJihkPWEubyhkLGMuUWEpfHxkKTtyZXR1cm4gZH1mdW5jdGlvbiB1YihhKXtyZXR1cm4gY2QoYSxhLmNbMF0pfW4udG9TdHJpbmc9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jWzBdLnRvU3RyaW5nKCl9O2Z1bmN0aW9uIGRkKGEsYixjLGQpe3RoaXMuYT1uZXcgdGI7Yj1udWxsIT1iP2I6aWE7dGhpcy5hLnJlc3BvbnNlVHlwZT0idGV4dCI7dGhpcy5hLk5hPTM7dGhpcy5hLmI9MUUzKmI7YyYmKHRoaXMuYS5hPWMpO2QmJih0aGlzLmEuZGE9ZCk7dGhpcy5hLmc9ITA7dGhpcy5hLndpdGhDcmVkZW50aWFscz10aGlzLmEuZi50ZXN0KGEpO3RoaXMuYj1hfQpmdW5jdGlvbiBlZChhLGIpe3ZhciBjPWEuYixkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiZGV0ZWN0X2xpdmVfc3RyZWFtX2VuZGVkX2Zyb21fcmVzcG9uc2VfaGVhZGVycyIsITEpO2MudyhkKTtyZXR1cm4gYy5mZXRjaChhLmEsbnVsbCxiLG51bGwsbnVsbCwibWFuaWZlc3QiKS50aGVuKGZ1bmN0aW9uKGEpe2EgaW5zdGFuY2VvZiBBcnJheUJ1ZmZlciYmKGE9U3RyaW5nLmZyb21DaGFyQ29kZS5hcHBseShudWxsLG5ldyBVaW50OEFycmF5KGEpKSk7dmFyIGY9ZCYmISFjLm0sZztiJiYoZz1iLmdldE9wZXJhdGlvbkxvZ2dlcigicGFyc2VfbWFuaWZlc3QiKS5zdGFydCgpKTthPWVjKGEsYy5jLFtjLmldKTtnJiZnLmxvZygpO2EmJiJkeW5hbWljIj09PWEudHlwZSYmZiYmKGEudHlwZT0ic3RhdGljIixiJiZCYW56YWlPRFMuYnVtcEVudGl0eUtleSgyOTY2LCJ2aWRlb3Mud3d3LnNoYWthIiwiY2hhbmdlZF9tYW5pZmVzdF90b19keW5hbWljX29mZl9oZWFkZXJzIikpOwppZihhKXJldHVybiBQcm9taXNlLnJlc29sdmUoYSk7Zj1FcnJvcigiTVBEIHBhcnNlIGZhaWx1cmUuIik7Zi50eXBlPSJkYXNoIjtyZXR1cm4gUHJvbWlzZS5yZWplY3QoZil9KX1mdW5jdGlvbiBmZChhKXt0aGlzLmE9bnVsbDt0aGlzLmg9YTt0aGlzLmM9dGhpcy5nPXRoaXMuZj1udWxsO3RoaXMuaT0hMTt0aGlzLmo9dGhpcy5iPW51bGx9O2Z1bmN0aW9uIGdkKGEsYil7dGhpcy5hPWE7dGhpcy5iPWJ8fG51bGx9Z2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuS2EoKSx0aGlzLmE9bnVsbCk7dGhpcy5iPW51bGx9O2dkLnByb3RvdHlwZS5jcmVhdGU9ZnVuY3Rpb24oYSxiKXt2YXIgYz1udWxsO2ImJihjPW5ldyB0YixjLmRhPWIpO3JldHVybiF0aGlzLmImJnRoaXMuYT90aGlzLmEuZmV0Y2goYyxudWxsLGEsbnVsbCxudWxsLCJpbml0Iik6UHJvbWlzZS5yZXNvbHZlKHRoaXMuYil9O2dkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07Z2QucHJvdG90eXBlLmdldEZhaWxvdmVyVXJpPWdkLnByb3RvdHlwZS5jO2Z1bmN0aW9uIGhkKGEsYil7dGhpcy5zZWdtZW50T3JpZ2luYWxFbmRUaW1lPWE7dGhpcy5nYXBEaXN0YW5jZT1ifWZ1bmN0aW9uIGlkKGEsYixjLGQsZSxmLGcpe3RoaXMuc3RhcnRUaW1lPWE7dGhpcy5lbmRUaW1lPWI7dGhpcy51cmw9Yzt0aGlzLnVuc2NhbGVkU3RhcnRUaW1lPWQ7dGhpcy51bnNjYWxlZER1cmF0aW9uPWU7dGhpcy50aW1lc2NhbGVkR2FwSW5mbz1mfHxudWxsO3RoaXMuaXNQcmVkaWN0aXZlPWd8fCExO3RoaXMuZGVidWdJbmZvPXRoaXMudGltZXNjYWxlZEdhcEluZm8/e2VuZFRpbWU6dGhpcy50aW1lc2NhbGVkR2FwSW5mby5zZWdtZW50T3JpZ2luYWxFbmRUaW1lLGRlbHRhOnRoaXMudGltZXNjYWxlZEdhcEluZm8uZ2FwRGlzdGFuY2V9Om51bGx9ZnVuY3Rpb24gamQoYSxiLGMpe3JldHVybiBuZXcgaWQoYixjLGEudXJsLGEudW5zY2FsZWRTdGFydFRpbWUsYS51bnNjYWxlZER1cmF0aW9uLGEudGltZXNjYWxlZEdhcEluZm8sYS5pc1ByZWRpY3RpdmUpfQpmdW5jdGlvbiB5YihhLGIpe2lmKFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgidXNlX2JpbmFyeV9zZWFyY2hfd2hlbl9maW5kaW5nX3NlZ21lbnRfcmVmZXJlbmNlcyIsITEpKXJldHVybiBCaW5hcnlTZWFyY2guZmluZEluZGV4SW5BcnJheShhLGIsZnVuY3Rpb24oYSxiKXtyZXR1cm4gYj49YS5zdGFydFRpbWUmJihudWxsPT1hLmVuZFRpbWV8fGI8YS5lbmRUaW1lKT8wOmEuc3RhcnRUaW1lLWJ9KTtmb3IodmFyIGM9YS5sZW5ndGgtMTswPD1jOy0tYyl7dmFyIGQ9YVtjXTtpZihiPj1kLnN0YXJ0VGltZSYmKG51bGw9PWQuZW5kVGltZXx8YjxkLmVuZFRpbWUpKXJldHVybiBjfXJldHVybi0xfWZ1bmN0aW9uIGtkKGEsYil7cmV0dXJuIGEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBqZChhLGEuc3RhcnRUaW1lK2IsbnVsbCE9YS5lbmRUaW1lP2EuZW5kVGltZStiOm51bGwpfSl9O2Z1bmN0aW9uIGxkKGEsYixjLGQpe2Zvcih2YXIgZT1iLmEsZj1bXSxnPTA7ZzxkOysrZyl7dmFyIGg9ZytjLGs9KGgtMSkqZS5ILGw9ay9lLnMsbT0oaytlLkgpL2UucyxoPW1kKGEsYixlLmIraC0xLGspO2lmKCFoKXJldHVybiBudWxsO2YucHVzaChuZXcgaWQobCxtLGgsayxlLkh8fDApKX1yZXR1cm4gZn1mdW5jdGlvbiBtZChhLGIsYyxkLGUsZil7aWYoIWIuYSlyZXR1cm4gbnVsbDtlPWV8fCExO3ZhciBnPWIuYS5mLGg9Yi5hLkMuYTtpZighZylyZXR1cm4gYi5iYXNlVXJsP25ldyBLKGEsYi5iYXNlVXJsLDAsbnVsbCx2b2lkIDAsZik6bnVsbDtjPW5kKGUmJmg/aDpnLGIuaWQsYyxiLmJhbmR3aWR0aCxkKTtpZighYylyZXR1cm4gbnVsbDtiPVpjKGIuYmFzZVVybCxjKTtyZXR1cm4gbmV3IEsoYSxiLDAsbnVsbCxlLGYpfQpmdW5jdGlvbiBuZChhLGIsYyxkLGUpe3ZhciBmPXtSZXByZXNlbnRhdGlvbklEOmIsTnVtYmVyOmMsQmFuZHdpZHRoOmQsVGltZTplfTthPWEucmVwbGFjZSgvXCQoUmVwcmVzZW50YXRpb25JRHxOdW1iZXJ8QmFuZHdpZHRofFRpbWUpPyg/OiUwKFswLTldKylkKT9cJC9nLGZ1bmN0aW9uKGEsYixjKXtpZigiJCQiPT1hKXJldHVybiIkIjt2YXIgZD1mW2JdO2lmKG51bGw9PWQpcmV0dXJuIGE7IlJlcHJlc2VudGF0aW9uSUQiPT1iJiZjJiYoYz12b2lkIDApO2E9ZC50b1N0cmluZygpO2M9d2luZG93LnBhcnNlSW50KGMsMTApfHwxO2M9TWF0aC5tYXgoMCxjLWEubGVuZ3RoKTtyZXR1cm4gQXJyYXkoYysxKS5qb2luKCIwIikrYX0pO3RyeXtyZXR1cm4gbmV3IEwoYSl9Y2F0Y2goZyl7aWYoZyBpbnN0YW5jZW9mIFVSSUVycm9yKXJldHVybiBudWxsO3Rocm93IGc7fX0KZnVuY3Rpb24gb2QoYSxiLGMsZCxlLGYpe3ZhciBnPTAsaD1jKmI7Yz1hLk47dmFyIGs9ZHx8MDtkPVtdO3ZhciBsPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJsaXZlX3Jld2luZF90ZW1wbGF0ZWRfbGFzdF94X3NlZ21lbnRzX29ubHkiLDApLG09VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfbGFzdF94X3RpbWVsaW5lIiwhMSkmJmUmJm51bGwhPWYscD1lJiZtP1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfaW5nZXN0X3Rocm90dGxlIiwwKTowO2lmKGx8fG0pe2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3ZhciB0PWNbZV0uc3RhcnRUaW1lLHQ9bnVsbCE9dD90Omcsdz1jW2VdLnJlcGVhdHx8MDtpZigwPncpaWYodz1jW2VdLmR1cmF0aW9uLGUrMT09PWMubGVuZ3RoKXZhciB6PWNbMF0uc3RhcnRUaW1lK2gtdCx3PU1hdGguY2VpbCh6Lwp3KS0xO2Vsc2Ugej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTE7Y1tlXS5zdGFydFRpbWU9dDtjW2VdLnJlcGVhdD13O2c9Y1tlXS5zdGFydFRpbWUrY1tlXS5kdXJhdGlvbiooY1tlXS5yZXBlYXQrMSl9Zm9yKGU9Yy5sZW5ndGgtMTstMTxlOy0tZSlmb3IodmFyIEg9MDtIPD1jW2VdLnJlcGVhdDsrK0gpaWYodD1jW2VdLnN0YXJ0VGltZStjW2VdLmR1cmF0aW9uKihjW2VdLnJlcGVhdC1IKSxnPXQrY1tlXS5kdXJhdGlvbixhPW51bGwsZC5sZW5ndGgmJmchPWRbZC5sZW5ndGgtMV0uc3RhcnQmJih6PWRbZC5sZW5ndGgtMV0uc3RhcnQtZyxhPW5ldyBoZChnL2Isei9iKSxnPWRbZC5sZW5ndGgtMV0uc3RhcnQpLGQucHVzaCh7c3RhcnQ6dCxlbmQ6Z30pLGEmJihkW2QubGVuZ3RoLTFdLnRpbWVzY2FsZWRHYXBJbmZvPWEpLGwpe2lmKGQubGVuZ3RoPT09bClyZXR1cm4gZD1kLnJldmVyc2UoKX1lbHNlIGlmKG0mJmRbZC5sZW5ndGgtMV0uc3RhcnQ8PWYpcmV0dXJuIGQucG9wKCksCmQ9ZC5yZXZlcnNlKCksMDxwJiYoZD1kLnNsaWNlKDAscCkpLGQ7cmV0dXJuIGQucmV2ZXJzZSgpfWZvcihlPTA7ZTxjLmxlbmd0aDsrK2Upe2lmKCFjW2VdLmR1cmF0aW9uKXJldHVybiBkO3Q9Y1tlXS5zdGFydFRpbWU7dD1udWxsIT10P3Q6Zzt3PWNbZV0ucmVwZWF0fHwwOzA+dyYmKHc9Y1tlXS5kdXJhdGlvbixlKzE9PT1jLmxlbmd0aD8oej1jWzBdLnN0YXJ0VGltZStoLXQsdz1NYXRoLmNlaWwoei93KS0xKTooej1jW2UrMV0uc3RhcnRUaW1lLHc9TWF0aC5jZWlsKCh6LXQpL3cpLTEpKTswPGQubGVuZ3RoJiZ0IT1nJiYoej10LWcsZj1kW2QubGVuZ3RoLTFdLGYudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGcvYix6L2IpLGYuZW5kPXQpO2ZvcihIPTA7SDw9dzsrK0gpZz10K2NbZV0uZHVyYXRpb24sZC5wdXNoKHtzdGFydDp0LGVuZDpnfSksdD1nfWlmKGEuYSYmMDxjLmxlbmd0aClmb3IoYj1jWzBdLmR1cmF0aW9uLGY9MDtmPGs7ZisrKWQucHVzaCh7c3RhcnQ6dCtmKmIsZW5kOnQrCihmKzEpKmIsdWQ6YS5iK2Z9KTtyZXR1cm4gZH07ZnVuY3Rpb24gcGQoYSxiLGMsZCxlKXt0aGlzLnc9YTt0aGlzLm09Yjt0aGlzLmM9Yzt0aGlzLlc9MDt0aGlzLkI9ITA7dGhpcy5zPWMuc3x8MDt0aGlzLkE9ITE7dGhpcy5nPW51bGw7dGhpcy51PWQ7dGhpcy5qPWMuTHx8MDt0aGlzLmI9MDt0aGlzLmk9dGhpcy5oPW51bGw7YTp7Yj1jLkM7dmFyIGY9MDthPShhLmR1cmF0aW9ufHwwKSp0aGlzLnM7Yz1iLk47Zm9yKGQ9MDtkPGMubGVuZ3RoOysrZCl7aWYoIWNbZF0uZHVyYXRpb24pe2IuTj1jLnNsaWNlKDAsZCk7YnJlYWsgYX12YXIgZz1jW2RdLnN0YXJ0VGltZSxmPW51bGwhPWc/ZzpmLGc9Y1tkXS5yZXBlYXR8fDA7MD5nJiYoZz1jW2RdLmR1cmF0aW9uLGc9ZCsxPT09Yy5sZW5ndGg/TWF0aC5jZWlsKChjWzBdLnN0YXJ0VGltZSthLWYpL2cpLTE6TWF0aC5jZWlsKChjW2QrMV0uc3RhcnRUaW1lLWYpL2cpLTEpO2NbZF0uc3RhcnRUaW1lPWY7Y1tkXS5yZXBlYXQ9ZztmPWNbZF0uc3RhcnRUaW1lK2NbZF0uZHVyYXRpb24qKGNbZF0ucmVwZWF0KwoxKX19dGhpcy5mPVtdO3RoaXMubz1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldE51bWJlcigidGltZWxpbmVfc2VnbWVudF9pbmRleF9tYXhfaW5kZXhfY2FjaGVfbGVuZ3RoIiwwKTt0aGlzLmI9U2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmxlbmd0aCh0aGlzLmMuQy5OKTt0aGlzLkQ9ZXx8bnVsbH1wZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuYj10aGlzLmM9dGhpcy5tPXRoaXMudz1udWxsO3RoaXMuZz1mdW5jdGlvbigpe307dGhpcy5mPXRoaXMudT1udWxsfTtwZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYn07ZnVuY3Rpb24gcWQoYSxiKXtmb3IodmFyIGM9YS5mLmxlbmd0aC0xOy0xPGM7Yy0tKWlmKGEuZltjXS5pbmRleD09PWIpe3ZhciBkPWEuZltjXTthLmYuc3BsaWNlKGMsMSk7YS5mLnB1c2goZCk7cmV0dXJuIGQueGR9cmV0dXJuIG51bGx9CmZ1bmN0aW9uIHJkKGEsYixjKXt2YXIgZD1bXTtpZihhLm8mJjE9PT1jLWIpe3ZhciBlPXFkKGEsYik7aWYoZSlyZXR1cm5bZV19dmFyIGY9LWEuai9hLnMrYS5XO1NoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWdtZW50cyhiLGMsYS5jLkMuTixmdW5jdGlvbihhLGUsayxsLG0pe2lmKGwpe3ZhciBwPWRbZC5sZW5ndGgtMV07cCYmKHAudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKG0vdGhpcy5zLGwvdGhpcy5zKSxwLmRlYnVnSW5mbz17ZW5kVGltZTpwLnRpbWVzY2FsZWRHYXBJbmZvLnNlZ21lbnRPcmlnaW5hbEVuZFRpbWUsZGVsdGE6cC50aW1lc2NhbGVkR2FwSW5mby5nYXBEaXN0YW5jZX0sZFtkLmxlbmd0aC0xXT1qZChwLHAuc3RhcnRUaW1lLGEvdGhpcy5zK2YpKX1rPW1kKHRoaXMudSx0aGlzLm0sayt0aGlzLmMuYixhLHZvaWQgMCx0aGlzLkQpO2lmKCFrKXRocm93IGE9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYS50eXBlPSJkYXNoIiwKYTthPW5ldyBpZChhL3RoaXMucytmLGUvdGhpcy5zK2YsayxhLGUtYSxudWxsKTtlPWIrZC5sZW5ndGg7ZC5wdXNoKGEpOyF0aGlzLm98fDAhPT1lJiZlIT09dGhpcy5iLTEmJjEhPT1jLWJ8fHFkKHRoaXMsZSl8fCh0aGlzLmYubGVuZ3RoKzE+dGhpcy5vJiZ0aGlzLmYuc2hpZnQoKSx0aGlzLmYucHVzaCh7aW5kZXg6ZSx4ZDphfSkpfS5iaW5kKGEpKTtyZXR1cm4gZH0KZnVuY3Rpb24gc2QoYSxiKXt2YXIgYz1iLnVuc2NhbGVkU3RhcnRUaW1lLGQ9Yi51bnNjYWxlZEVuZFRpbWUsZT1iLmRlbHRhLGY9Yi5wcmV2aW91c0VuZFRpbWU7aWYoZSl2YXIgZz1uZXcgaGQoZi9hLnMsZS9hLnMpO2U9bWQoYS51LGEubSxiLnNlZ21lbnRSZXBsYWNlbWVudCthLmMuYixjLHZvaWQgMCxhLkQpO2lmKCFlKXRocm93IGM9RXJyb3IoIkZhaWxlZCB0byBnZW5lcmF0ZSBtZWRpYSBVUkwuIiksYy50eXBlPSJkYXNoIixjO2Y9LWEuai9hLnMrYS5XO3JldHVybiBuZXcgaWQoYy9hLnMrZixkL2EucytmLGUsYyxkLWMsZ3x8bnVsbCl9cGQucHJvdG90eXBlLmdldFNlZ21lbnRzPWZ1bmN0aW9uKCl7cmV0dXJuIHJkKHRoaXMsMCx0aGlzLmIpfHxbXX07CnBkLnByb3RvdHlwZS5maXJzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaClyZXR1cm4gdGhpcy5oO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5maXJzdCh0aGlzLmMuQy5OLHRoaXMuYik7cmV0dXJuIHRoaXMuaD1zZCh0aGlzLGEpfXJldHVybiByZCh0aGlzLDAsMSlbMF19OwpwZC5wcm90b3R5cGUubGFzdD1mdW5jdGlvbigpe2lmKCF0aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSkpe2lmKHRoaXMuaSlyZXR1cm4gdGhpcy5pO3ZhciBhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5sYXN0KHRoaXMuYy5DLk4sdGhpcy5iKTtyZXR1cm4gdGhpcy5pPXNkKHRoaXMsYSl9cmV0dXJuIHJkKHRoaXMsdGhpcy5iLTEsdGhpcy5iKVswXX07CnBkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7aWYoIXRoaXMuYnx8MD5hfHxhPj10aGlzLmIpdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkluZGV4IG91dCBvZiByYW5nZS4iKTtyZXR1cm4gVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJvcHRpbWl6ZV9jb21tb25fc2VnbWVudF9nZW5lcmF0aW9ucyIsITEpPyhhPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXQodGhpcy5jLkMuTixhLHRoaXMuYiksc2QodGhpcyxhKSk6cmQodGhpcyxhLGErMSlbMF19OwpwZC5wcm90b3R5cGUuZmluZD1mdW5jdGlvbihhKXtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9jb21wb3NpdGVkX3RpbWVfaW5kZXhfY2FsbHMiLCExKSlyZXR1cm4oYT1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMuZmluZChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVykpP3NkKHRoaXMsYSk6bnVsbDthPXRoaXMuZmluZEluZGV4KGEpO3JldHVybiBWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm9wdGltaXplX2NvbW1vbl9zZWdtZW50X2dlbmVyYXRpb25zIiwhMSk/MDw9YT90aGlzLmdldChhKTpudWxsOjA8PWE/cmQodGhpcyxhLGErMSlbMF06bnVsbH07cGQucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXtyZXR1cm4gU2hha2FUaW1lbGluZVNlZ21lbnRJbmRleFV0aWxzLmZpbmRJbmRleChhLHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O249cGQucHJvdG90eXBlOwpuLlRhPWZ1bmN0aW9uKGEpe3ZhciBiPWEubGVuZ3RoKCksYz1iLXRoaXMuYjtpZigwIT09YiYmKGIhPT10aGlzLmJ8fDAhPT10aGlzLmImJmEubGFzdCgpLmVuZFRpbWUhPT10aGlzLmxhc3QoKS5lbmRUaW1lKSYmIShWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9pbnRlZ3JhdGlvbl9vbl9lYXJsaWVyX2VuZHRpbWUiLCExKSYmYS5sYXN0KCkuZW5kVGltZTw9dGhpcy5sYXN0KCkuZW5kVGltZSkpaWYodGhpcy5BPSExLGI9YS5sYXN0KCksbnVsbCE9Yi5lbmRUaW1lJiZiLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSYmYi5lbmRUaW1lPHRoaXMuZmlyc3QoKS5zdGFydFRpbWUmJih0aGlzLkE9ITApLFZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0Qm9vbCgiaW50ZWdyYXRlX3NlZ21lbnRfdGltZWxpbmVfdGltZV9wb2ludHMiLCExKT90aGlzLmMuQy5OPVNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5pbnRlZ3JhdGVUaW1lUG9pbnRzKHRoaXMuYy5DLk4sCmEuYy5DLk4pOih0aGlzLnc9YS53LHRoaXMubT1hLm0sdGhpcy5jPWEuYyx0aGlzLmo9dGhpcy5jLkx8fDAsdGhpcy5zPXRoaXMuYy5zfHwwKSx0aGlzLmY9W10sdGhpcy5pPXRoaXMuaD1udWxsLHRoaXMuYj1TaGFrYVRpbWVsaW5lU2VnbWVudEluZGV4VXRpbHMubGVuZ3RoKHRoaXMuYy5DLk4pLHRoaXMuZmlyc3QoKSx0aGlzLmxhc3QoKSxWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9jYWxsX29uX3NlZ21lbnRzX3VwZGF0ZWRfd2l0aF9kZWx0YV9zZWdtZW50cyIsITEpKXt2YXIgZD1bXSxjPXRoaXMuYi1jO2ZvcihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9keW5hbWljX2luY2x1ZGVfcHJldmlvdXNfbGFzdF9zZWdtZW50X2luX3VwZGF0ZXMiLCExKSYmMDxjJiZjLS07Yzx0aGlzLmI7KytjKWQucHVzaCh0aGlzLmdldChjKSk7dGhpcy5nJiZ0aGlzLmcoZCl9ZWxzZSBjPSFWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woIm5vX3Byb3ZpZGVfc2VnbWVudHNfdG9fb25fc2VnbWVudHNfdXBkYXRlZF9saXN0ZW5lcnMiLAohMSksdGhpcy5nJiYoYyYmKGQ9dGhpcy5nZXRTZWdtZW50cygpKSx0aGlzLmcoZCkpfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPWEtdGhpcy5XO2lmKDA9PWIpcmV0dXJuIDA7dGhpcy5XPWE7dGhpcy5pPXRoaXMuaD1udWxsO3RoaXMuZj1bXTtyZXR1cm4gYn07bi5pYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmI/e3N0YXJ0OnRoaXMuZmlyc3QoKS5zdGFydFRpbWUsZW5kOnRoaXMubGFzdCgpLmVuZFRpbWV9OntzdGFydDowLGVuZDowfX07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7cmV0dXJuIFNoYWthVGltZWxpbmVTZWdtZW50SW5kZXhVdGlscy5nZXRTZWVrUmFuZ2VHYXBzKHRoaXMuYy5DLk4sdGhpcy5zLC10aGlzLmovdGhpcy5zK3RoaXMuVyl9O24ucmI9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5BfTtuLkdjPWZ1bmN0aW9uKGEpe3RoaXMuZz1hfTtuLkZjPWZ1bmN0aW9uKCl7dGhpcy5nPW51bGx9O24uSWE9ZnVuY3Rpb24oKXt9O2Z1bmN0aW9uIHRkKCl7fQp0ZC5wcm90b3R5cGUucGFyc2U9ZnVuY3Rpb24oYSxiLGMsZCxlKXt2YXIgZj1udWxsO3RyeXthOnt2YXIgZz1bXSxoPW5ldyBCYShhKSxrPXYoaCk7aWYoMTkzNjI4Njg0MCE9dihoKSlmPW51bGw7ZWxzZXsxPT1rJiYoaz1GYShoKSk7dmFyIGw9RWEoaCk7SGEoaCwzKTtIYShoLDQpO3ZhciBtPXYoaCk7aWYoMD09bSlmPW51bGw7ZWxzZXt2YXIgcCx0OzA9PWw/KHA9dihoKSx0PXYoaCkpOihwPUZhKGgpLHQ9RmEoaCkpO0hhKGgsMik7dmFyIHc9aC5iLmdldFVpbnQxNihoLmEsaC5jKTtoLmErPTI7YT1wO2I9YitrK3Q7Zm9yKHQ9az0wO3Q8dzt0Kyspe3ZhciB6PXYoaCk7cD0oeiYyMTQ3NDgzNjQ4KT4+PjMxO3ZhciBsPXomMjE0NzQ4MzY0NyxIPXYoaCk7dihoKTtpZigxPT1wKXtmPW51bGw7YnJlYWsgYX12YXIgZGE7ZGE9MD09dCYmZT9lOm5ldyBLKGQsYyxiLGIrbC0xKTtwPWEvbTt2YXIgZWE9KGErSCkvbTswPT09dCYmKGs9cCk7Zy5wdXNoKG5ldyBpZChwLWssZWEtayxkYSwKYSxIKSk7YSs9SDtiKz1sfWcucz1tO2Y9Z319fX1jYXRjaChBYSl7aWYoIShBYSBpbnN0YW5jZW9mIFJhbmdlRXJyb3IpKXRocm93IEFhO31yZXR1cm4gZn07ZnVuY3Rpb24gUihhKXt0aGlzLmE9YTt0aGlzLnM9dGhpcy5hLnM7dGhpcy5LPXRoaXMuYS5CO3RoaXMuZz1bXX1SLnByb3RvdHlwZS5KPWZ1bmN0aW9uKCl7cmV0dXJuISF0aGlzLmdbdGhpcy5nLmxlbmd0aC0xXX07Ui5wcm90b3R5cGUubGFzdFBvbGxIYWRDaGFuZ2VzPVIucHJvdG90eXBlLko7Ui5wcm90b3R5cGUuST1mdW5jdGlvbigpe3ZhciBhPXRoaXMuZyxiPWEubGFzdEluZGV4T2YoITApO2lmKDE+YilyZXR1cm4gMDthPWEubGFzdEluZGV4T2YoITAsYi0xKTtyZXR1cm4gMD5hPzA6Yi1hLTF9O1IucHJvdG90eXBlLmdldEZldGNoZXNCZXR3ZWVuUmVjZW50Q2hhbmdlcz1SLnByb3RvdHlwZS5JO1IucHJvdG90eXBlLnU9ZnVuY3Rpb24oKXtyZXR1cm4gTWF0aC5mbG9vcigodGhpcy5nLmxlbmd0aC0xLXRoaXMuZy5sYXN0SW5kZXhPZighMCkpLzIpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlcz1SLnByb3RvdHlwZS51OwpSLnByb3RvdHlwZS5HPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZy5sZW5ndGgtMS10aGlzLmcubGFzdEluZGV4T2YoITEpfTtSLnByb3RvdHlwZS5nZXRDb25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlcz1SLnByb3RvdHlwZS5HO1IucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTtSLnByb3RvdHlwZS5sZW5ndGg9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxlbmd0aCgpfTtSLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEuZ2V0U2VnbWVudHMoKX07Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM9Ui5wcm90b3R5cGUuZ2V0U2VnbWVudHM7Ui5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmZpcnN0KCl9O1IucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmxhc3QoKX07Ui5wcm90b3R5cGUubGFzdD1SLnByb3RvdHlwZS5sYXN0OwpSLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5nZXQoYSl9O1IucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kKGEpfTtSLnByb3RvdHlwZS5maW5kSW5kZXg9ZnVuY3Rpb24oYSl7cmV0dXJuIHRoaXMuYS5maW5kSW5kZXgoYSl9O1IucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7dGhpcy5hLlRhKGEuYSk7cmV0dXJuITB9O1IucHJvdG90eXBlLlVhPWZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuaGIoYSl9O1IucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmliKCl9O1IucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hLmdldFNlZWtSYW5nZUdhcHMoKX07Ui5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcz1SLnByb3RvdHlwZS5nZXRTZWVrUmFuZ2VHYXBzO1IucHJvdG90eXBlLnJiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYS5yYigpfTsKZnVuY3Rpb24gdWQoYSxiKXthLmEuR2MoYil9O2Z1bmN0aW9uIFMoYSxiLGMsZCl7Ui5jYWxsKHRoaXMsYSk7dGhpcy5pPWI7dGhpcy5GPWM7dGhpcy5oPWQ7dGhpcy5kdXJhdGlvbj10aGlzLmkuYnx8dGhpcy5pLmEucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG51bGw9PWIuZHVyYXRpb24/TmFOOmErYi5kdXJhdGlvbn0sMCl8fDA7dGhpcy5iPXRoaXMubz10aGlzLmY9bnVsbDt5ZCh0aGlzKX1yKFMsUik7Uy5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRj10aGlzLmk9bnVsbDtSLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O1MucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7emQodGhpcyx5YSgpLzFFMyk7cmV0dXJuIFIucHJvdG90eXBlLmZpbmQuY2FsbCh0aGlzLGEpfTsKUy5wcm90b3R5cGUuQj1mdW5jdGlvbihhKXtpZighKGEgaW5zdGFuY2VvZiBTKSlyZXR1cm4hMTt0aGlzLmEuVGEoYS5hKTt0aGlzLmR1cmF0aW9uPU1hdGgubWF4KHRoaXMuZHVyYXRpb24sYS5kdXJhdGlvbik7bnVsbD09dGhpcy5mPyh0aGlzLmg9YS5oLHlkKHRoaXMpKTpBZCh0aGlzKTtyZXR1cm4hMH07ZnVuY3Rpb24geWQoYSl7QWQoYSk7aWYoMCE9YS5sZW5ndGgoKSl7YS5sZW5ndGgoKTt2YXIgYj1udWxsIT1hLmxhc3QoKS5lbmRUaW1lP2EubGFzdCgpLmVuZFRpbWU6YS5sYXN0KCkuc3RhcnRUaW1lO2lmKGEuaS5jPmEuaClhLmY9YjtlbHNle3ZhciBjPWEuaC0oYS5pLmMrYS5GLnN0YXJ0KTswPmM/YS5mPWI6YzxNYXRoLm1heChhLmxhc3QoKS5zdGFydFRpbWUsYS5sYXN0KCkuZW5kVGltZXx8MCk/KGEubGFzdCgpLGEuZj1iKTphLmY9Y31hLm89YS5sYXN0KCkuc3RhcnRUaW1lO2EuYj1hLmZpcnN0KCkuc3RhcnRUaW1lfX0KUy5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1SLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19jb3JyZWN0X2RlbHRhX3dhcm5pbmciLCExKXx8TWF0aC5taW4uYXBwbHkobnVsbCx0aGlzLmdldFNlZ21lbnRzKCkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmVuZFRpbWV9KS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZW5kVGltZS1hLnN0YXJ0VGltZX0pKTtudWxsIT10aGlzLmYmJih0aGlzLm8rPWEsdGhpcy5iKz1hLHRoaXMuZis9YSk7cmV0dXJuIGF9O1MucHJvdG90eXBlLkE9ZnVuY3Rpb24oKXtyZXR1cm4gQmQodGhpcyx5YSgpLzFFMyl9OwpmdW5jdGlvbiBCZChhLGIpe3pkKGEsYik7aWYobnVsbD09YS5mfHxudWxsPT1hLm98fG51bGw9PWEuYilyZXR1cm57c3RhcnQ6MCxlbmQ6MH07dmFyIGM9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZO2EuZHVyYXRpb24mJihjPWEuZHVyYXRpb24pO3ZhciBkPWItYS5oLGU9YS5mK2Q7bnVsbCE9YS5pLmYmJihlPWUtYS5iLWEuaS5mLDA8ZSYmKGEuYis9ZSkpO2EuYj1NYXRoLm1pbihhLmIsYyk7ZD1hLm8rZDtpZihkPGEuYilyZXR1cm57c3RhcnQ6YS5iLGVuZDphLmJ9O2Q9MDxhLmxlbmd0aCgpP251bGwhPWEubGFzdCgpLmVuZFRpbWU/TWF0aC5taW4oZCxhLmxhc3QoKS5lbmRUaW1lKTpkOmEuYjtkPU1hdGgubWF4KGQsYS5iKTtkPU1hdGgubWluKGQsYyk7cmV0dXJue3N0YXJ0OmEuYixlbmQ6ZH19CmZ1bmN0aW9uIHpkKGEsYil7aWYoYS5hLmEmJihBZChhKSxudWxsIT1hLmkuZikpaWYobnVsbD09YS5mKWEubGVuZ3RoKCk7ZWxzZXtmb3IodmFyIGM9YS5mKyhiLWEuaCksZD0wLGU9MDtlPGEuYS5hLmxlbmd0aDsrK2Upe3ZhciBmPW51bGw7ZTxhLmEuYS5sZW5ndGgtMT9mPWEuYS5hW2UrMV0uZW5kVGltZTooZj1hLmEuYVtlXSxmPW51bGwhPWYuZW5kVGltZT9mLmVuZFRpbWUrKGYuZW5kVGltZS1mLnN0YXJ0VGltZSk6bnVsbCk7aWYobnVsbCE9ZiYmZjxjLWEuaS5mKSsrZDtlbHNlIGJyZWFrfTA8ZCYmYS5hLmEuc3BsaWNlKDAsZCl9fWZ1bmN0aW9uIEFkKGEpe2lmKGEuZHVyYXRpb24mJmEuYS5hKXtmb3IodmFyIGI9MCxjPWEuYS5hLmxlbmd0aC0xOzA8PWM7LS1jKWlmKGEuYS5hW2NdLnN0YXJ0VGltZT5hLmR1cmF0aW9uKSsrYjtlbHNlIGJyZWFrOzA8YiYmYS5hLmEuc3BsaWNlKC1iKX19O2Z1bmN0aW9uIFQoYSxiLGMpe3ZhciBkPVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfcXVhcmFudGluZV9pZGxlX3JlZmVyZW5jZXNfdGhyZXNob2xkIiwwKTt0aGlzLmk9W107aWYoMDxkKXt2YXIgZT1hO2E9ZS5zcGxpY2UoLWQpO3RoaXMuaT1lfXRoaXMuYT1hO3RoaXMuVz0wO3RoaXMucz1iO3RoaXMuZj0hMTt0aGlzLmg9ZnVuY3Rpb24oKXt9O3RoaXMuQj1jfHwhMX1ULnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hPW51bGx9O1QucHJvdG90eXBlLmxlbmd0aD1mdW5jdGlvbigpe3JldHVybiB0aGlzLmEubGVuZ3RofTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3JldHVybih0aGlzLmF8fFtdKS5zbGljZSgpfTtULnByb3RvdHlwZS5nZXRTZWdtZW50cz1ULnByb3RvdHlwZS5nZXRTZWdtZW50czsKVC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBmaXJzdCBTZWdtZW50UmVmZXJlbmNlLiIpO3JldHVybiB0aGlzLmFbMF19O1QucHJvdG90eXBlLmxhc3Q9ZnVuY3Rpb24oKXtpZigwPT10aGlzLmEubGVuZ3RoKXRocm93IG5ldyBSYW5nZUVycm9yKCJTZWdtZW50SW5kZXhCYXNlOiBUaGVyZSBpcyBubyBsYXN0IFNlZ21lbnRSZWZlcmVuY2UuIik7cmV0dXJuIHRoaXMuYVt0aGlzLmEubGVuZ3RoLTFdfTtULnByb3RvdHlwZS5sYXN0PVQucHJvdG90eXBlLmxhc3Q7VC5wcm90b3R5cGUuZ2V0PWZ1bmN0aW9uKGEpe2lmKDA+YXx8YT49dGhpcy5hLmxlbmd0aCl0aHJvdyBuZXcgUmFuZ2VFcnJvcigiU2VnbWVudEluZGV4QmFzZTogVGhlIHNwZWNpZmllZCBpbmRleCBpcyBvdXQgb2YgcmFuZ2UuIik7cmV0dXJuIHRoaXMuYVthXX07ClQucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7YT10aGlzLmZpbmRJbmRleChhKTtyZXR1cm4gMDw9YT90aGlzLmFbYV06bnVsbH07VC5wcm90b3R5cGUuZmluZEluZGV4PWZ1bmN0aW9uKGEpe3JldHVybiB5Yih0aGlzLmEsYSl9OwpULnByb3RvdHlwZS5UYT1mdW5jdGlvbihhKXt0aGlzLlchPWEuVyYmKGE9bmV3IFQoa2QoYS5hLHRoaXMuVy1hLlcpLGEucykpO2lmKDA9PXRoaXMubGVuZ3RoKCkpdGhpcy5hPWEuYS5zbGljZSgwKSx0aGlzLklhKCk7ZWxzZSBpZigwIT1hLmxlbmd0aCgpJiZudWxsIT10aGlzLmxhc3QoKS5lbmRUaW1lKWlmKG51bGwhPWEubGFzdCgpLmVuZFRpbWUmJmEubGFzdCgpLmVuZFRpbWU8dGhpcy5sYXN0KCkuZW5kVGltZSlWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZpeF9tYW5pZmVzdF93cmFwcGVkIiwhMCk/YS5sYXN0KCkuZW5kVGltZTx0aGlzLmZpcnN0KCkuc3RhcnRUaW1lJiYodGhpcy5mPSEwKTp0aGlzLmY9ITA7ZWxzZXt0aGlzLmY9ITE7aWYodGhpcy5sYXN0KCkuZW5kVGltZTw9YS5maXJzdCgpLnN0YXJ0VGltZSl7dmFyIGI9amQodGhpcy5sYXN0KCksdGhpcy5sYXN0KCkuc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGM9dGhpcy5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUrCnRoaXMubGFzdCgpLnVuc2NhbGVkRHVyYXRpb247VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJjYWxjdWxhdGVfbWlzc2VkX3NlZ21lbnRfZ2FwX2luZm9fb25fbWVyZ2UiLCExKSYmYzxhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUmJm51bGw9PT10aGlzLmxhc3QoKS50aW1lc2NhbGVkR2FwSW5mbyYmKGIudGltZXNjYWxlZEdhcEluZm89bmV3IGhkKGMvdGhpcy5zLChhLmZpcnN0KCkudW5zY2FsZWRTdGFydFRpbWUtYykvdGhpcy5zKSk7aWYoVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJ0ZW1wbGF0ZWRfb3B0aW1pemVfbWVyZ2VfdGFyZ2V0X2FsZ29zIiwhMSkpZm9yKHRoaXMuYS5wb3AoKSx0aGlzLmEucHVzaChiKSxjPTA7YzxhLmEubGVuZ3RoOysrYyl0aGlzLmEucHVzaChhLmFbY10pO2Vsc2UgYj10aGlzLmEuc2xpY2UoMCwtMSkuY29uY2F0KFtiXSksdGhpcy5hPWIuY29uY2F0KGEuYSl9ZWxzZXtmb3IoYz0wO2M8dGhpcy5hLmxlbmd0aCYmCiEodGhpcy5hW2NdLmVuZFRpbWU+PWEuZmlyc3QoKS5zdGFydFRpbWUpOysrYyk7dGhpcy5hW2NdLnN0YXJ0VGltZTxhLmZpcnN0KCkuc3RhcnRUaW1lPyhiPWpkKHRoaXMuYVtjXSx0aGlzLmFbY10uc3RhcnRUaW1lLGEuZmlyc3QoKS5zdGFydFRpbWUpLGI9dGhpcy5hLnNsaWNlKDAsYykuY29uY2F0KFtiXSkpOih0aGlzLmZpcnN0KCkuc3RhcnRUaW1lPmEuZmlyc3QoKS5zdGFydFRpbWV8fGEuZmlyc3QoKSxiPXRoaXMuYS5zbGljZSgwLGMpKTt0aGlzLmE9Yi5jb25jYXQoYS5hKX10aGlzLmgoYS5hKTt0aGlzLklhKCl9fTtULnByb3RvdHlwZS5oYj1mdW5jdGlvbihhKXt2YXIgYj1hLXRoaXMuVztpZigwPT1iKXJldHVybiAwO3RoaXMuYT1rZCh0aGlzLmEsYik7dGhpcy5JYSgpO3RoaXMuVz1hO3JldHVybiBifTsKVC5wcm90b3R5cGUuaWI9ZnVuY3Rpb24oKXtyZXR1cm4gMDx0aGlzLmxlbmd0aCgpP3tzdGFydDp0aGlzLmZpcnN0KCkuc3RhcnRUaW1lLGVuZDp0aGlzLmxhc3QoKS5lbmRUaW1lfTp7c3RhcnQ6MCxlbmQ6MH19O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9ZnVuY3Rpb24oKXtyZXR1cm4gZ2V0U2Vla1JhbmdlR2Fwc0Zyb21TaGFrYVJlZmVyZW5jZXModGhpcy5hLHRoaXMucyl9O1QucHJvdG90eXBlLmdldFNlZWtSYW5nZUdhcHM9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2FwcztULnByb3RvdHlwZS5yYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9O1QucHJvdG90eXBlLkdjPWZ1bmN0aW9uKGEpe3RoaXMuaD1hfTtULnByb3RvdHlwZS5GYz1mdW5jdGlvbigpe3RoaXMuaD1mdW5jdGlvbigpe319O1QucHJvdG90eXBlLklhPWZ1bmN0aW9uKCl7fTtULnByb3RvdHlwZS5nZXRJZGxlUmVmZXJlbmNlcz1mdW5jdGlvbigpe3JldHVybiB0aGlzLml9O2Z1bmN0aW9uIENkKGEsYixjLGQsZSl7dmFyIGY9MSxnPTAsaDtpZihhLmM+ZCloPW51bGw7ZWxzZXt2YXIgaz1hLm98fDAsbD1hLmZ8fDA7aD1jLmE7aD1oLkgvaC5zO3ZhciBtPWQtKGEuYytiLnN0YXJ0KTswPm0/aD1udWxsOihsPW0tMipoLWwsMD5sJiYobD0wKSxsPU1hdGguY2VpbChsL2gpKmgsbS09aCwwPm0/aD1udWxsOihrPU1hdGguZmxvb3IobS9oKSpoLWssMD5rJiYoaz0wKSxrPU1hdGguZmxvb3Ioay9oKSpoLGg9e3RjOmwvaCsxLGN1cnJlbnQ6KGs+PWw/azpsKS9oKzF9KSl9aCYmKGY9aC50YyxnPWguY3VycmVudC1oLnRjKzEpO2Y9bGQoZSxjLGYsZyk7aWYobnVsbD09Zil0aHJvdyBhPUVycm9yKCJGYWlsZWQgdG8gZ2VuZXJhdGUgU2VnbWVudFJlZmVyZW5jZXMuIiksYS50eXBlPSJzdHJlYW0iLGE7Zj1uZXcgVChmLGMuYS5zfHwxKTtTLmNhbGwodGhpcyxmLGEsYixkKTt0aGlzLnc9Yzt0aGlzLm09dGhpcy5jPTA8dGhpcy5sZW5ndGgoKT9hLmMrYi5zdGFydCt0aGlzLmxhc3QoKS5lbmRUaW1lOgpudWxsO3RoaXMuaj1oP2guY3VycmVudCsxOm51bGw7dGhpcy5EPWV9cihDZCxTKTtDZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuRD10aGlzLnc9bnVsbDtTLnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyl9O0NkLnByb3RvdHlwZS5maW5kPWZ1bmN0aW9uKGEpe3ZhciBiPXlhKCkvMUUzO0RkKHRoaXMsYik7emQodGhpcyxiKTtyZXR1cm4gUi5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSl9O0NkLnByb3RvdHlwZS5CPWZ1bmN0aW9uKGEpe2lmKG51bGwhPXRoaXMuY3x8IShhIGluc3RhbmNlb2YgQ2QpfHxudWxsPT1hLmMpcmV0dXJuITE7dGhpcy5jPWEuYzt0aGlzLm09YS5tO3RoaXMuaj1hLmo7dGhpcy5oPWEuaDt0aGlzLmR1cmF0aW9uPWEuZHVyYXRpb247dGhpcy5hLlRhKGEuYSk7RGQodGhpcyx5YSgpLzFFMyk7eWQodGhpcyk7cmV0dXJuITB9OwpDZC5wcm90b3R5cGUuVWE9ZnVuY3Rpb24oYSl7YT1TLnByb3RvdHlwZS5VYS5jYWxsKHRoaXMsYSk7bnVsbCE9dGhpcy5jJiYodGhpcy5jKz1hLHRoaXMubSs9YSk7cmV0dXJuIGF9O0NkLnByb3RvdHlwZS5BPWZ1bmN0aW9uKCl7dmFyIGE9eWEoKS8xRTM7RGQodGhpcyxhKTtyZXR1cm4gQmQodGhpcyxhKX07ZnVuY3Rpb24gRGQoYSxiKXtpZihudWxsIT1hLmMmJm51bGwhPWEubSYmbnVsbCE9YS5qKXt2YXIgYz1hLncuYSxjPWMuSC9jLnMsZD1NYXRoLmZsb29yKChhLm0rKGItYS5oKS1hLmMpL2MpO2lmKDAhPWQpe3ZhciBlPWxkKGEuRCxhLncsYS5qLGQpO0FycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGEuYS5hLGtkKGUsYS5hLlcpKTthLmEuSWEoKTthLmMrPWQqYzthLmorPWR9fX07ZnVuY3Rpb24gRWQoYSxiLGMsZCxlKXt0aGlzLmc9YTt0aGlzLmY9Yjt0aGlzLmI9Yzt0aGlzLmk9ZDt0aGlzLmE9bnVsbDt0aGlzLmg9ZX1FZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaD10aGlzLmI9dGhpcy5mPXRoaXMuZz1udWxsO3RoaXMuYSYmKHRoaXMuYS5kZXN0cm95KCksdGhpcy5hPW51bGwpfTsKRWQucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7aWYoImR5bmFtaWMiPT10aGlzLmcudHlwZSl0cnl7dGhpcy5hPW5ldyBDZCh0aGlzLmcsdGhpcy5mLHRoaXMuYix0aGlzLmksdGhpcy5oKX1jYXRjaChhKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9ZWxzZXt2YXIgYjtiPXRoaXMuYi5hO2lmKGI9bGQodGhpcy5oLHRoaXMuYiwxLE1hdGguY2VpbCh0aGlzLmYuZHVyYXRpb24vKGIuSC9iLnMpKSkpe2lmKDA8Yi5sZW5ndGgpe3ZhciBjPWJbYi5sZW5ndGgtMV07YltiLmxlbmd0aC0xXT1qZChjLGMuc3RhcnRUaW1lLHRoaXMuZi5kdXJhdGlvbil9Yj1uZXcgVChiLHRoaXMuYi5hLnN8fDEpO2I9bmV3IFIoYil9ZWxzZSBiPW51bGw7dGhpcy5hPWI7aWYoIXRoaXMuYSlyZXR1cm4gYj1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIFNlZ21lbnRSZWZlcmVuY2VzIiksYi50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGIpfXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKX07CkVkLnByb3RvdHlwZS5jPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYX07ZnVuY3Rpb24gRmQoYSxiLGMsZCxlLGYpe3RoaXMuZj1hO3RoaXMuYj1iO3RoaXMuaD1jO3RoaXMuYT1udWxsO3RoaXMuaT1kO3RoaXMuZz1lO3RoaXMuaj1mfHxudWxsfUZkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5nPXRoaXMuaD10aGlzLmI9dGhpcy5mPW51bGw7dGhpcy5hJiYodGhpcy5hLmRlc3Ryb3koKSx0aGlzLmE9bnVsbCl9OwpGZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5hKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5hKTt2YXIgYT10aGlzLmguYixiPVtdO2EuQyYmKGI9b2QoYS5DLGEuc3x8MSx0aGlzLmIuZHVyYXRpb258fDApKTt2YXIgYz0wO2EuSCYmYS5jP2M9KGEuYy0xKSphLkg6MDxiLmxlbmd0aCYmKGM9YlswXS5zdGFydC0oYS5MfHwwKSk7dmFyIGQ9YyxlPWEuYS5sZW5ndGg7MDxiLmxlbmd0aCYmYi5sZW5ndGghPWEuYS5sZW5ndGgmJihlPU1hdGgubWluKGIubGVuZ3RoLGEuYS5sZW5ndGgpKTtmb3IodmFyIGY9W10sZz0wO2c8ZTsrK2cpe3ZhciBoPWEuYVtnXSxrPWMsbD1rL2EucyxtPWM9bnVsbCxwO2EuSD8oYz1rK2EuSCxtPWMvYS5zKTowPGIubGVuZ3RoPyhwPWJbZ10udGltZXNjYWxlZEdhcEluZm8sYz1iW2ddLmVuZC0oYS5MfHwwKSxtPWMvYS5zKToobT1sK3RoaXMuYi5kdXJhdGlvbixjPW0qYS5zKTt2YXIgdD0wLHc9bnVsbDtoLmEmJih0PWguYS5xYSwKdz1oLmEuZW5kKTttPU1hdGgubWluKHRoaXMuYi5kdXJhdGlvbitkL2EucyxtKTtmLnB1c2gobmV3IGlkKGwsbSxuZXcgSyh0aGlzLmcsaC5iLHQsdyx2b2lkIDAsdGhpcy5qKSxrLHB8fG51bGwpKX1hPW5ldyBUKGYsYS5zfHwxKTsiZHluYW1pYyI9PXRoaXMuZi50eXBlP3RoaXMuYT1uZXcgUyhhLHRoaXMuZix0aGlzLmIsdGhpcy5pKTp0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtGZC5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIEdkKGEsYixjKXtULmNhbGwodGhpcyxhLGMpO3RoaXMuZz1iO3RoaXMuYj0hMTt0aGlzLmo9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRTdHJpbmcoInRlbXBsYXRlZF9wZXJmX3Rlc3RfbWV0aG9kc191bmRlcl90ZXN0X2Nzdl9zdHJpbmciLCJhbGwiKS5zcGxpdCgiLCIpfXIoR2QsVCk7ZnVuY3Rpb24gSGQoYSxiKXtpZighKC0xPGEuai5pbmRleE9mKCJhbGwiKXx8LTE8YS5qLmluZGV4T2YoYikpfHxhLmIpcmV0dXJuIG51bGw7dmFyIGM9YS5hO2EuYT1hLmc7YS5iPSEwO3JldHVybiBjfWZ1bmN0aW9uIElkKGEsYil7YS5iJiYoYS5nPWEuYSxhLmE9Yil9R2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtULnByb3RvdHlwZS5kZXN0cm95LmNhbGwodGhpcyk7dGhpcy5nPW51bGx9OwpHZC5wcm90b3R5cGUubGVuZ3RoPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGVuZ3RoIiksYj1ULnByb3RvdHlwZS5sZW5ndGguY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmxlbmd0aC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXRTZWdtZW50cz1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZ21lbnRzIiksYj1ULnByb3RvdHlwZS5nZXRTZWdtZW50cy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2VnbWVudHMuY2FsbCh0aGlzKSx0aGlzLmI9ITEpO3JldHVybiBifTtHZC5wcm90b3R5cGUuZmlyc3Q9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJmaXJzdCIpLGI9VC5wcm90b3R5cGUuZmlyc3QuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmZpcnN0LmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07CkdkLnByb3RvdHlwZS5sYXN0PWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywibGFzdCIpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUubGFzdC5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O0dkLnByb3RvdHlwZS5nZXQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZ2V0IiksYztjPWI/VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKyh0aGlzLmEubGVuZ3RoLWIubGVuZ3RoKSk6VC5wcm90b3R5cGUuZ2V0LmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmdldC5jYWxsKHRoaXMsYSksdGhpcy5iPSExKTtyZXR1cm4gY307R2QucHJvdG90eXBlLmZpbmQ9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywiZmluZCIpLGM9VC5wcm90b3R5cGUuZmluZC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKR2QucHJvdG90eXBlLmZpbmRJbmRleD1mdW5jdGlvbihhKXt2YXIgYj1IZCh0aGlzLCJmaW5kSW5kZXgiKSxjPVQucHJvdG90eXBlLmZpbmRJbmRleC5jYWxsKHRoaXMsYSk7YiYmKElkKHRoaXMsYiksYz1ULnByb3RvdHlwZS5maW5kSW5kZXguY2FsbCh0aGlzLGEpLHRoaXMuYj0hMSk7cmV0dXJuIGN9O249R2QucHJvdG90eXBlO24uVGE9ZnVuY3Rpb24oYSl7dmFyIGI9SGQodGhpcywibWVyZ2UiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLlRhLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTtuLmhiPWZ1bmN0aW9uKGEpe3ZhciBiPUhkKHRoaXMsImNvcnJlY3QiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKTtiJiYoSWQodGhpcyxiKSxjPVQucHJvdG90eXBlLmhiLmNhbGwodGhpcyxhKSx0aGlzLmI9ITEpO3JldHVybiBjfTsKbi5pYj1mdW5jdGlvbigpe3ZhciBhPUhkKHRoaXMsImdldFNlZWtSYW5nZSIpLGI9VC5wcm90b3R5cGUuaWIuY2FsbCh0aGlzKTthJiYoSWQodGhpcyxhKSxiPVQucHJvdG90eXBlLmliLmNhbGwodGhpcyksdGhpcy5iPSExKTtyZXR1cm4gYn07bi5nZXRTZWVrUmFuZ2VHYXBzPWZ1bmN0aW9uKCl7dmFyIGE9SGQodGhpcywiZ2V0U2Vla1JhbmdlR2FwcyIpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpO2EmJihJZCh0aGlzLGEpLGI9VC5wcm90b3R5cGUuZ2V0U2Vla1JhbmdlR2Fwcy5jYWxsKHRoaXMpLHRoaXMuYj0hMSk7cmV0dXJuIGJ9O24uSWE9ZnVuY3Rpb24oKXt2YXIgYT1IZCh0aGlzLCJhc3NlcnRDb3JyZWN0UmVmZXJlbmNlcyIpO1QucHJvdG90eXBlLklhLmNhbGwodGhpcyk7YSYmKElkKHRoaXMsYSksVC5wcm90b3R5cGUuSWEuY2FsbCh0aGlzKSx0aGlzLmI9ITEpfTtmdW5jdGlvbiBKZChhLGIsYyxkLGUsZixnLGgpe3RoaXMubT1hO3RoaXMuYT1iO3RoaXMuZz1jO3RoaXMuZj1kO3RoaXMubz1lO3RoaXMuYj1udWxsO3RoaXMuaT1mO3RoaXMuaD1udWxsO3RoaXMuaj1ofHxudWxsfUpkLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5pPXRoaXMuZj10aGlzLmc9dGhpcy5hPW51bGw7dGhpcy5iJiYodGhpcy5iLmRlc3Ryb3koKSx0aGlzLmI9bnVsbCl9OwpKZC5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7aWYodGhpcy5iKXJldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKTt2YXIgYT1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImZibHNfdXNlX3RpbWVsaW5lX3NlZ21lbnRfaW5kZXgiLCExKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInVzZV90aW1lbGluZV9zZWdtZW50X2luZGV4IiwhMSkmJih0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWR8fHRoaXMuYS5GQldhc0xpdmV8fGEpKWE9bmV3IHBkKHRoaXMuZyx0aGlzLmYsdGhpcy5mLmEsdGhpcy5pLHRoaXMuaik7ZWxzZXtmb3IodmFyIGE9dGhpcy5mLmEsYj1vZChhLkMsYS5zfHwxLHRoaXMuZy5kdXJhdGlvbnx8MCx0aGlzLm0uZ2V0TnVtYmVyKCJudW1fcHJlZGljdGl2ZV9zZWdtZW50cyIsMCksdGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlLHRoaXMuaCksYz1bXSxkPTA7ZDxiLmxlbmd0aDsrK2Qpe3ZhciBlPQpiW2RdLnN0YXJ0LGY9YltkXS5lbmQsZz1iW2RdLnVkfHwwLGg9YltkXS50aW1lc2NhbGVkR2FwSW5mbyxrPWUvYS5zLGw9Zi9hLnMsbT1kK2EuYixwPWUsbT1tZCh0aGlzLmksdGhpcy5mLDA8Zz9nOm0scCwwPGc/ITA6ITEsdGhpcy5qKTtpZighbSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGdlbmVyYXRlIG1lZGlhIFVSTC4iKSxhLnR5cGU9ImRhc2giLFByb21pc2UucmVqZWN0KGEpO3ZhciB0PShhLkx8fDApL2EucztjLnB1c2gobmV3IGlkKGstdCxsLXQsbSxwLGYtZSxofHxudWxsLDA8ZykpfWI9dGhpcy5hLkZCSXNMaXZlVGVtcGxhdGVkfHx0aGlzLmEuRkJXYXNMaXZlO1ZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwwKSYmbnVsbD09dGhpcy5oJiZ0aGlzLmEuRkJJc0xpdmVUZW1wbGF0ZWQ/KGI9YyxjPWIuc2xpY2UoLVZpZGVvUGxheWVyU2hha2FHbG9iYWxDb25maWcuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfdXNlX3BlcmZfdGVzdF9zZWdtZW50X2luZGV4X2Jhc2VfaW50IiwKMCkpLGE9bmV3IEdkKGMsYixhLnN8fDEpKTphPW5ldyBUKGMsYS5zfHwxLGIpfXRoaXMuYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz90aGlzLmI9bmV3IFMoYSx0aGlzLmEsdGhpcy5nLHRoaXMubyk6dGhpcy5iPW5ldyBSKGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUodGhpcy5iKX07SmQucHJvdG90eXBlLmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ifTtKZC5wcm90b3R5cGUuRWM9ZnVuY3Rpb24oYSl7dGhpcy5oPWF9O2Z1bmN0aW9uIEtkKCl7dGhpcy5YPUxkKys7dGhpcy5pZD10aGlzLmFhPXRoaXMuTT1udWxsO3RoaXMuYT0wO3RoaXMuaGVpZ2h0PXRoaXMud2lkdGg9dGhpcy5iYW5kd2lkdGg9bnVsbDt0aGlzLmNvZGVjcz10aGlzLm1pbWVUeXBlPSIiO3RoaXMuZj10aGlzLmZiUXVhbGl0eUNsYXNzPXRoaXMuZmJRdWFsaXR5TGFiZWw9bnVsbDt0aGlzLmZyYW1lUmF0ZT0iIjt0aGlzLnN3aXRjaFJlYXNvbj10aGlzLmg9dGhpcy5nPXRoaXMuYz1udWxsO3RoaXMuYj1bXTt0aGlzLm9hPSExO3RoaXMuZmE9ITB9dmFyIExkPTA7S2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLk0mJih0aGlzLk0uZGVzdHJveSgpLHRoaXMuTT1udWxsKTt0aGlzLmFhJiYodGhpcy5hYS5kZXN0cm95KCksdGhpcy5hYT1udWxsKX07ZnVuY3Rpb24gTWQoYSl7cmV0dXJuIGEubWltZVR5cGUuc3BsaXQoIi8iKVswXX0KZnVuY3Rpb24gTmQoYSl7dmFyIGI9YS5taW1lVHlwZXx8IiI7YS5jb2RlY3MmJihiKz0nOyBjb2RlY3M9IicrYS5jb2RlY3MrJyInKTtyZXR1cm4gYn1mdW5jdGlvbiBPZCgpe3RoaXMuWD1QZCsrO3RoaXMuaWQ9bnVsbDt0aGlzLmNvbnRlbnRUeXBlPXRoaXMubGFuZz0iIjt0aGlzLmY9dGhpcy5iPSExO3RoaXMuYz1udWxsO3RoaXMudj1bXTt0aGlzLmE9W119dmFyIFBkPTA7T2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMudi5sZW5ndGg7KythKXRoaXMudlthXS5kZXN0cm95KCk7dGhpcy5hPXRoaXMudj1udWxsfTtmdW5jdGlvbiBRZChhKXtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2Mpe3ZhciBkPW5ldyBSZDtkLmlkPWEuWDtkLmE9YS5hW2NdO2QuY29udGVudFR5cGU9YS5jb250ZW50VHlwZTtkLmI9YS52Lmxlbmd0aD9OZChhLnZbMF0pOiIiO2IucHVzaChkKX1yZXR1cm4gYn0KZnVuY3Rpb24gU2QoKXt0aGlzLmlkPW51bGw7dGhpcy5zdGFydD0wO3RoaXMuZHVyYXRpb249bnVsbDt0aGlzLmE9W119U2QucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXtmb3IodmFyIGE9MDthPHRoaXMuYS5sZW5ndGg7KythKXRoaXMuYVthXS5kZXN0cm95KCk7dGhpcy5hPW51bGx9O2Z1bmN0aW9uIFRkKCl7dGhpcy5BPXRoaXMuZj10aGlzLmI9ITE7dGhpcy5vPXRoaXMubT10aGlzLkI9MDt0aGlzLmo9dGhpcy5pPXRoaXMuYz1udWxsO3RoaXMuZz0wO3RoaXMuYT1bXTt0aGlzLmg9ITE7dGhpcy53PSJub25lIjt0aGlzLnU9bnVsbH1UZC5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe2Zvcih2YXIgYT0wO2E8dGhpcy5hLmxlbmd0aDsrK2EpdGhpcy5hW2FdLmRlc3Ryb3koKTt0aGlzLmE9bnVsbH07ZnVuY3Rpb24gUmQoKXt0aGlzLmlkPTA7dGhpcy5hPW51bGw7dGhpcy5iPXRoaXMuY29udGVudFR5cGU9IiJ9O2Z1bmN0aW9uIFUoYSxiLGMsZCxlLGYsZyxoLGssbCxtLHAsdCx3KXtGLmNhbGwodGhpcyxhKTt0aGlzLmI9Yjt0aGlzLmE9Yzt0aGlzLmM9bmV3IG5iKGMsZCxlLGYsdGhpcyxoLHcpO3RoaXMuUGE9aDt0aGlzLm89e307dGhpcy5yYT1mO3RoaXMueWE9MDt0aGlzLm1hPXRoaXMuZj10aGlzLmc9bnVsbDt0aGlzLnRhPSExO3RoaXMudz10aGlzLmNhPW51bGw7dGhpcy5TPSExO3RoaXMuamE9MDt0aGlzLmthPSExO3RoaXMuRD1udWxsO3RoaXMuWj10aGlzLmVhPXRoaXMuaD0hMTt0aGlzLk89bmV3IEk7dGhpcy5HPXRoaXMuVD10aGlzLkI9ITE7dGhpcy5SPTA7dGhpcy5nYT0xNTt0aGlzLkdhPXRoaXMudmE9dGhpcy5VPSExO3RoaXMubmE9MTt0aGlzLiQ9Zzt0aGlzLnhhPSExO3RoaXMubD1udWxsO3RoaXMuSGE9ITE7dGhpcy5JPXRoaXMuSj10aGlzLks9bnVsbDt0aGlzLlY9ITE7dGhpcy51PW18fG51bGw7dGhpcy5GPXB8fG51bGw7dGhpcy5qPXR8fG51bGw7dGhpcy5ZPW51bGw7dGhpcy5iYT0KITE7dGhpcy5EYT17fTt0aGlzLkZhPWs7dGhpcy5pPW51bGw7dGhpcy5pYT0hMTt0aGlzLkVhPTA7dGhpcy5DYT1lP2Uuc3BsaXQoIjsiKVswXToiIjt0aGlzLlA9ITE7dGhpcy53YT0wO3RoaXMuc2E9bDt0aGlzLkE9dGhpcy5tPW51bGx9cihVLEYpO1UucHJvdG90eXBlLkJhPWZ1bmN0aW9uKCl7cmV0dXJue1NvdXJjZUJ1ZmZlck1hbmFnZXI6dGhpcy5jfX07VS5wcm90b3R5cGUuZ2V0RGVidWc9VS5wcm90b3R5cGUuQmE7ZnVuY3Rpb24gVWQoYSxiKXtyZXR1cm4gbmV3IFZpZGVvUGxheWVyQml0cmF0ZUVzdGltYXRvcihuZXcgeChhLmEuZ2V0TnVtYmVyKCJsaXZlX2JpdHJhdGVfZXN0aW1hdGVzX2hhbGZfbGlmZSIsMikpLGIsYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19taW5pbXVtX3NhbXBsZV9jb3VudCIsMSksYS5hLmdldE51bWJlcigibGl2ZV9iaXRyYXRlX2VzdGltYXRlc19sYXJnZV9zYW1wbGVfd2VpZ2h0X2ZhY3RvciIsMTApKX0KVS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuUj1OdW1iZXIoYS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSkpO3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoImluaXRpYWxfc3RyZWFtX2J1ZmZlcl9zaXplX2Zvcl92aWRlb19zdHJlYW0iLDApOzA8YiYmLTEhPT10aGlzLkNhLmluZGV4T2YoInYiKSYmKHRoaXMuUj1iKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5qYT1OdW1iZXIoYS5keW5hbWljU3RyZWFtQnVmZmVyU2l6ZSkpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5EYT1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5zbWFydEJ1ZmZlckFkanVzdG1lbnRFbmFibGVkJiYodGhpcy5iYT1Cb29sZWFuKGEuc21hcnRCdWZmZXJBZGp1c3RtZW50RW5hYmxlZCkpO251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZ2E9TnVtYmVyKGEuc3RyZWFtQnVmZmVyU2l6ZSkpOwpudWxsIT1hLmZpeEJ1ZmZlcmluZ0dvYWxEZXRlcm1pbmF0aW9uJiYodGhpcy5VPUJvb2xlYW4oYS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbikpO251bGwhPWEuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnMmJih0aGlzLnZhPUJvb2xlYW4oYS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycykpO251bGwhPWEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkJiYodGhpcy5HYT1Cb29sZWFuKGEudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkKSk7bnVsbCE9YS5zZWdtZW50UmVxdWVzdFRpbWVvdXQmJih0aGlzLmMuVD1OdW1iZXIoYS5zZWdtZW50UmVxdWVzdFRpbWVvdXQpKTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy54YT1Cb29sZWFuKGEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpKTtudWxsIT1hLnBlcmZvcm1hbmNlTG9nZ2VyJiYodGhpcy5sPXRoaXMuby5wZXJmb3JtYW5jZUxvZ2dlcj0KYS5wZXJmb3JtYW5jZUxvZ2dlcik7bnVsbCE9YS5hYnJMb2dnZXImJih0aGlzLm8uYWJyTG9nZ2VyPWEuYWJyTG9nZ2VyKTtudWxsIT1hLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0JiYodGhpcy5vLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PUJvb2xlYW4oYS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCkpO251bGwhPWEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMmJih0aGlzLm8ubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9TnVtYmVyKGEubGl2ZURhdGFGZXRjaE1heFJldHJpZXMpKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLm8ubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1OdW1iZXIoYS5saXZlU291cmNlQnVmZmVyQ2xlYXJNYXhSZXRyaWVzKSk7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuby5za2lwRW1wdHlTZWdtZW50cz1Cb29sZWFuKGEuc2tpcEVtcHR5U2VnbWVudHMpKTtudWxsIT0KYS5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYodGhpcy5vLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2U9TnVtYmVyKGEucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSkpO251bGwhPWEudXNlTWljcm9UYXNrVGltZW91dHMmJih0aGlzLkhhPUJvb2xlYW4oYS51c2VNaWNyb1Rhc2tUaW1lb3V0cykpO2E9dGhpcy5jO2I9dGhpcy5vO251bGwhPWIucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJihhLlI9Qm9vbGVhbihiLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0KSk7bnVsbCE9Yi5wZXJmb3JtYW5jZUxvZ2dlciYmKGEubD1iLnBlcmZvcm1hbmNlTG9nZ2VyKTtudWxsIT1iLmFickxvZ2dlciYmKGEuST1iLmFickxvZ2dlcik7bnVsbCE9Yi5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKGEuTz1iLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1iLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJihhLks9CmIubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcyk7bnVsbCE9Yi5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlJiYoYS5QPWIucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZSk7bnVsbCE9Yi5za2lwRW1wdHlTZWdtZW50cyYmKGEuVj1iLnNraXBFbXB0eVNlZ21lbnRzKX07VS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe1ZkKHRoaXMpO3RoaXMuTy5kZXN0cm95KCk7dGhpcy5yYT10aGlzLmc9dGhpcy5PPW51bGw7dGhpcy5jLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5jPW51bGw7dGhpcy5hLmdldEJvb2woImZpeGluZ19zY2hlZHVsZXJfZGlzYWJsZV9sZWFrcyIsITApJiYodGhpcy51PW51bGwpO3RoaXMuSmE9bnVsbH07bj1VLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLmZ9OwpuLktjPWZ1bmN0aW9uKGEpe3RoaXMuQnx8YS50aGVuKGZ1bmN0aW9uKCl7dGhpcy5CPSEwO3RoaXMud3x8Vih0aGlzLDApfS5iaW5kKHRoaXMpKS5jYXRjaChmdW5jdGlvbigpe30pO3JldHVybiB0aGlzLk99O24uRGI9ZnVuY3Rpb24oKXt0aGlzLkc9ITA7V2QodGhpcyl9O24uZ2I9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5HfTsKbi5qYj1mdW5jdGlvbihhLGIsYyxkLGUpe2lmKGEhPXRoaXMuZyl7dmFyIGY9MTt0aGlzLmEuZ2V0Qm9vbCgidXNlX2xpdmVfYml0cmF0ZV9lc3RpbWF0ZXMiLCExKSYmbnVsbCE9PXRoaXMubSYmMDx0aGlzLmcuYmFuZHdpZHRoJiYoZj10aGlzLm0uZ2V0RXN0aW1hdGUoKS90aGlzLmcuYmFuZHdpZHRoKTt2YXIgZz1hLmFhO2cmJih0aGlzLm1hPWcuY3JlYXRlKHRoaXMubCx0aGlzLlBhKSk7dGhpcy5aPSEwO2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihnKXtpZih0aGlzLmIpe3RoaXMuWj0hMTt2YXIgaz10aGlzLmc7dGhpcy5nPWE7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJih0aGlzLm09VWQodGhpcywoYS5iYW5kd2lkdGh8fDApKmYpKTt2YXIgbD10aGlzLmY7dGhpcy5mPWc7dGhpcy5jLkQ9dGhpcy5mO2wmJmwuYS5GYygpO3VkKHRoaXMuZixmdW5jdGlvbihhKXt2YXIgYj1hO3RoaXMuaiYmdGhpcy5qLnNldFNlZ21lbnRzKHRoaXMuZi5nZXRTZWdtZW50cygpKTsKdGhpcy51JiYoYT1hJiZ0aGlzLmEuZ2V0Qm9vbCgib3B0aW1pemVfc3RyZWFtX2dldF9zZWdtZW50c19jYWxscyIsITEpP2E6dGhpcy5mLmdldFNlZ21lbnRzKCksdGhpcy5hLmdldEJvb2woInRlbXBsYXRlZF91cGRhdGVfc3JtX2J5X2RlbHRhX29mX2NoYW5nZWRfcmVmZXJlbmNlc19ib29sIiwhMSkmJnRoaXMuZi5LJiZiLmxlbmd0aDx0aGlzLmYuZ2V0U2VnbWVudHMoKS5sZW5ndGgmJihhPXRoaXMuZi5nZXRTZWdtZW50cygpLnNsaWNlKC0oYi5sZW5ndGgrMSkpKSxYZCh0aGlzLHRoaXMuZy5pZHx8IiIsYSkpfS5iaW5kKHRoaXMpKTt0aGlzLmomJnRoaXMuai5zZXRTZWdtZW50cyh0aGlzLmYuZ2V0U2VnbWVudHMoKSk7aWYodGhpcy51KXt2YXIgbD1bXSxtPXRoaXMuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9jaHVua2VkX3NlZ21lbnRfdXBkYXRlX2xpbWl0X2ludCIsMCk7aWYobSl7Zz10aGlzLmYubGVuZ3RoKCk7Zm9yKHZhciBtPU1hdGgubWluKGcsbSkscD0xO3A8PW07KytwKWwucHVzaCh0aGlzLmYuZ2V0KGctCnApKX1lbHNlIGw9Zy5nZXRTZWdtZW50cygpO1hkKHRoaXMsYS5pZHx8IiIsbCl9dGhpcy50YT0hMDt0aGlzLmNhPWQ/ZDpudWxsO3RoaXMuU3x8KHRoaXMuYS5nZXRCb29sKCJtYWtlX2Vhcmx5X3RyYWNrX3NlbGVjdGlvbiIsITEpJiZ0aGlzLmgmJiF0aGlzLlAmJiF0aGlzLnc/Vih0aGlzLDApOms/Yj9ZZCh0aGlzLCEwLGMpOmUmJllkKHRoaXMsITEpOlYodGhpcywwKSl9fSkpLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXt0aGlzLlo9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpfX07bi5DYz1mdW5jdGlvbihhKXtyZXR1cm4gWWQodGhpcywhIWEpfTtuLkhjPWZ1bmN0aW9uKCl7dGhpcy5rYT0hMH07bi5KYz1mdW5jdGlvbihhKXt0aGlzLkVhPWF9OwpmdW5jdGlvbiBYZChhLGIsYyl7YS5hLmdldE51bWJlcigidGVtcGxhdGVkX2NodW5rZWRfc2VnbWVudF91cGRhdGVfbGltaXRfaW50IiwwKSYmYS51LnVwZGF0ZVNlZ21lbnRJbmRleChiLGEuZik7YS5hLmdldEJvb2woInVzZV91cGRhdGVfc2VnbWVudHNfYnlfc2hha2FfcmVmZXJlbmNlIiwhMCkmJmEudS51cGRhdGVTZWdtZW50c0J5U2hha2FSZWZlcmVuY2VzKGIsYyl9CmZ1bmN0aW9uIFlkKGEsYixjKXthLmcmJiFhLlMmJihhLlM9ITAsVmQoYSksYS5UPSExLG51bGwhPT1hLkEmJmEuQS5yZXNldCgpLGEuYy5hYm9ydCgpLnRoZW4oSihhLGZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5iLmN1cnJlbnRUaW1lO3RoaXMuYS5nZXRCb29sKCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIsITEpJiYwPT1hPyh0aGlzLmwmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJzZXRfY3VycmVudF90aW1lX2luX3Jlc3luYyIpLGE9dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lKTp0aGlzLmEuZ2V0Qm9vbCgiYmV0dGVyX3NldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiwhMSkmJmE8dGhpcy5mLmZpcnN0KCkuc3RhcnRUaW1lJiYoQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsInNldF9jdXJyZW50X3RpbWVfaW5fcmVzeW5jIiksYT10aGlzLmYuZmlyc3QoKS5zdGFydFRpbWUrdGhpcy5hLmdldE51bWJlcigicmVzeW5jX3NldF9jdXJyZW50X3RpbWVfZnVkZ2VfZmFjdG9yIiwKMCkpO2lmKCFiJiYwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTtpZihjKXJldHVybiBDYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lK2MpO3RoaXMuaWE9ITA7cmV0dXJuIEJiKHRoaXMuYyl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLlM9ITE7Vih0aGlzLDApfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt0aGlzLlM9ITE7ImFib3J0ZWQiIT1hLnR5cGUmJih0aGlzLkI/KGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpOnRoaXMuTy5yZWplY3QoYSkpfSkpKX1uLkljPWZ1bmN0aW9uKGEpe3JldHVybiAwPHJiKHRoaXMuYyxhKSYmMDw9RmIodGhpcy5jLGEpfTtuLnZiPWZ1bmN0aW9uKCl7fTtuLkViPWZ1bmN0aW9uKCl7cmV0dXJuITB9OwpmdW5jdGlvbiBaZChhKXthLmVhPWEuZWF8fCFhLmIucGF1c2VkO2EuYi5wYXVzZWR8fGEuYmF8fChhLlk9RGF0ZS5ub3coKSxhLmJhPSEwKTt2YXIgYj1hLkRhLGM9bnVsbDtpZihiLmluRXhwZXJpbWVudClpZihiLnVzZVNtYXJ0QnVmZmVyaW5nKXtpZihhLmJhJiZhLlkpe3ZhciBjPShEYXRlLm5vdygpLWEuWSkvMUUzLGQ9bnVsbDsxPmM/Yz1udWxsOihkPTM+Yz9iLmJ1ZmZlclNpemVfMDBfdG9fMDM6MTA+Yz9iLmJ1ZmZlclNpemVfMDNfdG9fMTA6MzA+Yz9iLmJ1ZmZlclNpemVfMTBfdG9fMzA6NjA+Yz9iLmJ1ZmZlclNpemVfMzBfdG9fNjA6Yi5idWZmZXJTaXplX2Fib3ZlXzYwLGM9TWF0aC5taW4oZCxhLmIuZHVyYXRpb24pKX19ZWxzZSBhLlkmJihjPWIubm9uU21hcnRCdWZmZXJTaXplKTtjfHwoYz1hLkdhJiZhLmIucGF1c2VkP2EuUjphLmdhLGEuYi5wYXVzZWQmJjE8YS5uYSYmKGMqPWEubmEpLGEuamEmJiFhLmIucGF1c2VkJiYoYz1NYXRoLm1heChNYXRoLm1pbihhLmYubGFzdCgpLmVuZFRpbWUtCmEuYi5jdXJyZW50VGltZSxhLmphKSxhLmdhKSkpO2M9KGEuVT9hLmgmJmEuZWE6YS5oKT9NYXRoLm1heChhLlIsYyk6YS5SOzA8YS5hLmdldE51bWJlcigiYXVkaW9fdmlkZW9fYnVmZmVyX2RpZmZfdGhyZXNob2xkIiwxNDQwMCkmJihiPWEuYi5idWZmZXJlZC5sZW5ndGg/YS5iLmJ1ZmZlcmVkLmVuZChhLmIuYnVmZmVyZWQubGVuZ3RoLTEpOjAsYj1NYXRoLm1heCgwLGItYS5iLmN1cnJlbnRUaW1lKSxjPU1hdGgubWluKGMsYithLmEuZ2V0TnVtYmVyKCJhdWRpb192aWRlb19idWZmZXJfZGlmZl90aHJlc2hvbGQiLDE0NDAwKSkpO3JldHVybiBjfQpmdW5jdGlvbiAkZChhKXt2YXIgYj1hLmEuZ2V0TnVtYmVyKCJzdGFydF9zdHJlYW1fYnVmZmVyX3NpemUiLDEpLGM9YS5hLmdldE51bWJlcigibG93X3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZSIsMSk7aWYoYiE9PWMpe3ZhciBkPWEuYS5nZXROdW1iZXIoImxvd19iYW5kd2lkdGhfc3RhcnRfc3RyZWFtX2J1ZmZlcl9zaXplX3RocmVzaG9sZCIsMCksZT1hLmEuZ2V0TnVtYmVyKCJzY2hlZHVsZWRfdmlkZW9zX3N0YXJ0X3N0cmVhbV9idWZmZXJfc2l6ZV90aHJlc2hvbGQiLDApO2lmKDA8ZCYmYS5yYS5nZXRCYW5kd2lkdGgoKTxkJiZWaWRlb1N0cmVhbWluZ1Rhc2tRdWV1ZVByb3ZpZGVyLmdldFF1ZXVlU2l6ZSgidmlkZW8iKT49ZSlyZXR1cm4gY31yZXR1cm4gYn1mdW5jdGlvbiBhZShhLGIpe3JldHVybiByYihhLmMsYS5oP2I6YisoYS5EfHwwKSl9CmZ1bmN0aW9uIGJlKGEpe2lmKGEuaCYmIWEuQnx8YS5hLmdldEJvb2woIm1ha2VfZWFybHlfdHJhY2tfc2VsZWN0aW9uIiwhMSkmJmEuWnx8YS5hLmdldEJvb2woInByZXZlbnRfZmV0Y2hfd2hpbGVfZmV0Y2hpbmdfaW5fc3RyZWFtIiwhMSkmJmEuUClyZXR1cm4gYS53PW51bGwsUHJvbWlzZS5yZXNvbHZlKCk7dmFyIGI7aWYoYj1hLkImJiFhLkcpYj0xPGEuYy5hLmJ1ZmZlcmVkLmxlbmd0aD8hMDohMTtpZihiJiYoYS5rYXx8SGIoYS5jLGEuYikpKXJldHVybiBhLnhhJiYoYS5iLmN1cnJlbnRUaW1lPUdiKGEuYikpLG51bGw9PT1hLksmJihhLmthPSExLFlkKGEsITApKSxQcm9taXNlLnJlc29sdmUoKTthLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKXx8KGEudz1udWxsKTtiPWEuZzt2YXIgYz1hLmYsZD1hLmIuY3VycmVudFRpbWU7YS5hLmdldEJvb2woInVzZV9wZW5kaW5nX3NlZWtfcG9zaXRpb25fZm9yX3JlZmVyZW5jZSIsCiExKSYmMD09PWEuYi5yZWFkeVN0YXRlJiYhZCYmYS5KJiYoZD1hLkopO2lmKGEuVSYmIWEuaCYmYWUoYSxkKT49JGQoYSkpcmV0dXJuIGEuYS5nZXRCb29sKCJmaXhfY2hyb21lX21zZV9yZWdyZXNzaW9uIiwhMSkmJjE9PT1hLmIucmVhZHlTdGF0ZSYmMDxhLmIuYnVmZmVyZWQubGVuZ3RoJiYoYS5iLmN1cnJlbnRUaW1lPWEuYi5jdXJyZW50VGltZSksY2UoYSksVihhLDApLFByb21pc2UucmVzb2x2ZSgpO3ZhciBlPW51bGwsZj1bXTtudWxsIT09YS5LJiYoZD1hLkspO2lmKGFlKGEsZCk+PVpkKGEpKWlmKGEuVD0hMCxudWxsIT09YS5JJiZhLkkucmVzb2x2ZSgpLGEuVXx8Y2UoYSksZj1kZShhKT9qZShhLGQpOltdLDA8Zi5sZW5ndGgpZT1mWzBdO2Vsc2UgcmV0dXJuIFYoYSwxRTMvKDUqKE1hdGguYWJzKGEuYi5wbGF5YmFja1JhdGUpfHwxKSkpLFByb21pc2UucmVzb2x2ZSgpO2Vsc2V7dmFyIGc9MTthLmomJihnPWEuai5nZXROdW1iZXJPZlNlZ21lbnRzKCkpO3ZhciBoPXFiKGEuYyk7CmEuViYmKGg9bnVsbCxudWxsIT09YS5LJiYoYS5WPSExKSk7YS5hLmdldEJvb2woImZpbmRfbGFzdF9pbnNlcnRlZF9zZWdtZW50X2luX3NlZ21lbnRfaW5kZXgiLCExKSYmaCYmIWMuYS5hJiYoaD1jLmZpbmQoaC5zdGFydFRpbWUpKTthLmEuZ2V0Qm9vbCgic2V0X3BlbmRpbmdfc2Vla19vbl9zZXRfY3VycmVudF90aW1lX2ZhaWx1cmUiLCExKSYmbnVsbCE9YS5KJiYoZD1hLkosYS5KPW51bGwpO2c9a2UoYSxkLGMsZyxoKTtlPWdbMF07YS5qJiYoYS5qLnNldEZ1dHVyZVNlZ21lbnRzKGcpLGEuai5zZXRCdWZmZXJpbmdHb2FsKFpkKGEpLWFlKGEsZCkpKTshZSYmZGUoYSkmJihmPWplKGEsZCksMDxmLmxlbmd0aCYmKGU9ZlswXSkpfWlmKCFlKXJldHVybiBjZShhKSxhLkImJiFhLkcmJihhLkc9ITAsV2QoYSkpLFYoYSwyMDApLFByb21pc2UucmVzb2x2ZSgpO2EuYS5nZXRCb29sKCJjcmVhdGVfb3duX3NlZ21lbnRfcmVmZXJlbmNlX2Zvcl9zYm0iLCExKSYmKGU9amQoZSxlLnN0YXJ0VGltZSwKZS5lbmRUaW1lKSk7bGUoYSxtZShhLGQsZiksYi5pZHx8IiIpO25lKGEsbWUoYSxkLGYpKTthLmEuZ2V0Qm9vbCgicmVmcmVzaF9zZWdtZW50X3JlZmVyZW5jZV9mYWlsb3Zlcl91cmkiLCEwKSYmKGUudXJsPWUudXJsLmNsb25lKCkpO2EuUD0hMDthLndhPURhdGUubm93KCk7InZpZGVvIj09PWIubWltZVR5cGUuc3BsaXQoIi8iKVswXSYmYS5yYS5zZXRSZXByZXNlbnRhdGlvbklEKGIuaWQpO2M9YS5jLmZldGNoKGUsYy5zLGIuYSthLkVhLGEubWEsYS52YSYmIWEuYi5wYXVzZWQsMDxmLmxlbmd0aCxhLnUsYS5GKTtjPWMudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInVwZGF0ZXNfcHJpb3JpdHlfb25fZmV0Y2hfY29tcGxldGUiLCExKSYmbmUodGhpcyxtZSh0aGlzLGQsW10pKTt0aGlzLnNhLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7cmV0dXJuIGF9KSk7YS4kJiYidmlkZW8iPT09Yi5taW1lVHlwZS5zcGxpdCgiLyIpWzBdJiZhLiQuYWRkKGUuc3RhcnRUaW1lfHwKMCxlLmVuZFRpbWV8fDAse2lkOmIuaWQscmVhc29uOmEuY2EscGVyZm9ybWFuY2VMb2dnZXI6YS5sP2EubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0cmVhbV9zd2l0Y2giKTpudWxsfSk7YS5tYT1udWxsO2EudGEmJihhLnRhPSExLGY9YS5jYSxhLmNhPW51bGwsb2UoYSxiLGYsYS5sYSgpKSk7YS5HPSExO3JldHVybiBjLnRoZW4oSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmEuZ2V0Qm9vbCgiY2xlYXJfb2xkX2J1ZmZlciIsITEpP0ViKHRoaXMuYyx0aGlzLmIuY3VycmVudFRpbWUpLnRoZW4oZnVuY3Rpb24oKXtyZXR1cm4gYX0pOmF9KSkudGhlbihKKGEsZnVuY3Rpb24oYSl7dmFyIGI9YS5XLGM9YS5XYzt0aGlzLmh8fCh0aGlzLnlhPWMpO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZudWxsIT1hJiYwPGEuRGMmJjA8YS5IJiYobnVsbD09PXRoaXMubSYmKHRoaXMubT1VZCh0aGlzLHRoaXMuZy5iYW5kd2lkdGh8fDApKSx0aGlzLm0uc2FtcGxlKDgqCmEuRGMsYS5IKSk7YT10aGlzLmEuZ2V0TnVtYmVyKCJidWZmZXJfdmVsb2NpdHlfdGltZV9pbl9wYXN0X3RvX2NvbnNpZGVyIiwwKTswPGEmJm51bGwhPT10aGlzLmcmJiJ2aWRlbyI9PT1NZCh0aGlzLmcpJiYobnVsbD09PXRoaXMuQSYmKHRoaXMuQT1uZXcgQnVmZmVyVmVsb2NpdHkoYSkpLHRoaXMuQS5yZWNvcmRCdWZmZXJBaGVhZChyYih0aGlzLmMsdGhpcy5iLmN1cnJlbnRUaW1lKSkpO3RoaXMuUD0hMTsidmlkZW8iPT09KHRoaXMuZz90aGlzLmcubWltZVR5cGUuc3BsaXQoIi8iKVswXTpudWxsKSYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImZldGNoX2VuZCIsYnViYmxlczohMCxkZXRhaWw6e3N0cmVhbV9mZXRjaF90aW1lX21zOkRhdGUubm93KCktdGhpcy53YSxzZWdtZW50X2xlbmd0aF9tczoxRTMqKGUuZW5kVGltZS1lLnN0YXJ0VGltZSl9fSkpO251bGw9PXRoaXMuRCYmKHRoaXMuRD1iKTt0aGlzLmlhJiYwPHJiKHRoaXMuYyxkKSYmKHRoaXMuaWE9ITEsdGhpcy5hLmdldEJvb2woImRpc2FibGVfbnVkZ2UiLAohMSl8fChiPXkoe3R5cGU6InNob3VsZF9udWRnZSJ9KSx0aGlzLmRpc3BhdGNoRXZlbnQoYikpKTtWKHRoaXMsMCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuUD0hMTtyZXR1cm4gUHJvbWlzZS5yZWplY3QoYSl9KSl9ZnVuY3Rpb24gbWUoYSxiLGMpe3ZhciBkPWEuaD9iOmIrKGEuRHx8MCk7cmV0dXJue2FkZGl0aW9uYWxTZWdtZW50c1JlcXVpcmVkOmMscGxheWhlYWQ6YixidWZmZXJTdGFydDpkLGJ1ZmZlckVuZDphZShhLGIpK2QsYnVmZmVyaW5nR29hbDpaZChhKSxpc1BsYXlpbmc6IWEuYi5wYXVzZWR9fWZ1bmN0aW9uIGxlKGEsYixjKXthLnUmJmEudS51cGRhdGVQbGF5ZXJTdGF0ZShjLGIpfWZ1bmN0aW9uIG5lKGEsYil7YS5GJiZhLkYudXBkYXRlUGxheWVyU3RhdGUoYil9CmZ1bmN0aW9uIHBlKGEsYixjKXt2YXIgZD1udWxsIT09YS5pJiYtMTxhLmkmJmEuaTxjLmxlbmd0aCgpLTE/Yy5nZXQoYS5pKTpudWxsLGU9bnVsbDtpZihudWxsPT09YS5pfHwhZHx8ZC5zdGFydFRpbWU+YilyZXR1cm4gZT1jLmZpbmRJbmRleChiKSxhLmk9ZTtmb3IoZD1hLmk7ZDw9YS5pKzE7ZCsrKWlmKGU9Yy5nZXQoZCksZS5zdGFydFRpbWU8PWImJmUuZW5kVGltZT5iKXJldHVybiBhLmk9ZDtlPWMuZmluZEluZGV4KGIpO3JldHVybihhLmk9ZSl8fC0xfWZ1bmN0aW9uIGRlKGEpe3JldHVybiBhLmEuZ2V0Qm9vbCgicmVwbGFjZV9sb3dlcl9xdWFsaXR5X2J1ZmZlciIsITEpJiZudWxsPT09YS5GJiZhLmVhJiZudWxsIT09YS4kJiYidmlkZW8iPT09TWQoYS5nKSYmbnVsbCE9PWEuZn0KZnVuY3Rpb24gamUoYSxiKXtpZighYS5GYXx8IWEuZy5pZHx8IWEuZilyZXR1cm5bXTt2YXIgYz1wZShhLGIsYS5mKTtyZXR1cm4tMT09PWM/W106QnVmZmVyUmVwbGFjZW1lbnRIZWxwZXIuZ2V0U2VnbWVudHNUb1JlcGxhY2VMb3dlclF1YWxpdHkoYS5mLmdldFNlZ21lbnRzKCksYixjLGEuZy5pZCxhLkZhLGEuJCx7dGhyZXNob2xkQmVmb3JlOmEuYS5nZXROdW1iZXIoImJ1ZmZlcl9yZXBsYWNlbWVudF9iZWhpbmRfdGhyZXNob2xkIiw1KSx0aHJlc2hvbGRBZnRlcjphLmEuZ2V0TnVtYmVyKCJidWZmZXJfcmVwbGFjZW1lbnRfYWhlYWRfdGhyZXNob2xkIiwxNSksd3JhcFJlcGxhY2VtZW50UGFzdEVuZDphLmEuZ2V0Qm9vbCgid3JhcF9yZXBsYWNlbWVudF9wYXN0X2VuZCIsITEpfSl9Cm4uemM9ZnVuY3Rpb24oKXt2YXIgYTtpZih0aGlzLmwpe3ZhciBiPXRoaXMuYS5nZXROdW1iZXIoInN0cmVhbV9vbnVwZGF0ZV9zYW1wbGluZyIsMCk7YiYmMD09PU1hdGguZmxvb3IoTWF0aC5yYW5kb20oKSpiKSYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigic3RyZWFtX29udXBkYXRlIikuc3RhcnQoKSl9dmFyIGM7dGhpcy5hLmdldE51bWJlcigiZGVjb3VwbGVfc3RyZWFtX29uX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wX2ludCIsMCkmJlYodGhpcyx0aGlzLmEuZ2V0TnVtYmVyKCJkZWNvdXBsZV9zdHJlYW1fb25fdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3BfaW50IiwwKSk7aWYodGhpcy5hLmdldEJvb2woImNhdGNoX3N0cmVhbV91cGRhdGVfc3luY19jb2RlX2Vycm9yIiwhMSkpdHJ5e2M9YmUodGhpcyl9Y2F0Y2goZCl7ZC50eXBlPSJ1bmNhdWdodCIsYSYmYS5zZXRFcnJvcihkKSxjPVByb21pc2UucmVqZWN0KGQpfWVsc2UgYz1iZSh0aGlzKTtjLmNhdGNoKEoodGhpcywKZnVuY3Rpb24oYSl7aWYoImFib3J0ZWQiIT1hLnR5cGUpe2lmKCJzb3VyY2VidWZmZXJfZnVsbCI9PT1hLnR5cGUpcmV0dXJuIEJiKHRoaXMuYykudGhlbihKKHRoaXMsZnVuY3Rpb24oKXtWKHRoaXMsMCl9KSk7dmFyIGI9WzAsNDA0LDQxMCw1MDIsNTAzLDUwNF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmIucHVzaCg0MTcsMjAwKTtiPS0xPT09Yi5pbmRleE9mKGEuc3RhdHVzKTtpZigibmV0Ij09PWEudHlwZSYmIWImJnRoaXMuZylpZih0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MDQ6Vih0aGlzLDJFMyk7YnJlYWs7Y2FzZSA0MTA6dGhpcy5hLmdldEJvb2woImVuZF9hbGxfc3RyZWFtc19vbl80MTAiLCExKT9xZSh0aGlzKTp0aGlzLkRiKCk7YnJlYWs7Y2FzZSA0MTc6Y2FzZSAyMDA6YS5yZXNwb25zZUhlYWRlcnMmJm51bGwhPWEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXT8KdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKTpiPSEwO2JyZWFrO2RlZmF1bHQ6Vih0aGlzLDFFMyl9ZWxzZSBWKHRoaXMsMUUzKSxiPSEwOzA9PT1hLnN0YXR1cz90aGlzLnNhLmluZm9ybU5ldHdvcmtJbnRlcnJ1cHRlZCgpOnRoaXMuc2EuaW5mb3JtTmV0d29ya1Jlc3VtZWQoKTtpZighdGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKXx8YiliPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGIpLHRoaXMubCYmc2V0VGltZW91dChmdW5jdGlvbigpe3ZhciBiPXRoaXMubC5nZXRFdmVudExvZ2dlcigic3RyZWFtX2Vycm9yX2ZhbGxiYWNrIikuc2V0RXJyb3IoYSkuc2V0VHlwZSh0aGlzLkNhLnNwbGl0KCIvIilbMF0pO3RoaXMuYj9iLnNldFJlc3VsdCgiZmFpbGVkIik6CmIuc2V0UmVzdWx0KCJzdWNjZXNzIik7Yi5sb2coKX0uYmluZCh0aGlzKSwwKX19KSk7YSYmYS5sb2coKX07ZnVuY3Rpb24ga2UoYSxiLGMsZCxlKXt2YXIgZj0tMTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Zhc3Rlcl9zdHJlYW1fZ2V0X25leHRfbiIsITEpJiYxPT09ZCYmbnVsbCE9ZSYmbnVsbCE9ZS5lbmRUaW1lKXJldHVybihjPWMuZmluZChlLmVuZFRpbWUpKT9bY106W107bnVsbCE9ZT9mPW51bGwhPWUuZW5kVGltZT9jLmZpbmRJbmRleChlLmVuZFRpbWUpOi0xOihmPXBlKGEsYixjKSwwPmYmJihmPWMubGVuZ3RoKCk/Yy5sZW5ndGgoKS0xOi0xKSk7YT1bXTtpZigwPD1mKWZvcihiPWY7YjxmK2QmJmI8Yy5sZW5ndGgoKTtiKyspYS5wdXNoKGMuZ2V0KGIpKTtyZXR1cm4gYX0KZnVuY3Rpb24gY2UoYSl7aWYoIWEuaCYmbnVsbCE9YS5EKXthLmg9ITA7dmFyIGI9YS5jLGM9YS5ELGQ9Yy1iLlU7MCE9ZCYmKGIuYj1rZChiLmIsZCksYi5VPWMpO2EuTy5yZXNvbHZlKGEuRCl9fW4uRWQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5ofTtVLnByb3RvdHlwZS5oYXNTdGFydGVkPVUucHJvdG90eXBlLkVkO1UucHJvdG90eXBlLmtiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVH07VS5wcm90b3R5cGUuaGFzSGl0QnVmZmVyaW5nR29hbD1VLnByb3RvdHlwZS5rYjtVLnByb3RvdHlwZS5sYT1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5tP251bGw6dGhpcy5tLmdldEVzdGltYXRlKCl9O1UucHJvdG90eXBlLmdldEJpdHJhdGVFc3RpbWF0ZT1VLnByb3RvdHlwZS5sYTtVLnByb3RvdHlwZS5xYj1mdW5jdGlvbigpe3JldHVybiBudWxsPT09dGhpcy5BP251bGw6dGhpcy5BLmdldFZlbG9jaXR5KCl9O1UucHJvdG90eXBlLmdldEJ1ZmZlclZlbG9jaXR5PVUucHJvdG90eXBlLnFiOwpmdW5jdGlvbiBvZShhLGIsYyxkKXt2YXIgZT1iLm1pbWVUeXBlLnNwbGl0KCIvIilbMF07Yj15KHt0eXBlOiJhZGFwdGF0aW9uIixpZDpiLmlkLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6ZSxzaXplOiJ2aWRlbyIhPWU/bnVsbDp7d2lkdGg6Yi53aWR0aCxoZWlnaHQ6Yi5oZWlnaHR9LGJhbmR3aWR0aDpkfHxiLmJhbmR3aWR0aCxyZWFzb246Y30pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBxZShhKXt2YXIgYj15KHt0eXBlOiJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIn0pO2EuZGlzcGF0Y2hFdmVudChiKX1mdW5jdGlvbiBXZChhKXt2YXIgYj15KHt0eXBlOiJlbmRlZCJ9KTthLmRpc3BhdGNoRXZlbnQoYil9VS5wcm90b3R5cGUuT2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5GfTtVLnByb3RvdHlwZS5nZXRWaWRlb1N0cmVhbWluZ01hbmFnZXI9VS5wcm90b3R5cGUuT2E7CmZ1bmN0aW9uIFYoYSxiKXtWZChhKTshYiYmYS5IYT9Qcm9taXNlLnJlc29sdmUoKS50aGVuKGEuemMuYmluZChhKSk6YS53PXNldFRpbWVvdXQoYS56Yy5iaW5kKGEpLGIpfWZ1bmN0aW9uIFZkKGEpe251bGwhPWEudyYmKGNsZWFyVGltZW91dChhLncpLGEudz1udWxsKX1VLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLnlhfTtVLnByb3RvdHlwZS5SYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmMuaX07VS5wcm90b3R5cGUuZ2V0U3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVUucHJvdG90eXBlLlJhO2Z1bmN0aW9uIHJlKGEsYil7YS5LPWI7YS5WPSEwO2EuSXx8KGEuST1uZXcgSSk7cmV0dXJuIGEuSX07ZnVuY3Rpb24gc2UoYSl7dGhpcy5iPWE7dGhpcy5hPW51bGx9c2UucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEmJih0aGlzLmEuZGVzdHJveSgpLHRoaXMuYT1udWxsKX07c2UucHJvdG90eXBlLmNyZWF0ZT1mdW5jdGlvbigpe2lmKHRoaXMuYSlyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKHRoaXMuYSk7dmFyIGE9bmV3IGlkKDAsbnVsbCx0aGlzLmIsMCwwKSxhPW5ldyBUKFthXSwxKTt0aGlzLmE9bmV3IFIoYSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSh0aGlzLmEpfTtzZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmF9O2Z1bmN0aW9uIHRlKGEsYil7Ri5jYWxsKHRoaXMsYSk7dGhpcy5iPWI7dGhpcy5qPSEwO3RoaXMubT10aGlzLmc9bnVsbDt0aGlzLmY9bmV3IEk7dGhpcy5hPW51bGx9cih0ZSxGKTt0ZS5wcm90b3R5cGUucGE9ZnVuY3Rpb24oKXt9O3RlLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5hJiZ0aGlzLmIucmVtb3ZlQ2hpbGQodGhpcy5hKTt0aGlzLmYuZGVzdHJveSgpO3RoaXMuSmE9dGhpcy5iPXRoaXMuZz10aGlzLm09dGhpcy5hPXRoaXMuZj1udWxsfTtuPXRlLnByb3RvdHlwZTtuLllhPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuZ307bi5HYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLm19O24uS2M9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5mfTtuLmdiPWZ1bmN0aW9uKCl7cmV0dXJuITB9O24uRGI9ZnVuY3Rpb24oKXt9OwpuLmpiPWZ1bmN0aW9uKGEpe2EuTS5jcmVhdGUoKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXtpZih0aGlzLmIpe2lmKDA9PWIubGVuZ3RoKCkpcmV0dXJuIFByb21pc2UucmVqZWN0KEVycm9yKCJObyBzdWJ0aXRsZXMgVVJMIGF2YWlsYWJsZS4iKSk7dmFyIGM9dGhpcy5nO3RoaXMuZz1hO3RoaXMubT1iO2I9Yi5maXJzdCgpLnVybC5jWzBdLnRvU3RyaW5nKCk7dmFyIGQ9dGhpcy5FYigpO3RoaXMuYSYmKHRoaXMudmIoITEpLHRoaXMuYi5yZW1vdmVDaGlsZCh0aGlzLmEpKTt0aGlzLmE9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgidHJhY2siKTt0aGlzLmIuYXBwZW5kQ2hpbGQodGhpcy5hKTt0aGlzLmEuc3JjPWI7dGhpcy52YihkKTtiPXkoe3R5cGU6ImFkYXB0YXRpb24iLGJ1YmJsZXM6ITAsY29udGVudFR5cGU6InRleHQiLHNpemU6bnVsbCxiYW5kd2lkdGg6YS5iYW5kd2lkdGh9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7Y3x8dGhpcy5mLnJlc29sdmUoMCl9fSkpfTtuLkNjPWZ1bmN0aW9uKCl7fTsKbi5IYz1mdW5jdGlvbigpe307bi5JYz1mdW5jdGlvbigpe3JldHVybiEwfTtuLnZiPWZ1bmN0aW9uKGEpe3RoaXMuaj1hO3RoaXMuYSYmKHRoaXMuYS50cmFjay5tb2RlPWE/InNob3dpbmciOiJkaXNhYmxlZCIpfTtuLkViPWZ1bmN0aW9uKCl7dGhpcy5hJiYodGhpcy5qPSJzaG93aW5nIj09dGhpcy5hLnRyYWNrLm1vZGUpO3JldHVybiB0aGlzLmp9O24uc2I9ZnVuY3Rpb24oKXtyZXR1cm4gMH07bi5KYz1mdW5jdGlvbigpe307ZnVuY3Rpb24gdWUoKXt9CnVlLnByb3RvdHlwZS5wYXJzZT1mdW5jdGlvbihhLGIsYyxkKXt2YXIgZT1udWxsO3RyeXt2YXIgZjt2YXIgZz1uZXcgSWEoYik7aWYoNDQwNzg2ODUxIT1LYShnKS5pZClmPW51bGw7ZWxzZXt2YXIgaD1LYShnKTtpZig0MDgxMjU1NDMhPWguaWQpZj1udWxsO2Vsc2V7dmFyIGs9aC5hLmJ5dGVPZmZzZXQsbDt2YXIgbT1uZXcgSWEoaC5hKTtmb3IoYj1udWxsO0RhKG0uYSk7KXt2YXIgcD1LYShtKTtpZigzNTcxNDkwMzA9PXAuaWQpe2I9cDticmVha319aWYoYil7Zm9yKHZhciB0PW5ldyBJYShiLmEpLHA9MUU2LG09bnVsbDtEYSh0LmEpOyl7dmFyIHc9S2EodCk7aWYoMjgwNzcyOT09dy5pZClwPU9hKHcpO2Vsc2UgaWYoMTc1NDU9PXcuaWQpaWYoYj13LDQ9PWIuYS5ieXRlTGVuZ3RoKW09Yi5hLmdldEZsb2F0MzIoMCk7ZWxzZSBpZig4PT1iLmEuYnl0ZUxlbmd0aCltPWIuYS5nZXRGbG9hdDY0KDApO2Vsc2UgdGhyb3cgbmV3IFJhbmdlRXJyb3IoIkVibWxFbGVtZW50OiBmbG9hdGluZyBwb2ludCBudW1iZXJzIG11c3QgYmUgNCBvciA4IGJ5dGVzLiIpO31udWxsPT0KbT9sPW51bGw6KHQ9cC8xRTksbD17SGI6dCxkdXJhdGlvbjptKnR9KX1lbHNlIGw9bnVsbDtmPWw/e0FkOmssSGI6bC5IYixkdXJhdGlvbjpsLmR1cmF0aW9ufTpudWxsfX1pZihmKXt2YXIgej1LYShuZXcgSWEoYSkpO2lmKDQ3NTI0OTUxNSE9ei5pZCllPW51bGw7ZWxzZXt2YXIgSD1mLkFkLGRhPWYuSGIsZWE9Zi5kdXJhdGlvbjthPVtdO2Zvcih2YXIgQWE9bmV3IElhKHouYSksaz1mPXo9LTE7RGEoQWEuYSk7KXt2YXIgY2I9S2EoQWEpO2lmKDE4Nz09Y2IuaWQpe3ZhciBuYTt2YXIgdmQ9bmV3IElhKGNiLmEpLHdkPUthKHZkKTtpZigxNzkhPXdkLmlkKW5hPW51bGw7ZWxzZXt2YXIgWWU9T2Eod2QpLHhkPUthKHZkKTtpZigxODMhPXhkLmlkKW5hPW51bGw7ZWxzZXt2YXIgZWU9bmV3IElhKHhkLmEpO2ZvcihsPTA7RGEoZWUuYSk7KXt2YXIgZmU9S2EoZWUpO2lmKDI0MT09ZmUuaWQpe2w9T2EoZmUpO2JyZWFrfX1uYT17emI6WWUseWQ6bH19fWlmKG5hKXt2YXIgZ2U9ZGEqbmEuemIsCmhlPUgrbmEueWQ7aWYoMDw9eil7dmFyIE5jPW5ldyBLKGQsYyxrLGhlLTEpLEFmPW5hLnpiLWY7YS5wdXNoKG5ldyBpZCh6LGdlLE5jLG5hLnpiLEFmKSl9ej1nZTtmPW5hLnpiO2s9aGV9fX0wPD16JiYoTmM9bmV3IEsoZCxjLGssbnVsbCksYS5wdXNoKG5ldyBpZCh6LGVhLE5jLGYsZWEvZGEtZikpKTtlPWF9fWVsc2UgZT1udWxsfWNhdGNoKGllKXtpZighKGllIGluc3RhbmNlb2YgUmFuZ2VFcnJvcikpdGhyb3cgaWU7fXJldHVybiBlfTtmdW5jdGlvbiB2ZShhLGIsYyxkLGUsZixnLGgsayxsLG0pe3RoaXMuaD1hO3RoaXMubz1iO3RoaXMuYj1jO3RoaXMubT1sfHxudWxsO3RoaXMuaj1tfHxudWxsO3RoaXMuYT1kO3RoaXMuZz1lO3RoaXMuZj1mO3RoaXMudz1nO3RoaXMuU2E9bnVsbDt0aGlzLmk9aDt0aGlzLmw9a3x8bnVsbDt0aGlzLnU9bnVsbH12ZS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuaT10aGlzLm89dGhpcy5oPW51bGw7dGhpcy5hLkthKCk7dGhpcy5hPW51bGw7dGhpcy5mJiYodGhpcy5mLkthKCksdGhpcy5mPW51bGwpO3RoaXMuZyYmKHRoaXMuZy5LYSgpLHRoaXMuZz1udWxsKTt0aGlzLlNhPW51bGx9O3ZlLnByb3RvdHlwZS5RYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLlNhfTt2ZS5wcm90b3R5cGUuY3JlYXRlPWZ1bmN0aW9uKCl7cmV0dXJuIHdlKHRoaXMpfTt2ZS5wcm90b3R5cGUucGI9ZnVuY3Rpb24oKXtyZXR1cm4gd2UodGhpcyl9OwpmdW5jdGlvbiB3ZShhKXtpZihhLlNhKXJldHVybiBhLlNhO3ZhciBiPW51bGw7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJjcmVhdGVfY29udGFpbmVyX3NlZ21lbnRfaW5kZXhfc291cmNlIikuc3RhcnQoKSk7aWYobnVsbCE9PWEubSYmKG51bGwhPT1hLmp8fCJ3ZWJtIiE9PWEuYikpcmV0dXJuIHhlKGEsYS5tLGEuaixiKTt2YXIgYz1bYS5hLmZldGNoKG51bGwsbnVsbCxhLmwsYildOyJ3ZWJtIj09YS5iJiZjLnB1c2goYS5nLmZldGNoKG51bGwsbnVsbCxhLmwsYikpO2EuU2E9UHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7cmV0dXJuIHhlKHRoaXMsYVswXSxhWzFdfHxudWxsLGIpfSkpO3JldHVybiBhLlNhfQpmdW5jdGlvbiB4ZShhLGIsYyxkKXt2YXIgZT1udWxsOyJtcDQiPT1hLmI/KGU9bmV3IHRkLGU9ZS5wYXJzZShuZXcgRGF0YVZpZXcoYiksYS5hLnN0YXJ0Qnl0ZSxhLmEuYyxhLmksYS5mKSk6IndlYm0iPT1hLmImJihlPW5ldyB1ZSxlPWUucGFyc2UobmV3IERhdGFWaWV3KGIpLG5ldyBEYXRhVmlldyhjKSxhLmEuYyxhLmkpKTtpZighZSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIHBhcnNlIFNlZ21lbnRSZWZlcmVuY2VzIGZyb20gIithLmEudG9TdHJpbmcoKSsiIChvciBvbmUgb2YgaXRzIGZhbGxiYWNrcykuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2I9bmV3IFQoZSxlLnMpO3ZhciBmOyJkeW5hbWljIj09YS5oLnR5cGU/Zj1uZXcgUyhiLGEuaCxhLm8sYS53KTpmPW5ldyBSKGIpO2QmJmQubG9nKCk7YS51PWY7cmV0dXJuIFByb21pc2UucmVzb2x2ZShmKX12ZS5wcm90b3R5cGUuYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLnV9O2Z1bmN0aW9uIHllKGEsYixjLGQpe3RoaXMuYz1hO3RoaXMuYj1iO3RoaXMubD1jfHxudWxsO3RoaXMuYT1kfHxudWxsfQpmdW5jdGlvbiB6ZShhLGIsYyl7Zm9yKHZhciBkPXlhKCkvMUUzLGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcih2YXIgZj1iLmFbZV0sZz0wO2c8Zi5hLmxlbmd0aDsrK2cpe3ZhciBoPWYuYVtnXTtpZigidGV4dCIhPWguY29udGVudFR5cGUpZm9yKHZhciBrPTA7azxoLmEubGVuZ3RoOysrayl7dmFyIGw9aC5hW2tdLG09MCxtPW0rKGwuZj8xOjApLG09bSsobC5iPzE6MCksbT1tKyhsLmE/MTowKTswPT1tPyhoLmEuc3BsaWNlKGssMSksLS1rKToxIT1tJiYobC5mPyhsLmI9bnVsbCxsLmE9bnVsbCk6bC5iJiYobC5hPW51bGwpKX19QWUoYik7Zm9yKGU9MDtlPGIuYS5sZW5ndGg7KytlKWZvcihmPWIuYVtlXSxnPTA7ZzxmLmEubGVuZ3RoOysrZyl7az1oPWYuYVtnXTtsPW51bGw7Zm9yKG09MDttPGsuYS5sZW5ndGg7KyttKXt2YXIgcD1rLmFbbV0ubWltZVR5cGV8fCIiO2w/cCE9bCYmKGsuYS5zcGxpY2UobSwxKSwtLW0pOmw9cH0wPT1oLmEubGVuZ3RoJiYoZi5hLnNwbGljZShnLDEpLAotLWcpfWIubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJm51bGw9PWIuYyYmKGIuYz1kKTtlPW5ldyBUZDsiZHluYW1pYyI9PWIudHlwZSYmKGUuYj0hMCxlLmM9Yi5nLGUuaT1uZXcgSyhjLGIudXx8Yi51cmwsdm9pZCAwLHZvaWQgMCx2b2lkIDAsYS5hKSxlLmo9Yi5jKTtlLkI9Yi5ofHwwO2UubT1iLml8fDA7ZS5vPWIuanx8MDtlLmc9Yi5tfHw1O2ZvcihmPTA7ZjxiLmEubGVuZ3RoOysrZil7Zz1iLmFbZl07aWYobnVsbD09Zy5zdGFydClicmVhaztnPUJlKGEsYixnLGQsYyk7ZS5hLnB1c2goZyl9ZS5mPWIuRkJJc0xpdmVUZW1wbGF0ZWQ7YS5sJiZhLmwuc2V0SXNUZW1wbGF0ZWRNYW5pZmVzdChiLkZCSXNMaXZlVGVtcGxhdGVkKTtlLkE9Yi5GQldhc0xpdmU7YT1udWxsO2M9Im5vbmUiO2ZvcihmPTA7ZjxiLmEubGVuZ3RoO2YrKylmb3IoZz1iLmFbZl0sZD0wO2Q8Zy5hLmxlbmd0aDtkKyspZm9yKGg9Zy5hW2RdLGs9MDtrPGguYS5sZW5ndGg7aysrKWw9aC5hW2tdLmksbnVsbCE9CmwmJm51bGwhPWwudmFsdWUmJihhPWM9bC52YWx1ZSwidXJuOm1wZWc6ZGFzaDoyMzAwMzozOmF1ZGlvX2NoYW5uZWxfY29uZmlndXJhdGlvbjoyMDExIj09PWwuYSYmKCIxIj09PWE/Yz0ibW9ubyI6IjIiPT09YSYmKGM9InN0ZXJlbyIpKSk7ZS53PWM7YT1wYXJzZUludChhLDEwKTtlLnU9MDxhP2E6bnVsbDtyZXR1cm4gZX0KZnVuY3Rpb24gQWUoYSl7aWYoYS5hLmxlbmd0aCl7bnVsbD09YS5hWzBdLnN0YXJ0JiYoYS5hWzBdLnN0YXJ0PTApO3ZhciBiPWZ1bmN0aW9uKGEpe3JldHVybiAwPT1hfHwhIWF9O2EubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmcmJihhLmI9bnVsbCk7YihhLmIpJiYxPT1hLmEubGVuZ3RoJiYhYihhLmFbMF0uZHVyYXRpb24pJiYoYS5hWzBdLmR1cmF0aW9uPWEuYik7Zm9yKHZhciBjPTAsZD0hMCxlPTA7ZTxhLmEubGVuZ3RoOysrZSl7dmFyIGY9YS5hW2UtMV0sZz1hLmFbZV0saD1hLmFbZSsxXXx8e3N0YXJ0OmEuYn07IWIoZy5zdGFydCkmJmYmJmIoZi5zdGFydCkmJmIoZi5kdXJhdGlvbikmJihnLnN0YXJ0PWYuc3RhcnQrZi5kdXJhdGlvbik7IWIoZy5kdXJhdGlvbikmJmIoaC5zdGFydCkmJihnLmR1cmF0aW9uPWguc3RhcnQtZy5zdGFydCk7bnVsbCE9Zy5zdGFydCYmbnVsbCE9Zy5kdXJhdGlvbj9jKz1nLmR1cmF0aW9uOmQ9ITF9YihhLmIpfHwoZT1hLmFbYS5hLmxlbmd0aC0xXSwKZD9hLmI9YzpiKGUuc3RhcnQpJiZiKGUuZHVyYXRpb24pP2EuYj1lLnN0YXJ0K2UuZHVyYXRpb246YS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZ3x8KGEuYj1jKSl9fQpmdW5jdGlvbiBCZShhLGIsYyxkLGUpe3ZhciBmPW5ldyBTZDtmLmlkPWMuaWQ7Zi5zdGFydD1jLnN0YXJ0O2YuZHVyYXRpb249Yy5kdXJhdGlvbjt2YXIgZz1uZXcgRDtjLmEuZm9yRWFjaChmdW5jdGlvbihhKXtnLnB1c2goYS5jb250ZW50VHlwZXx8IiIsYSl9KTtmb3IodmFyIGg9YWIoZyksaz0wO2s8aC5sZW5ndGg7KytrKXt2YXIgbD1uZXcgRDtnLmdldChoW2tdKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2wucHVzaChhLmdyb3VwLGEpfSk7Zm9yKHZhciBtPWFiKGwpLHA9MDtwPG0ubGVuZ3RoOysrcCl7dmFyIHQ9bmV3IEQ7bC5nZXQobVtwXSkuZm9yRWFjaChmdW5jdGlvbihhKXt0LnB1c2goYS5sYW5nLGEpfSk7Zm9yKHZhciB3PWFiKHQpLHo9MDt6PHcubGVuZ3RoOysreil7dmFyIEg9dC5nZXQod1t6XSksSD1DZShhLGIsYyxILGQsZSk7Zi5hLnB1c2goSCl9fX1yZXR1cm4gZn0KZnVuY3Rpb24gQ2UoYSxiLGMsZCxlLGYpe2JhKGQuZXZlcnkoZnVuY3Rpb24oYSl7cmV0dXJuIGEuZ3JvdXA9PWRbMF0uZ3JvdXAmJihhLmxhbmd8fCIiKT09KGRbMF0ubGFuZ3x8IiIpJiYoYS5jb250ZW50VHlwZXx8IiIpPT0oZFswXS5jb250ZW50VHlwZXx8IiIpfSkpO3ZhciBnPW5ldyBPZCxoPWQuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBudWxsIT1hLmlkfSk7aC5sZW5ndGg9PWQubGVuZ3RoJiYoZy5pZD1oLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5pZH0pLnNvcnQoKS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYSsiLCIrYn0pKTtnLmI9ISghZFswXS5ifHwidXJuOnNjdGU6ZGFzaDpjYzpjZWEtNjA4OjIwMTUiIT09ZFswXS5iLmEpO2cubGFuZz1kWzBdLmxhbmd8fCIiO2cuY29udGVudFR5cGU9ZFswXS5jb250ZW50VHlwZXx8IiI7Zy5mPWQuc29tZShmdW5jdGlvbihhKXtyZXR1cm4gYS5mfSk7Zm9yKHZhciBoPXt9LGs9MDtrPGQubGVuZ3RoOysrayl7dmFyIGw9CmRba107bC5jJiYoZy5jPWwuYyk7Zm9yKHZhciBtPTA7bTxsLmEubGVuZ3RoOysrbSl7dmFyIHA9bC5hW21dLHQ9RGUoYSxwKSx3PWcuYS5zbGljZSgwKTtFZSh0LHcpOzA9PXcubGVuZ3RoJiYwPGcuYS5sZW5ndGh8fCEocD1GZShhLGIsYyxwLGUsZikpfHwoZy52LnB1c2gocCksZy5hPXcsaFtwLlhdPWwpfX1pZihnLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4iIj09YS5hfSkpcmV0dXJuIGcudi5mb3JFYWNoKGZ1bmN0aW9uKGEpe2Eub2E9ITB9KSxnO2E9R2UoZCk7Zm9yKGs9MDtrPGcudi5sZW5ndGg7KytrKXA9Zy52W2tdLGw9aFtwLlhdLGw9PWEmJihwLm9hPSEwKTtyZXR1cm4gZ30KZnVuY3Rpb24gR2UoYSl7Zm9yKHZhciBiPW51bGwsYz1udWxsLGQ9MDtkPGEubGVuZ3RoOysrZClmb3IodmFyIGU9YVtkXSxmPTA7ZjxlLmEubGVuZ3RoOysrZil7dmFyIGc9ZS5hW2ZdLGc9KGcud2lkdGh8fDEpKihnLmhlaWdodHx8MSkqKGcuYmFuZHdpZHRofHwxKTtpZihudWxsPT1ifHxnPGIpYj1nLGM9ZX1yZXR1cm4gY31mdW5jdGlvbiBFZShhLGIpe2lmKDA9PWIubGVuZ3RoKUFycmF5LnByb3RvdHlwZS5wdXNoLmFwcGx5KGIsYSk7ZWxzZSBmb3IodmFyIGM9MDtjPGIubGVuZ3RoOysrYyl7Zm9yKHZhciBkPSExLGU9MDtlPGEubGVuZ3RoOysrZSl7dmFyIGY9YltjXSxnPWFbZV07aWYoZi5hPT1nLmEmJmYuaT09Zy5pJiZmLndpdGhDcmVkZW50aWFscz09Zy53aXRoQ3JlZGVudGlhbHMmJmYuaD09Zy5oJiZmLmo9PWcuaiYmZi5nPT1nLmcmJmYubT09Zy5tJiZNYShmLmMsZy5jKSl7ZD0hMDtPYihiW2NdLGFbZV0uYik7YnJlYWt9fWR8fChiLnNwbGljZShjLDEpLC0tYyl9fQpmdW5jdGlvbiBEZShhLGIpe3ZhciBjPVtdO2lmKDA9PWIuYy5sZW5ndGgpYy5wdXNoKG5ldyBNYik7ZWxzZSBpZihhLmIpZm9yKHZhciBkPTA7ZDxiLmMubGVuZ3RoOysrZCljLnB1c2guYXBwbHkoYyxIZShhLGIuY1tkXSkpO3JldHVybiBjfQpmdW5jdGlvbiBIZShhLGIpe3ZhciBjPVtdO2lmKDIhPWEuYi5sZW5ndGgpcmV0dXJuW107dmFyIGQ9YS5iKGIuZnx8IiIsYi5jKTtpZighKGQmJmQgaW5zdGFuY2VvZiBBcnJheSkpcmV0dXJuW107Zm9yKHZhciBlPTA7ZTxkLmxlbmd0aDsrK2Upe3ZhciBmO3ZhciBnPWRbZV07Zj1uZXcgTWI7aWYoZyl7dmFyIGg9WWEoZywia2V5U3lzdGVtIik7aWYobnVsbCE9aClmLmE9aDtlbHNlIHRocm93IEVycm9yKCIna2V5U3lzdGVtJyBjYW5ub3QgYmUgbnVsbC4iKTt2YXIgaz1ZYShnLCJsaWNlbnNlU2VydmVyVXJsIik7aWYobnVsbCE9aylmLmk9aztlbHNlIGlmKGgpdGhyb3cgRXJyb3IoIkZvciBlbmNyeXB0ZWQgc3RyZWFtaW5nIGNvbnRlbnQsICdsaWNlbnNlU2VydmVyVXJsJyBjYW5ub3QgYmUgbnVsbCBvciBlbXB0eS4iKTtoPUIoZywid2l0aENyZWRlbnRpYWxzIik7bnVsbCE9aCYmKGYud2l0aENyZWRlbnRpYWxzPWgpO2g9WmEoZywibGljZW5zZVBvc3RQcm9jZXNzb3IiLEZ1bmN0aW9uKTsKbnVsbCE9aCYmKGYuZj1oKTtoPVphKGcsImxpY2Vuc2VQcmVQcm9jZXNzb3IiLEZ1bmN0aW9uKTtudWxsIT1oJiYoZi5vPWgpO2g9QihnLCJkaXN0aW5jdGl2ZUlkZW50aWZpZXJSZXF1aXJlZCIpO251bGwhPWgmJihmLmg9aCk7aD1CKGcsInBlcnNpc3RlbnRTdGF0ZVJlcXVpcmVkIik7bnVsbCE9aCYmKGYuaj1oKTtoPVlhKGcsImF1ZGlvUm9idXN0bmVzcyIpO251bGwhPWgmJihmLmc9aCk7aD1ZYShnLCJ2aWRlb1JvYnVzdG5lc3MiKTtudWxsIT1oJiYoZi5tPWgpO2g9WmEoZywic2VydmVyQ2VydGlmaWNhdGUiLFVpbnQ4QXJyYXkpO251bGwhPWgmJihmLmM9aCk7aWYoaD1aYShnLCJpbml0RGF0YSIsT2JqZWN0KSl7Zz1aYShoLCJpbml0RGF0YSIsVWludDhBcnJheSk7aWYobnVsbD09Zyl0aHJvdyBFcnJvcigiJ2luaXREYXRhLmluaXREYXRhJyBjYW5ub3QgYmUgbnVsbC4iKTtoPVlhKGgsImluaXREYXRhVHlwZSIpO2lmKG51bGw9PWgpdGhyb3cgRXJyb3IoIidpbml0RGF0YS5pbml0RGF0YVR5cGUnIGNhbm5vdCBiZSBudWxsLiIpOwpmLmIucHVzaCh7aW5pdERhdGE6bmV3IFVpbnQ4QXJyYXkoZy5idWZmZXIpLGluaXREYXRhVHlwZTpofSl9fTA9PWYuYi5sZW5ndGgmJmIuYSYmYi5hLnBzc2hCb3gmJk9iKGYsW3tpbml0RGF0YTpiLmEucHNzaEJveCxpbml0RGF0YVR5cGU6ImNlbmMifV0pO2MucHVzaChmKX1yZXR1cm4gY30KZnVuY3Rpb24gRmUoYSxiLGMsZCxlLGYpe2lmKCFkLmJhc2VVcmx8fDA9PT1kLmJhc2VVcmwubGVuZ3RoKXJldHVybiBudWxsO3ZhciBnPW51bGwsaD0xLGs9MDtpZihkLmYpe2c9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdO2lmKCJtcDQiIT1nJiYid2VibSIhPWcpZz1udWxsO2Vsc2V7dmFyIGw9ZC5mO2lmKCJ3ZWJtIiE9Z3x8bC5jKWlmKGwuYXx8bC5iJiZsLmIuYSl7aD1sLmI7aHx8KGg9bmV3IHdjLGgudXJsPWQuYmFzZVVybCxoLmE9bC5hP2wuYS5jbG9uZSgpOm51bGwpO2s9SWUoYSxoLGYpO2g9bC5jP0llKGEsbC5jLGYpOm51bGw7bC5mPyhsPWwuZixsPW5ldyBLKGYsZC5iYXNlVXJsLGwucWEsbC5lbmQsdm9pZCAwLGEuYSkpOmw9bnVsbDt2YXIgbT1sLHA9VmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJhZGRfaW5saW5lX2luaXRpYWxpemF0aW9uX3Jlc291cmNlcyIsITEpJiZkLmgmJmQuaC5kYXRhP2QuaC5kYXRhOm51bGwsbD1WaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woImFkZF9pbmxpbmVfaW5pdGlhbGl6YXRpb25fcmVzb3VyY2VzIiwKITEpJiZkLmcmJmQuZy5kYXRhP2QuZy5kYXRhOm51bGw7YT1uZXcgdmUoYixjLGcsayxoLG0sZSxmLGEubCxwLGwpO2I9bmV3IGdkKGgsbCk7Yz1uZXcgS2Q7Yy5NPWE7Yy5hYT1iO2c9Y31lbHNlIGc9bnVsbDtlbHNlIGc9bnVsbH1oPWQuZi5zO2s9ZC5mLkx9ZWxzZSBpZihkLmIpZz1kLmIsIWcuSCYmIWcuQyYmMTxnLmEubGVuZ3RoP2c9bnVsbDpnLkh8fGMuZHVyYXRpb258fGcuQ3x8MSE9Zy5hLmxlbmd0aD9nLkMmJjA9PT1nLkMuTi5sZW5ndGg/Zz1udWxsOihnPWcuYj9JZShhLGcuYixmKTpudWxsLGE9bmV3IEZkKGIsYyxkLGUsZixhLmEpLGI9bmV3IGdkKGcpLGM9bmV3IEtkLGMuTT1hLGMuYWE9YixnPWMpOmc9bnVsbCxoPWQuYi5zLGs9ZC5iLkw7ZWxzZSBpZihkLmEpe2E6aWYoZz1kLmEsaD0wKyhnLmE/MTowKSxoKz1nLkM/MTowLGgrPWcuSD8xOjAsMD09aD9oPSExOigxIT1oJiYoZy5hPyhnLkM9bnVsbCxnLkg9bnVsbCk6Zy5DJiYoZy5IPW51bGwpKSxoPSEwKSxoKXtoPQpudWxsO2lmKGcuYyYmKGg9KGc9ZC5hLmMpP0plKGQsZyx4Yyk6bnVsbCwhaCkpe2c9bnVsbDticmVhayBhfWc9aD9JZShhLGgsZik6bnVsbDtoPWQuYTtoLmE/KGg9ZC5taW1lVHlwZS5zcGxpdCgiLyIpWzFdLCJtcDQiIT1oJiYid2VibSIhPWg/YT1udWxsOiJ3ZWJtIiE9aHx8Zz9tZChmLGQsMSwwLHZvaWQgMCxhLmEpPyhrPShrPWQuYS5hKT9KZShkLGssd2MpOm51bGwpPyhrPUllKGEsayxmKSxhPW5ldyB2ZShiLGMsaCxrLGcsbnVsbCxlLGYsYS5sKSk6YT1udWxsOmE9bnVsbDphPW51bGwpOmE9aC5mP2guQz9uZXcgSmQoYS5jLGIsYyxkLGUsZiwwLGEuYSk6aC5IP2IubWFuaWZlc3RJc0xpdmVTdHJlYW1pbmd8fG51bGwhPWMuZHVyYXRpb24/bmV3IEVkKGIsYyxkLGUsZik6bnVsbDpudWxsOm51bGw7YT8oYj1uZXcgZ2QoZyksYz1uZXcgS2QsYy5NPWEsYy5hYT1iLGc9Yyk6Zz1udWxsfWVsc2UgZz1udWxsO2g9ZC5hLnM7az1kLmEuTH1lbHNlInRleHQiPT1kLm1pbWVUeXBlLnNwbGl0KCIvIilbMF0mJgooZz1uZXcgS2QsZy5NPW5ldyBzZShuZXcgSyhmLGQuYmFzZVVybCkpKTtpZighZylyZXR1cm4gbnVsbDtnLmlkPWQuaWQ7ayYmKGcuYT0tMSprL2gpO2cuYmFuZHdpZHRoPWQuYmFuZHdpZHRoO2cud2lkdGg9ZC53aWR0aDtnLmhlaWdodD1kLmhlaWdodDtnLm1pbWVUeXBlPWQubWltZVR5cGV8fCIiO2cuY29kZWNzPWQuY29kZWNzfHwiIjtnLmc9ZC5vfHxudWxsO2cuaD1kLnV8fG51bGw7Zy5mYlF1YWxpdHlMYWJlbD1kLmZiUXVhbGl0eUxhYmVsfHxudWxsO2cuZmJRdWFsaXR5Q2xhc3M9ZC5mYlF1YWxpdHlDbGFzc3x8bnVsbDtnLmY9ZC5tfHxudWxsO2cuZnJhbWVSYXRlPWQuZnJhbWVSYXRlfHwiIjtnLmM9ZC5qfHxudWxsO2ZvcihhPTA7YTxkLmMubGVuZ3RoOysrYSliPWQuY1thXSxiLmImJmcuYi5wdXNoKGIuYik7cmV0dXJuIGd9CmZ1bmN0aW9uIEplKGEsYixjKXtiPW5kKGIsYS5pZCxudWxsLGEuYmFuZHdpZHRoLG51bGwpO2lmKCFiKXJldHVybiBudWxsO2M9bmV3IGM7Yy51cmw9WmMoYS5iYXNlVXJsLGIpO3JldHVybiBjfWZ1bmN0aW9uIEllKGEsYixjKXt2YXIgZD1iLnVybCxlPTAsZj1udWxsO2IuYSYmKGU9Yi5hLnFhLGY9Yi5hLmVuZCk7cmV0dXJuIG5ldyBLKGMsZCxlLGYsdm9pZCAwLGEuYSl9O2Z1bmN0aW9uIEtlKGEsYixjLGQsZSxmLGcpe3RoaXMuYj1uZXcgSyhudWxsLFtuZXcgTChhKV0pO3RoaXMubD1lO3RoaXMuZj1iO3RoaXMuYz0xO3RoaXMuZz1hO3RoaXMuYT1uZXcgdGI7dGhpcy5hLmJvZHk9Yjt0aGlzLmEubWV0aG9kPWM7dGhpcy5hLk5hPTM7dGhpcy5hLndpdGhDcmVkZW50aWFscz1kO3RoaXMuYS5iPTFFMyoobnVsbCE9Zz9nOmhhKTthPWZ8fHt9O2Zvcih2YXIgaCBpbiBhKXRoaXMuYS5RYVtoXT1hW2hdfQpmdW5jdGlvbiBMZShhKXtyZXR1cm4gYS5iLmZldGNoKGEuYSkudGhlbihmdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5iLnUmJjA8dGhpcy5jPyh0aGlzLmMtLSxudWxsIT09dGhpcy5sJiZudWxsIT09dGhpcy5iLmkmJnRoaXMubC5zZXRSZWFzb24oIlJlZGlyZWN0ZWQgdG8gVVJMOiAiK3RoaXMuYi5pLnRvU3RyaW5nKCkpLHRoaXMuYj1uZXcgSyhudWxsLFtuZXcgTCh0aGlzLmcpXSksdGhpcy5hLmJvZHk9dGhpcy5mLExlKHRoaXMpKTpQcm9taXNlLnJlc29sdmUobmV3IFVpbnQ4QXJyYXkoYSkpfS5iaW5kKGEpKX07ZnVuY3Rpb24gTWUoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsYSk7dGhpcy5jPWI7dGhpcy5qPWM7dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuaT1uZXcgYmI7dGhpcy5iPVtdO3RoaXMuZj1bXTt0aGlzLm09MDt0aGlzLmc9bmV3IEk7dGhpcy5vPW51bGw7dGhpcy5BPWhhO3RoaXMubD1kfXIoTWUsRik7TWUucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLkphPW51bGw7Zm9yKHZhciBhPTA7YTx0aGlzLmYubGVuZ3RoOysrYSl0aGlzLmZbYV0uY2xvc2UoKS5jYXRjaChmdW5jdGlvbigpe30pO3RoaXMuZj1bXTt0aGlzLmI9dGhpcy5hPXRoaXMuaD1udWxsO3RoaXMuZy5kZXN0cm95KCk7dGhpcy5nPW51bGw7dGhpcy5pLmRlc3Ryb3koKTt0aGlzLmk9bnVsbDt0aGlzLm8mJihjbGVhclRpbWVvdXQodGhpcy5vKSx0aGlzLm89bnVsbCk7dGhpcy5jPXRoaXMuaj1udWxsfTsKTWUucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oKXtmb3IodmFyIGE9bmV3IEQsYj1OZSh0aGlzLmopLGM9MDtjPGIubGVuZ3RoOysrYyl7dmFyIGQ9YltjXTtkLmEuYXx8ZC5iJiYhT2UoZC5iKXx8YS5wdXNoKGQuY29udGVudFR5cGUsZCl9Zm9yKHZhciBjPXt9LGQ9ITEsZT0wO2U8Yi5sZW5ndGg7KytlKXt2YXIgZj1iW2VdO2lmKGYuYS5hJiYhYS5hLmhhc093blByb3BlcnR5KGYuY29udGVudFR5cGUpKXt2YXIgZz1mLmEuYSxoPWNbZ107aHx8KGg9Zi5hLGg9e2F1ZGlvQ2FwYWJpbGl0aWVzOnZvaWQgMCx2aWRlb0NhcGFiaWxpdGllczp2b2lkIDAsaW5pdERhdGFUeXBlczp2b2lkIDAsZGlzdGluY3RpdmVJZGVudGlmaWVyOmguaD8icmVxdWlyZWQiOiJvcHRpb25hbCIscGVyc2lzdGVudFN0YXRlOmguaj8icmVxdWlyZWQiOiJvcHRpb25hbCIsc2Vzc2lvblR5cGVzOlsidGVtcG9yYXJ5Il19LGNbZ109aCk7aWYoZi5iJiYoZz1mLmNvbnRlbnRUeXBlKyJDYXBhYmlsaXRpZXMiLApnIGluIGgpKXtkPSEwO2hbZ118fChoW2ddPVtdKTt2YXIgazsiYXVkaW8iPT1mLmNvbnRlbnRUeXBlP2s9Zi5hLmc6InZpZGVvIj09Zi5jb250ZW50VHlwZSYmKGs9Zi5hLm0pO2hbZ10ucHVzaCh7Y29udGVudFR5cGU6Zi5iLHJvYnVzdG5lc3M6a30pfX19aWYoIWQpaWYoYi5sZW5ndGgpdGhpcy5hPWJbMF0uYTtlbHNlIHRocm93IGE9RXJyb3IoIk5vIERybUluZm8gZXhpc3RzISIpLGEudHlwZT0iZHJtIixhO2lmKDA9PU9iamVjdC5rZXlzKGMpLmxlbmd0aClyZXR1cm4gUGUodGhpcy5qLGEpLHRoaXMuZy5yZXNvbHZlKCksUHJvbWlzZS5yZXNvbHZlKCk7az1uZXcgSTtjPVFlKGMsayk7Yz1jLnRoZW4odGhpcy53LmJpbmQodGhpcyxiLGEpKTtrLnJlamVjdChudWxsKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2luaXQiKS5sb2coKTtyZXR1cm4gY307CmZ1bmN0aW9uIFFlKGEsYil7Zm9yKHZhciBjIGluIGEpYj1iLmNhdGNoKGZ1bmN0aW9uKGEsYil7cmV0dXJuIG5hdmlnYXRvci5yZXF1ZXN0TWVkaWFLZXlTeXN0ZW1BY2Nlc3MoYSxbYl0pfS5iaW5kKG51bGwsYyxhW2NdKSk7cmV0dXJuIGJ9Ck1lLnByb3RvdHlwZS53PWZ1bmN0aW9uKGEsYixjKXtpZighdGhpcy5jKXJldHVybiBSZSgpO2Zvcih2YXIgZD1jLmtleVN5c3RlbSxlPWMuZ2V0Q29uZmlndXJhdGlvbigpLGY9WyJhdWRpbyIsInZpZGVvIl0sZz0wO2c8Zi5sZW5ndGg7KytnKXt2YXIgaD1mW2ddO2lmKCFiLmEuaGFzT3duUHJvcGVydHkoaCkpe3ZhciBrPWVbaCsiQ2FwYWJpbGl0aWVzIl07aWYoayl7Zm9yKHZhciBrPWtbMF0sbD1bXSxtPXt9LHA9MDtwPGEubGVuZ3RoOysrcCl7dmFyIHQ9YVtwXSx3PWs/dC5iPT1rLmNvbnRlbnRUeXBlOnQuY29udGVudFR5cGU9PWg7dC5hLmEhPWR8fCF3fHx0LmlkIGluIG18fChsLnB1c2godCksbVt0LmlkXT0hMCx0aGlzLmE9dGhpcy5hP05iKHRoaXMuYSx0LmEpOnQuYSl9Yi5zZXQoaCxsKX19fVBlKHRoaXMuaixiKTtpZih0aGlzLmMubWVkaWFLZXlzKXRoaXMuaD10aGlzLmMubWVkaWFLZXlzO2Vsc2UgcmV0dXJuIGMuY3JlYXRlTWVkaWFLZXlzKCkudGhlbihmdW5jdGlvbihhKXt0aGlzLmg9CmF9LmJpbmQodGhpcykpfTtmdW5jdGlvbiBTZShhKXtyZXR1cm4gYS5jP2EuaD9hLmMuc2V0TWVkaWFLZXlzKGEuaCkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jP3RoaXMuYS5jP3RoaXMuaC5zZXRTZXJ2ZXJDZXJ0aWZpY2F0ZSh0aGlzLmEuYyk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0pKS50aGVuKEooYSxmdW5jdGlvbigpe2lmKCF0aGlzLmMpcmV0dXJuIFJlKCk7Zm9yKHZhciBhPTA7YTx0aGlzLmEuYi5sZW5ndGg7KythKXt2YXIgYz10aGlzLmEuYlthXTt0aGlzLnUoe3R5cGU6ImVuY3J5cHRlZCIsaW5pdERhdGFUeXBlOmMuaW5pdERhdGFUeXBlLGluaXREYXRhOmMuaW5pdERhdGF9KX0wPT10aGlzLmEuYi5sZW5ndGgmJkUodGhpcy5pLHRoaXMuYywiZW5jcnlwdGVkIix0aGlzLnUuYmluZCh0aGlzKSl9KSk6UHJvbWlzZS5yZXNvbHZlKCk6UmUoKX0KZnVuY3Rpb24gUmUoKXt2YXIgYT1FcnJvcigiRW1lTWFuYWdlciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KTWUucHJvdG90eXBlLnU9ZnVuY3Rpb24oYSl7dmFyIGI9bmV3IFVpbnQ4QXJyYXkoYS5pbml0RGF0YSk7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVuY3J5cHRlZF9zYW1wbGUiKS5sb2coKTtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKE1hKGIsdGhpcy5iW2NdLmRhdGEpKXJldHVybjt0cnl7dmFyIGQ9VGUodGhpcyl9Y2F0Y2goZSl7Yj1BKGUpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoZSkubG9nKCk7dGhpcy5nLnJlamVjdChlKTtyZXR1cm59YT1kLmdlbmVyYXRlUmVxdWVzdChhLmluaXREYXRhVHlwZSxhLmluaXREYXRhKTt0aGlzLmIucHVzaCh7ZGF0YTpiLHViOmR9KTthLmNhdGNoKEoodGhpcyxmdW5jdGlvbihhKXtpZih0aGlzLmMpe2Zvcih2YXIgYj0wO2I8dGhpcy5iLmxlbmd0aDsrK2IpaWYodGhpcy5iW2JdLnViPT1kKXt0aGlzLmIuc3BsaWNlKGIsCjEpO2JyZWFrfWI9QShhKTt0aGlzLmRpc3BhdGNoRXZlbnQoYik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoImVtZV9lcnJvciIpLnNldEVycm9yKGEpLmxvZygpO3RoaXMuZy5yZWplY3QoYSl9fSkpO3RoaXMuZi5wdXNoKGQpfTtmdW5jdGlvbiBVZShhKXtmb3IodmFyIGI9W10sYz0wO2M8Yi5sZW5ndGg7KytjKXt2YXIgZD1UZShhKSxlPWQubG9hZChiW2NdKTthLmYucHVzaChkKTtlLnRoZW4oSihhLGZ1bmN0aW9uKCl7dGhpcy5tKys7dGhpcy5tPj10aGlzLmYubGVuZ3RoJiZ0aGlzLmcucmVzb2x2ZSgpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXt2YXIgYj1BKGEpO3RoaXMuZGlzcGF0Y2hFdmVudChiKTt0aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2Vycm9yIikuc2V0RXJyb3IoYSkubG9nKCl9KSl9fQpmdW5jdGlvbiBUZShhKXt2YXIgYj1udWxsLGI9YS5oLmNyZWF0ZVNlc3Npb24oKTtFKGEuaSxiLCJtZXNzYWdlIixhLkQuYmluZChhKSk7RShhLmksYiwia2V5c3RhdHVzZXNjaGFuZ2UiLGEuQi5iaW5kKGEpKTtyZXR1cm4gYn1NZS5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtWZSh0aGlzLGEudGFyZ2V0LHRoaXMuYSxhLm1lc3NhZ2UpfTsKTWUucHJvdG90eXBlLkI9ZnVuY3Rpb24oYSl7YT1hLnRhcmdldDt2YXIgYj17fTthLmtleVN0YXR1c2VzLmZvckVhY2goZnVuY3Rpb24oYSxjKXtpZigic3RyaW5nIj09PXR5cGVvZiBhKXt2YXIgZj1hO2E9YztjPWZ9aWYoImNvbS5taWNyb3NvZnQucGxheXJlYWR5Ij09dGhpcy5hLmEmJjE2PT1hLmJ5dGVMZW5ndGgpe3ZhciBmPW5ldyBEYXRhVmlldyhhKSxnPWYuZ2V0VWludDMyKDAsITApLGg9Zi5nZXRVaW50MTYoNCwhMCksaz1mLmdldFVpbnQxNig2LCEwKTtmLnNldFVpbnQzMigwLGcsITEpO2Yuc2V0VWludDE2KDQsaCwhMSk7Zi5zZXRVaW50MTYoNixrLCExKX1mPUxiKG5ldyBVaW50OEFycmF5KGEpKTtiW2ZdPWN9LmJpbmQodGhpcykpO2lmKGEuZXhwaXJhdGlvbjxEYXRlLm5vdygpKXtmb3IodmFyIGM9MDtjPHRoaXMuYi5sZW5ndGg7KytjKWlmKHRoaXMuYltjXS51Yj09YSl7dGhpcy5iLnNwbGljZShjLDEpO2JyZWFrfWEuY2xvc2UoKTt0aGlzLmYuc3BsaWNlKHRoaXMuZi5pbmRleE9mKGEpLAoxKX10aGlzLmwmJnRoaXMubC5nZXRFdmVudExvZ2dlcigiZW1lX2tleV9zdGF0dXNfY2hhbmdlIikubG9nKCk7V2UodGhpcy5qLGIpfTsKZnVuY3Rpb24gVmUoYSxiLGMsZCl7ZD1YZShjLGQpO3ZhciBlPW51bGw7YS5sJiYoZT1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJsaWNlbnNlX3JlcXVlc3QiKS5zdGFydCgpKTtMZShuZXcgS2UoZC51cmwsZC5ib2R5LGQubWV0aG9kLGMud2l0aENyZWRlbnRpYWxzLGUsZC5oZWFkZXJzLGEuQSkpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpO2MuZiYmKGE9Yy5mKGEpKTtlPW51bGw7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJlbWVfcG9zdF9saWNlbnNlX3Nlc3Npb25fdXBkYXRlIikuc3RhcnQoKSk7bnVsbD09PWF8fHZvaWQgMD09PWF8fDA9PT1hLmJ5dGVMZW5ndGg/bnVsbCE9PWUmJihlLnNldEVycm9yKCJlbXB0eSBsaWNlbnNlIiksZS5zZXRSZXN1bHQoImZhaWxlZCIpLmxvZygpKTpiLnVwZGF0ZShhKS50aGVuKEoodGhpcyxmdW5jdGlvbigpe2UmJihlLnNldFJlc3VsdCgic3VjY2VzcyIpLGUubG9nKCkpOwp2YXIgYT15KHt0eXBlOiJzZXNzaW9uUmVhZHkiLGRldGFpbDpifSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO3RoaXMubSsrO3RoaXMubT49dGhpcy5mLmxlbmd0aCYmdGhpcy5nLnJlc29sdmUoKX0pKS5jYXRjaChKKHRoaXMsZnVuY3Rpb24oYSl7YS51Yj1iO3ZhciBjPUEoYSk7ZSYmKGUuc2V0UmVzdWx0KCJmYWlsZWQiKSxlLnNldEVycm9yKGEpLmxvZygpKTt0aGlzLmRpc3BhdGNoRXZlbnQoYyl9KSl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2lmKGMuZil7dmFyIGQ9SlNPTi5zdHJpbmdpZnkoe2RhdGE6W3tlcnJvcjphfV19KSxkPW5ldyBVaW50OEFycmF5KGQuc3BsaXQoIiIpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5jaGFyQ29kZUF0KDApfSkpO2MuZihkKX1hLnViPWI7ZD1BKGEpO2UmJmUuc2V0RXJyb3IoYSkubG9nKCk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfSkpfQpmdW5jdGlvbiBYZShhLGIpe3ZhciBjPXt1cmw6YS5pLGJvZHk6Yi5zbGljZSgwKSxtZXRob2Q6IlBPU1QiLGhlYWRlcnM6e30sa2V5X3N5c3RlbTphLmF9O2lmKCJjb20ubWljcm9zb2Z0LnBsYXlyZWFkeSI9PT1hLmEpe2Zvcih2YXIgZD1TdHJpbmcuZnJvbUNoYXJDb2RlLmFwcGx5KG51bGwsbmV3IFVpbnQxNkFycmF5KGMuYm9keSkpLGQ9KG5ldyBET01QYXJzZXIpLnBhcnNlRnJvbVN0cmluZyhkLCJhcHBsaWNhdGlvbi94bWwiKSxlPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoIm5hbWUiKSxmPWQuZ2V0RWxlbWVudHNCeVRhZ05hbWUoInZhbHVlIiksZz0wO2c8ZS5sZW5ndGg7ZysrKWMuaGVhZGVyc1tlW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlXT1mW2ddLmNoaWxkTm9kZXNbMF0ubm9kZVZhbHVlO2MuYm9keT13aW5kb3cuYXRvYihkLmdldEVsZW1lbnRzQnlUYWdOYW1lKCJDaGFsbGVuZ2UiKVswXS5jaGlsZE5vZGVzWzBdLm5vZGVWYWx1ZSl9aWYoIWEubylyZXR1cm4gYzsKYS5vKGMpO2MudXJsPVlhKGMsInVybCIpO2lmKG51bGw9PWMudXJsKXRocm93IEVycm9yKCIndXJsJyBjYW5ub3QgYmUgbnVsbC4iKTtpZighKGMuYm9keSBpbnN0YW5jZW9mIEFycmF5QnVmZmVyfHwic3RyaW5nIj09PXR5cGVvZiBjLmJvZHl8fG51bGw9PWMuYm9keSkpdGhyb3cgbmV3IFR5cGVFcnJvcigiJ2JvZHknIG11c3QgYmUgYW4gQXJyYXlCdWZmZXIsIGEgc3RyaW5nLCBvciBudWxsLiIpO2MubWV0aG9kPVlhKGMsIm1ldGhvZCIpO2lmKCJHRVQiIT1jLm1ldGhvZCYmIlBPU1QiIT1jLm1ldGhvZCl0aHJvdyBFcnJvcigiJ21ldGhvZCcgbXVzdCBiZSBlaXRoZXIgJ0dFVCcgb3IgJ1BPU1QnLiIpO2MuaGVhZGVycz1aYShjLCJoZWFkZXJzIixPYmplY3QpO2lmKG51bGw9PWMuaGVhZGVycyl0aHJvdyBFcnJvcigiJ2hlYWRlcnMnIGNhbm5vdCBiZSBudWxsLiIpO3JldHVybiBjfTtmdW5jdGlvbiBXKGEsYixjLGQsZSxmLGcpe0YuY2FsbCh0aGlzLG51bGwpO3RoaXMuYj1hO3RoaXMuZj1iO3RoaXMuYT1udWxsO3RoaXMuZz1uZXcgYmI7dGhpcy5tPXRoaXMuaT1udWxsO3RoaXMuRj0wO3RoaXMuUz10aGlzLlo9dGhpcy4kPW51bGw7dGhpcy5iYT1nO3RoaXMuSj1udWxsO3RoaXMuTz10aGlzLmg9ITE7dGhpcy5WPXRoaXMuWT0hMDt0aGlzLks9ITE7dGhpcy5jPXtlbmFibGVBZGFwdGF0aW9uOiEwLHN0cmVhbUJ1ZmZlclNpemU6MTUsbGl2ZVN0cmVhbUVuZFRpbWVvdXQ6MTUsbGljZW5zZVJlcXVlc3RUaW1lb3V0OmhhLG1wZFJlcXVlc3RUaW1lb3V0OmlhLHNlZ21lbnRSZXF1ZXN0VGltZW91dDpqYSxwcmVmZXJyZWRMYW5ndWFnZToiZW4iLHJlc3RyaWN0aW9uczpuZXcga2F9O3RoaXMubD1jO3RoaXMuRz1kO3RoaXMuY2E9ZTt0aGlzLmdhPWY7dGhpcy5vPW51bGw7dGhpcy5qPTE7dGhpcy5UPW51bGw7dGhpcy51PXRoaXMuQT10aGlzLnc9ITE7dGhpcy5SPXRoaXMuQj0KbnVsbH1yKFcsRik7cSgic2hha2EucGxheWVyLlBsYXllciIsVyk7Vy52ZXJzaW9uPSJ2MS42LjQtZmIiO1cuaXNCcm93c2VyU3VwcG9ydGVkPWZ1bmN0aW9uKCl7cmV0dXJuISF3aW5kb3cuTWVkaWFTb3VyY2UmJiEhd2luZG93LlVpbnQ4QXJyYXl9OwpXLnByb3RvdHlwZS5CYT1mdW5jdGlvbigpe3ZhciBhPXt9LGI9dGhpcy5hO2lmKGIpe3ZhciBjPWIuWWIoKTthLkJhbmR3aWR0aEVzdGltYXRvcj1jLkJhbmR3aWR0aEVzdGltYXRvcjt2YXIgZD1jLlZpZGVvU291cmNlU3RyZWFtO2QmJihhLlZpZGVvU291cmNlU3RyZWFtPWQsKGQ9YS5WaWRlb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5WaWRlb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKSk7KGQ9YS5BdWRpb1NvdXJjZVN0cmVhbT1jLkF1ZGlvU291cmNlU3RyZWFtKSYmKGQ9YS5BdWRpb0J1ZmZlck1hbmFnZXI9ZC5CYSgpLlNvdXJjZUJ1ZmZlck1hbmFnZXIpJiYoYS5BdWRpb1NvdXJjZUJ1ZmZlcj1kLkJhKCkuU291cmNlQnVmZmVyKTthLlRleHRTb3VyY2VTdHJlYW09Yy5UZXh0U291cmNlU3RyZWFtO2EuZ2V0TWFuaWZlc3Q9Yi5VYi5iaW5kKGIpfWVsc2UgYS5nZXRNYW5pZmVzdD1mdW5jdGlvbigpe307YS5OZD0hMDtyZXR1cm4gYX07ClcucHJvdG90eXBlLmdldERlYnVnPVcucHJvdG90eXBlLkJhO1cucHJvdG90eXBlLnRhPWZ1bmN0aW9uKGEpe3RoaXMuWT1hfTtXLnByb3RvdHlwZS5zZXRSZXN1bWVBZnRlckJ1ZmZlcmluZz1XLnByb3RvdHlwZS50YTtmdW5jdGlvbiBPZShhKXtyZXR1cm4idGV4dC92dHQiPT1hPyEhd2luZG93LlZUVEN1ZTpNZWRpYVNvdXJjZS5pc1R5cGVTdXBwb3J0ZWQoYSl9Vy5pc1R5cGVTdXBwb3J0ZWQ9T2U7Vy5zZXRUZXh0U3R5bGU9ZnVuY3Rpb24oYSl7dmFyIGI9ZG9jdW1lbnQuZ2V0RWxlbWVudEJ5SWQoIlNoYWthUGxheWVyVGV4dFN0eWxlIik7Ynx8KGI9ZG9jdW1lbnQuY3JlYXRlRWxlbWVudCgic3R5bGUiKSxiLmlkPSJTaGFrYVBsYXllclRleHRTdHlsZSIsZG9jdW1lbnQuaGVhZC5hcHBlbmRDaGlsZChiKSk7Zm9yKGI9Yi5zaGVldDtiLmNzc1J1bGVzLmxlbmd0aDspYi5kZWxldGVSdWxlKDApO2IuaW5zZXJ0UnVsZSgiOjpjdWUgeyAiK3JhKGEpKyIgfSIsMCl9OwpXLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuVSgpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKCl7dGhpcy5nLmRlc3Ryb3koKTt0aGlzLmI9dGhpcy5nPW51bGw7dGhpcy5SJiZ0aGlzLlIucmVtb3ZlKCl9KSkuY2F0Y2goZnVuY3Rpb24oKXt9KX07Vy5wcm90b3R5cGUuZGVzdHJveT1XLnByb3RvdHlwZS5kZXN0cm95O1cucHJvdG90eXBlLlU9ZnVuY3Rpb24oKXt0aGlzLks9ITA7cmV0dXJuIFplKHRoaXMpfTtXLnByb3RvdHlwZS51bmxvYWQ9Vy5wcm90b3R5cGUuVTsKZnVuY3Rpb24gWmUoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1bmxvYWQiKS5zdGFydCgpKTtpZighYS5hKXJldHVybiBiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2EuaCYmJGUoYSwidW5sb2FkaW5nIik7YS5iLnBhdXNlKCk7ZGIoYS5nKTthZihhKTtiZihhKTthLmkmJihhLmkuZGVzdHJveSgpLGEuaT1udWxsKTthLmEmJihhLmEuZGVzdHJveSgpLGEuYT1udWxsKTthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19wbGF5YmFja19yZW1vdmVfc3JjX2F0dHJfb25fdW5sb2FkIiwhMSk/KGEuYi5yZW1vdmVBdHRyaWJ1dGUoInNyYyIpLGEuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX3BsYXliYWNrX2xvYWRfYWZ0ZXJfcmVtb3ZlX3NyY19hdHRyIiwhMSkmJmEuYi5sb2FkKCkpOmEuYi5zcmM9IiI7dmFyIGM9YS5mLmdldEJvb2woInd3d19zaGFrYV9jbGVhcl9tZWRpYV9rZXlzX29uX3VubG9hZCIsITEpJiZhLmIuc2V0TWVkaWFLZXlzJiYiZnVuY3Rpb24iPT09CnR5cGVvZiBhLmIuc2V0TWVkaWFLZXlzP2EuYi5zZXRNZWRpYUtleXMobnVsbCk6UHJvbWlzZS5yZXNvbHZlKCksYz1jLnRoZW4oZnVuY3Rpb24oKXtiJiZiLmxvZygpO2lmKGEuZi5nZXRCb29sKCJlbmFibGVfcDJwX3N1cHBvcnQiLCExKSl7dmFyIGM9eSh7dHlwZToidW5sb2FkIn0pO2EuZGlzcGF0Y2hFdmVudChjKX19KTthLmg9ITE7YS5PPSExO2EuQT0hMTthLnU9ITE7cmV0dXJuIGN9ZnVuY3Rpb24gY2YoYSxiKXtmb3IodmFyIGM9MDtjPGEubGVuZ3RoO2MrKyliLnB1c2goYVtjXS5jb250ZW50VHlwZSxhW2NdKX1XLnByb3RvdHlwZS5HYT1mdW5jdGlvbihhKXtyZXR1cm4gZGYodGhpcyxhKX07Vy5wcm90b3R5cGUubG9hZD1XLnByb3RvdHlwZS5HYTsKZnVuY3Rpb24gZGYoYSxiKXt2YXIgYzthLmwmJihjPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoImxvYWQiKS5zZXRTdGF0ZSgibG9hZGluZyIpLnN0YXJ0KCksYi5sPWIuZy5wZXJmb3JtYW5jZUxvZ2dlcj1hLmwpO2EuRyYmKGIuQmI9Yi5nLmFickxvZ2dlcj1hLkcpO2EuYmEmJihiLmlhPWEuYmEpO2EuY2EmJihiLkk9YS5jYSk7YS5nYSYmYi5VLnB1c2goYS5nYSk7ZWYoYixhLmIpO3ZhciBkPW51bGw7YS5LPSExO0UoYS5nLGIsImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYS5tYS5iaW5kKGEpKTtFKGEuZyxiLCJyZXBsaWNhc3dpdGNoIixhLnBhLmJpbmQoYSkpO2EuYSYmKGQ9WmUoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtyZXR1cm4gYi53YigpfSkpKTthLmIuYXV0b3BsYXkmJih1LnFhKCJsb2FkIiksRShhLmcsYS5iLCJ0aW1ldXBkYXRlIixhLmVkLmJpbmQoYSkpKTtiLmxjKGEuYyk7Yi5sYT1hLlQ7YS5UPW51bGw7ZHx8KGQ9Yi53YigpKTthLmYuZ2V0Qm9vbCgiZml4X3NoYWthX3BsYXllcl9sb2FkX3JhY2VfY29uZGl0aW9uIiwKITEpJiYoYS5hPWIpO2QuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2IuZGVzdHJveSgpO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0pKTtyZXR1cm4gZC50aGVuKEooYSxmdW5jdGlvbigpe2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7dGhpcy5hPWI7dGhpcy5nLlZhKHRoaXMuYSwiaW5pdGlhbGxpdmVtYW5pZmVzdHJlcXVlc3RmYWlsdXJlIik7dGhpcy5nLlZhKHRoaXMuYSwicmVwbGljYXN3aXRjaCIpO0UodGhpcy5nLHRoaXMuYSwic2Vla3JhbmdlY2hhbmdlZCIsdGhpcy5yYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmEsImFsbFN0cmVhbXNTdGFydGVkIix0aGlzLkZkLmJpbmQodGhpcykpO3ZhciBhPW5ldyBEO2NmKE5lKHRoaXMuYSksYSk7UGUodGhpcy5hLGEpO2E9dGhpcy5lYSgpO2MmJjA8YS5sZW5ndGgmJihhPWEucmVkdWNlKGZ1bmN0aW9uKGEsYil7aWYobnVsbD09PWF8fGIuYmFuZHdpZHRoPGEuYmFuZHdpZHRoKWE9YjtyZXR1cm4gYX0sbnVsbCksYy5zZXRMb3dlc3RRdWFsaXR5UmVwcmVzZW50YXRpb25JRChhLnN0cmVhbUluZm9JRCkpOwppZighdGhpcy5jLmVuYWJsZUNvbnRlbnRQcm90ZWN0aW9uKXJldHVybiBQcm9taXNlLnJlc29sdmUoKTt0aGlzLmk9bmV3IE1lKHRoaXMsdGhpcy5iLHRoaXMuYSx0aGlzLmwpO3JldHVybiB0aGlzLmkuaW5pdGlhbGl6ZSgpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtoZih0aGlzKTtFKHRoaXMuZyx0aGlzLmIsInBsYXlpbmciLHRoaXMua2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwYXVzZSIsdGhpcy5pYS5iaW5kKHRoaXMpKTtFKHRoaXMuZyx0aGlzLmIsIndhaXRpbmciLHRoaXMuc2QuYmluZCh0aGlzKSk7RSh0aGlzLmcsdGhpcy5iLCJwbGF5Iix0aGlzLm5hLmJpbmQodGhpcykpO3JldHVybiBqZih0aGlzLmEsdGhpcyx0aGlzLmIpfSkpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoZmYodGhpcyxiKSlyZXR1cm4gZ2YoKTtpZih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb24pe3ZhciBhO3RoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigiZW1lX2F0dGFjaCIpKTsKcmV0dXJuIFNlKHRoaXMuaSkudGhlbihmdW5jdGlvbigpe2EmJmEubG9nKCl9KX1yZXR1cm4gUHJvbWlzZS5yZXNvbHZlKCl9KSkudGhlbihKKGEsZnVuY3Rpb24oKXtpZihmZih0aGlzLGIpKXJldHVybiBnZigpO2tmKHRoaXMpO2MmJmMudXBkYXRlU3RhdGUoInJlYWR5IikubG9nKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoSlNPTi5zdHJpbmdpZnkoYSkpLmxvZygpO2lmKGZmKHRoaXMsYikpcmV0dXJuIGdmKCk7aWYoImRlc3Ryb3kiIT1hLnR5cGUpe3ZhciBkPUEoYSk7dGhpcy5kaXNwYXRjaEV2ZW50KGQpfXJldHVybiB0aGlzLlUoKS50aGVuKGZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfSl9KSl9ZnVuY3Rpb24gZmYoYSxiKXtyZXR1cm4hYS5ifHxhLkt8fGEuZi5nZXRCb29sKCJmaXhfc2hha2FfcGxheWVyX2xvYWRfcmFjZV9jb25kaXRpb24iLCExKSYmYiE9PWEuYX1uPVcucHJvdG90eXBlOwpuLkZkPWZ1bmN0aW9uKCl7dmFyIGEsYjt0aGlzLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJnRoaXMubCYmKGE9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigib25fYWxsX3N0cmVhbXNfc3RhcnRlZCIpLGI9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigicmVzdG9yZV92aWRlb19wbGF5YmFja19yYXRlIikpO3RoaXMuTz0hMDt0aGlzLmg/dGhpcy5EKCk6KHRoaXMuYi5wbGF5YmFja1JhdGU9dGhpcy5qLGImJmIubG9nKCkpO2EmJmEubG9nKCl9O2Z1bmN0aW9uIGdmKCl7dmFyIGE9RXJyb3IoIlBsYXllciBkZXN0cm95ZWQiKTthLnR5cGU9ImRlc3Ryb3kiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX0KZnVuY3Rpb24gaGYoYSl7dmFyIGI9YS5iLnBhcmVudE5vZGU7YiYmYS5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSkmJihhLlI9ZXZlbnRMaXN0ZW5lckNhcHR1cmUoYiwicGxheWluZyIsZnVuY3Rpb24oYSl7YS50YXJnZXQ9PT10aGlzLmImJnRoaXMuRChhKX0uYmluZChhKSkpfW4uZWQ9ZnVuY3Rpb24oKXt1LmVuZCgibG9hZCIpO3RoaXMuZy5WYSh0aGlzLmIsInRpbWV1cGRhdGUiKX07bi5zZD1mdW5jdGlvbihhKXtsZih0aGlzKTt0aGlzLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiF0aGlzLmgmJnRoaXMuRChhKX07Cm4ua2Q9ZnVuY3Rpb24oKXt1LnFhKCJwbGF5aW5nIik7dGhpcy5sJiZ0aGlzLmwuZ2V0RXZlbnRMb2dnZXIoInBsYXlpbmciKS5zZXRTdGF0ZSgicGxheWluZyIpLmxvZygpOyF0aGlzLm0mJjA+dGhpcy5qJiYodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSx0aGlzLmopKTt0aGlzLmgmJiF0aGlzLlYmJiRlKHRoaXMsInBsYXlpbmciKX07bi5CZD1mdW5jdGlvbihhKXt0aGlzLnU9YX07Vy5wcm90b3R5cGUuc2V0UGVuZGluZ1BsYXlSZXF1ZXN0PVcucHJvdG90eXBlLkJkO1cucHJvdG90eXBlLm5hPWZ1bmN0aW9uKCl7dGhpcy51PSEwfTtXLnByb3RvdHlwZS5pYT1mdW5jdGlvbigpe3RoaXMubCYmdGhpcy5sLmdldEV2ZW50TG9nZ2VyKCJwYXVzZSIpLnNldFN0YXRlKCJwYXVzZWQiKS5sb2coKTt1LmVuZCgicGxheWluZyIpO3UuZ2V0KCJwbGF5aW5nIik7YmYodGhpcyl9OwpXLnByb3RvdHlwZS5yYT1mdW5jdGlvbihhKXt0aGlzLkY9YS5zdGFydDt0aGlzLiQ9YS5sYXN0O3RoaXMuWj1hLmVuZDt0aGlzLlM9YS5zZWVrUmFuZ2VHYXBzO3RoaXMuZi5nZXRCb29sKCJub19za2lwX2dhcHNfb25fc2Vla19yYW5nZV9jaGFuZ2VkIiwhMSl8fGxmKHRoaXMpfTtXLnByb3RvdHlwZS5lYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLlooKTpbXX07Vy5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9Vy5wcm90b3R5cGUuZWE7Vy5wcm90b3R5cGUueWE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS52YSgpOltdfTtXLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1XLnByb3RvdHlwZS55YTtXLnByb3RvdHlwZS5FYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm1jKCk6W119O1cucHJvdG90eXBlLmdldFRleHRUcmFja3M9Vy5wcm90b3R5cGUuRWE7ClcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s9ZnVuY3Rpb24oYSxiKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEsdm9pZCAwPT1iPyEwOmIpOiExfTtXLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPVcucHJvdG90eXBlLnNlbGVjdFZpZGVvVHJhY2s7Vy5wcm90b3R5cGUuSGE9ZnVuY3Rpb24oYSxiLGMpe3JldHVybiB0aGlzLmE/bWYodGhpcy5hLCJhdWRpbyIsYSx2b2lkIDA9PWI/ITA6YixjKTohMX07Vy5wcm90b3R5cGUuc2VsZWN0QXVkaW9UcmFjaz1XLnByb3RvdHlwZS5IYTtXLnByb3RvdHlwZS5PYT1mdW5jdGlvbihhKXtyZXR1cm4gdGhpcy5hP21mKHRoaXMuYSwidGV4dCIsYSwhMSk6ITF9O1cucHJvdG90eXBlLnNlbGVjdFRleHRUcmFjaz1XLnByb3RvdHlwZS5PYTtXLnByb3RvdHlwZS54YT1mdW5jdGlvbihhKXt0aGlzLmEmJm5mKHRoaXMuYSxhKX07Vy5wcm90b3R5cGUuZW5hYmxlVGV4dFRyYWNrPVcucHJvdG90eXBlLnhhOwpXLnByb3RvdHlwZS5zYT1mdW5jdGlvbihhKXtiZih0aGlzKTt0aGlzLncmJnRoaXMuaHx8ISgwPD1hKT90aGlzLmIucGF1c2VkfHwodGhpcy5iLnBsYXliYWNrUmF0ZT0wLHRoaXMuUCh0aGlzLmIuY3VycmVudFRpbWUsRGF0ZS5ub3coKSxhKSk6dGhpcy5iLnBsYXliYWNrUmF0ZT1hO3RoaXMuaj1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUuc2E7Vy5wcm90b3R5cGUua2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5qfTtXLnByb3RvdHlwZS5nZXRQbGF5YmFja1JhdGU9Vy5wcm90b3R5cGUua2E7Vy5wcm90b3R5cGUuRGE9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5hP3RoaXMuYS5BYigpOm51bGx9O1cucHJvdG90eXBlLmdldE1hbmlmZXN0PVcucHJvdG90eXBlLkRhO1cucHJvdG90eXBlLlJhPWZ1bmN0aW9uKGEpe3RoaXMuVD1hfTtXLnByb3RvdHlwZS5zZXRQbGF5YmFja1N0YXJ0VGltZT1XLnByb3RvdHlwZS5SYTsKVy5wcm90b3R5cGUuST1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/ISF0aGlzLmEuUCgpOiExfTtXLnByb3RvdHlwZS5pc0xpdmU9Vy5wcm90b3R5cGUuSTsKVy5wcm90b3R5cGUud2E9ZnVuY3Rpb24oYSl7aWYoYSl7dmFyIGI9QihhLCJlbmFibGVBZGFwdGF0aW9uIik7bnVsbCE9YiYmKHRoaXMuYy5lbmFibGVBZGFwdGF0aW9uPWIpO2I9QihhLCJlbmRCdWZmZXJpbmdPblBsYXlpbmciKTtudWxsIT1iJiYodGhpcy5WPWIpO2I9QihhLCJ1c2VQbGF5YmFja1JhdGVGb3JCdWZmZXJpbmciKTtudWxsIT1iJiYodGhpcy53PWIpO2I9QyhhLCJzdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLnN0cmVhbUJ1ZmZlclNpemU9Yik7Yj1DKGEsImR5bmFtaWNTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWIpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5jLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7Yj1CKGEsImFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzIik7bnVsbCE9YiYmCih0aGlzLmMuYWRkQ2RuRGVidWdRdWVyeVBhcmFtZXRlcnM9Yik7Yj1DKGEsImluaXRpYWxTdHJlYW1CdWZmZXJTaXplIiwwKTtudWxsIT1iJiYodGhpcy5jLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPWIpO2I9QihhLCJpbmNsdWRlU3RyZWFtQnVmZmVyU2l6ZUluU3RhcnRPZmZzZXQiKTtudWxsIT1iJiYodGhpcy5jLmluY2x1ZGVTdHJlYW1CdWZmZXJTaXplSW5TdGFydE9mZnNldD1iKTtiPUMoYSwianVtcFRvTGl2ZVRocmVzaG9sZCIpO251bGwhPWImJih0aGlzLmMuanVtcFRvTGl2ZVRocmVzaG9sZD1iKTtiPUMoYSwibGl2ZVN0cmVhbUVuZFRpbWVvdXQiLDApO251bGwhPWImJih0aGlzLmMubGl2ZVN0cmVhbUVuZFRpbWVvdXQ9Yik7Yj1DKGEsImxpY2Vuc2VSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5saWNlbnNlUmVxdWVzdFRpbWVvdXQ9Yik7Yj1DKGEsIm1wZFJlcXVlc3RUaW1lb3V0IiwwKTtudWxsIT1iJiYodGhpcy5jLm1wZFJlcXVlc3RUaW1lb3V0PQpiKTtiPUMoYSwibWluTXBkUmVmcmVzaEludGVydmFsIiwwKTtudWxsIT1iJiYodGhpcy5jLm1pbk1wZFJlZnJlc2hJbnRlcnZhbD1iKTtiPUIoYSwiZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbiIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTGl2ZUludGVycnVwdGlvbkRldGVjdGlvbj1iKTtiPUIoYSwiZW5hYmxlTWFuaWZlc3REZWJ1ZyIpO251bGwhPWImJih0aGlzLmMuZW5hYmxlTWFuaWZlc3REZWJ1Zz1iLEYucHJvdG90eXBlLm9jPWIsYnx8KEYucHJvdG90eXBlLkxhPWZ1bmN0aW9uKCl7fSkpO2I9QihhLCJyZXNvbHZlVmlkZW9UaW1lVXBkYXRlT25GcmFnbWVudGVkVGltZVJhbmdlcyIpO251bGwhPWImJih0aGlzLmMucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXM9Yik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRob3V0Q2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aG91dENoYW5nZT0KYik7Yj1DKGEsImxpdmVJbnRlcnJ1cHRpb25Db25zZWN1dGl2ZVVwZGF0ZXNXaXRoQ2hhbmdlIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlSW50ZXJydXB0aW9uQ29uc2VjdXRpdmVVcGRhdGVzV2l0aENoYW5nZT1iKTtiPUIoYSwicmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQiKTtudWxsIT1iJiYodGhpcy5jLnJlYXBwZW5kSW5pdFNlZ21lbnRBZnRlckFib3J0PWIpO2I9QihhLCJsaXZlU2VuZFB1c2hIZWFkZXJzIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlU2VuZFB1c2hIZWFkZXJzPWIpO2I9QyhhLCJsaXZlTWF4TWFuaWZlc3RGZXRjaGVzV2l0aFB1c2giKTtudWxsIT1iJiYodGhpcy5jLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaD1iKTtiPUMoYSwibGl2ZU1heFNlZ21lbnRzVG9QdXNoIik7bnVsbCE9YiYmKHRoaXMuYy5saXZlTWF4U2VnbWVudHNUb1B1c2g9Yik7Yj1DKGEsInNlZ21lbnRSZXF1ZXN0VGltZW91dCIsMCk7bnVsbCE9YiYmKHRoaXMuYy5zZWdtZW50UmVxdWVzdFRpbWVvdXQ9CmIpO2I9WWEoYSwicHJlZmVycmVkTGFuZ3VhZ2UiKTtudWxsIT1iJiYodGhpcy5jLnByZWZlcnJlZExhbmd1YWdlPWIpO2I9WmEoYSwicmVzdHJpY3Rpb25zIixrYSk7bnVsbCE9YiYmKHRoaXMuYy5yZXN0cmljdGlvbnM9Yi5jbG9uZSgpKTtiPWEubGl2ZUluaXRpYWxQdXNoUmVwcmVzZW50YXRpb247bnVsbCE9YiYmKHRoaXMuYy5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbj1iKTtiPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uO251bGwhPWImJih0aGlzLmMubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uPWIpO2I9YS51c2VJbmxpbmVJbml0U2VnbWVudDtudWxsIT1iJiYodGhpcy5jLnVzZUlubGluZUluaXRTZWdtZW50PWIpO2I9QihhLCJkaXNhYmxlQ2FjaGVCdXN0aW5nRXZlblRob3VnaEl0TWF5QWZmZWN0QmFuZHdpZHRoRXN0aW1hdGlvbiIpO251bGwhPWImJihUYz0hYik7Yj1CKGEsImN1cnJlbnRUaW1lRHVyaW5nUmVhZHlTdGF0ZVplcm9UaHJvd3MiKTtudWxsIT0KYiYmKHRoaXMuYy5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzPWIpO2I9QyhhLCJsaXZlRGF0YUZldGNoTWF4UmV0cmllcyIpO251bGwhPWImJih0aGlzLmMubGl2ZURhdGFGZXRjaE1heFJldHJpZXM9Yik7Yj1DKGEsImxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMiKTtudWxsIT1iJiYodGhpcy5jLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXM9Yik7Yj1CKGEsInVzZUxvbmdDYWNoZUZvck1hbmlmZXN0Iik7bnVsbCE9YiYmKHRoaXMuYy51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdD1iKTtiPUIoYSwianVtcFRvRWFybGllc3RQb3NpdGlvbkluQ3VycmVudEJsb2NrIik7bnVsbCE9YiYmKHRoaXMuYy5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2s9Yik7Yj1CKGEsImlnbm9yZU1pbkJ1ZmZlclRpbWUiKTtudWxsIT1iJiYodGhpcy5jLmlnbm9yZU1pbkJ1ZmZlclRpbWU9Yik7Yj1DKGEsInBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UiKTsKbnVsbCE9YiYmKHRoaXMuYy5wbGF5aGVhZEZyYWdtZW50ZWRHYXBEaWZmQWxsb3dhbmNlPWIpO2I9QihhLCJmaXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiIpO251bGwhPWImJih0aGlzLmMuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249Yik7Yj1CKGEsInNraXBFbXB0eVNlZ21lbnRzIik7bnVsbCE9YiYmKHRoaXMuYy5za2lwRW1wdHlTZWdtZW50cz1iKTsoYj1CKGEsInVzZU1pY3JvVGFza1RpbWVvdXRzIikpJiYodGhpcy5jLnVzZU1pY3JvVGFza1RpbWVvdXRzPWIpOyhiPUIoYSwiZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmciKSkmJih0aGlzLmMuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmc9Yik7KGI9QihhLCJlbmFibGVTdHJlYW1pbmciKSkmJih0aGlzLmMuZW5hYmxlU3RyZWFtaW5nPWIpOyhhPUIoYSwiZW5hYmxlQ29udGVudFByb3RlY3Rpb24iKSkmJih0aGlzLmMuZW5hYmxlQ29udGVudFByb3RlY3Rpb249YSk7dGhpcy5hJiZ0aGlzLmEubGModGhpcy5jKX19OwpXLnByb3RvdHlwZS5jb25maWd1cmU9Vy5wcm90b3R5cGUud2E7Vy5wcm90b3R5cGUuUGE9ZnVuY3Rpb24oYSl7dGhpcy5hJiZ0aGlzLmEucWMoYSl9O1cucHJvdG90eXBlLnNldEVuYWJsZUxpdmVoZWFkQ2F0Y2h1cD1XLnByb3RvdHlwZS5QYTtXLnByb3RvdHlwZS5GYT1mdW5jdGlvbigpe3JldHVybiB0aGlzLmE/dGhpcy5hLm5hOiExfTtXLnByb3RvdHlwZS5pc0xpdmVoZWFkQ2F0Y2h1cEVuYWJsZWQ9Vy5wcm90b3R5cGUuRmE7CmZ1bmN0aW9uIGxmKGEpe2lmKGEuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcF9iYXNlZF9vbl9zdHJlYW1fbGltaXRzIiwhMSkmJighYS5JKCl8fCFhLmYuZ2V0Qm9vbCgibm9fc2tpcF9tYW5pZmVzdF9nYXBzX2lmX2xpdmUiLCExKSkpe3ZhciBiO2EuZi5nZXRCb29sKCJza2lwX21hbmlmZXN0X2dhcHNfdXNlX2NhY2hlZF9zdHJlYW1fbGltaXRzIiwhMSk/YS5hJiZudWxsIT09YS5TP2I9e3N0YXJ0OmEuRixlbmQ6YS5aLGxhc3Q6YS4kLGFiOmEuU306Yj1hLmE/YS5hLm5iKCk6bnVsbDpiPWEuYT9hLmEubmIoKTpudWxsO2lmKGIpZm9yKHZhciBjPWEuZi5nZXROdW1iZXIoInNraXBfbWFuaWZlc3RfZ2FwX2JvdW5kYXJ5X3ByZWNpc2lvbl9tcyIsMUUzKS8xRTMsZD1iLmFiLGU9YS5iLnBsYXliYWNrUmF0ZSxmPWEuYi5jdXJyZW50VGltZSxnPTA7ZzxkLmxlbmd0aDsrK2cpe3ZhciBoPWRbZ10uc3RhcnRUaW1lLWMsaz1kW2ddLmVuZFRpbWUrYztmPD1rJiZmPj1oJiYoYS5mLmdldEJvb2woImZpeF9zZWVrX3JhbmdlX2dhcF9ib3VuZGFyeSIsCiExKXx8KGg9ZFtnXS5zdGFydFRpbWUsaz1kW2ddLmVuZFRpbWUpLDA8PWU/Yi5lbmQ+ayYmKGEuYi5jdXJyZW50VGltZT1rKTpiLnN0YXJ0PGgmJihhLmIuY3VycmVudFRpbWU9aCkpfX19Vy5wcm90b3R5cGUubGE9ZnVuY3Rpb24oKXt2YXIgYT10aGlzLmEmJnRoaXMuYS5uYigpO3JldHVybihhPWEmJntzdGFydDphLnN0YXJ0LGVuZDphLmVuZCxsYXN0OmEubGFzdCxzZWVrUmFuZ2VHYXBzOmEuYWJ9KXx8bnVsbH07Vy5wcm90b3R5cGUuZ2V0VmlkZW9Tb3VyY2VTdHJlYW1MaW1pdHM9Vy5wcm90b3R5cGUubGE7Vy5wcm90b3R5cGUuQ2E9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5jfTtXLnByb3RvdHlwZS5nZXRDb25maWd1cmF0aW9uPVcucHJvdG90eXBlLkNhO2Z1bmN0aW9uIGJmKGEpe2EubSYmKGNsZWFyVGltZW91dChhLm0pLGEubT1udWxsKX0KZnVuY3Rpb24ga2YoYSl7dmFyIGI7YS5mLmdldEJvb2woInd3d192aWRlb3NfZXh0ZW5kZWRfc3BsX2xvZ2dpbmdfZm9yX2Nvbm5lY3RlZF90diIsITEpJiZhLmwmJihiPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInN0YXJ0X3dhdGNoZG9nIikpO2FmKGEpO2EuSj1zZXRUaW1lb3V0KGEuRC5iaW5kKGEpLDEwMCk7YiYmYi5sb2coKX1mdW5jdGlvbiBhZihhKXt2YXIgYjthLmYuZ2V0Qm9vbCgid3d3X3ZpZGVvc19leHRlbmRlZF9zcGxfbG9nZ2luZ19mb3JfY29ubmVjdGVkX3R2IiwhMSkmJmEubCYmKGI9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigiY2FuY2VsX3dhdGNoZG9nIikpO2EuSiYmKGNsZWFyVGltZW91dChhLkopLGEuSj1udWxsKTtiJiZiLmxvZygpfQpXLnByb3RvdHlwZS5QPWZ1bmN0aW9uKGEsYixjKXt0aGlzLm09bnVsbDt2YXIgZD0oRGF0ZS5ub3coKS1iKS8xRTMqYzt0aGlzLmIuY3VycmVudFRpbWU8dGhpcy5GKyh0aGlzLkkoKT8xOi4wNSk/dGhpcy5iLnBhdXNlKCk6KGQ9TWF0aC5tYXgodGhpcy5GLGErZCksdGhpcy5iLmN1cnJlbnRUaW1lPWQsdGhpcy5tPXNldFRpbWVvdXQodGhpcy5QLmJpbmQodGhpcyxhLGIsYyksMjUwKSl9O2Z1bmN0aW9uIG9mKGEpe3JldHVybiBhLmYuZ2V0Qm9vbCgidW5pZnlfc3RyZWFtX3N0YXJ0X3dpdGhfYnVmZmVyX2RldGVjdG9yIiwhMSkmJiFhLk99CmZ1bmN0aW9uICRlKGEsYil7aWYoIW9mKGEpKXt1LmVuZCgiYnVmZmVyaW5nIik7bnVsbCE9PWEuQiYmKGEuQj1udWxsKTthLm8mJihhLm8uc2V0Q29uY2x1ZGVyKGIpLmxvZygpLGEubz1udWxsKTtpZihhLkcpe3ZhciBjPURhdGUubm93KCk7YS5HLnNldEV2ZW50KCJidWZmZXJpbmciKS5zZXRDbGllbnRUaW1lQmVnaW4oTWF0aC5yb3VuZChjLXUuZ2V0KCJidWZmZXJpbmciKSkpLnNldENsaWVudFRpbWVFbmQoTWF0aC5yb3VuZChjKSkubG9nKCl9YS53JiYoYS5iLnBsYXliYWNrUmF0ZT1hLmopO2EuaD0hMTthLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nRW5kIn0pKTthLkEmJihhLkE9ITEsZGlzcGF0Y2hEb21FdmVudChhLmIsInBsYXlpbmciKSk7YS51PSExfX1XLnByb3RvdHlwZS5qYT1mdW5jdGlvbihhKXt0aGlzLmRpc3BhdGNoRXZlbnQoeShhKSl9O1cucHJvdG90eXBlLmRpc3BhdGNoRXZlbnRFeHRlcm49Vy5wcm90b3R5cGUuamE7CmZ1bmN0aW9uIHBmKGEpe3ZhciBiPWEuYi5idWZmZXJlZDtpZigxPT09Yi5sZW5ndGgpYj1iLmVuZCgwKTtlbHNlIGlmKDA9PT1iLmxlbmd0aCliPTA7ZWxzZXtmb3IodmFyIGM9MCxkPTA7ZDxiLmxlbmd0aDsrK2QpYi5lbmQoZCk+PWEuYi5jdXJyZW50VGltZSYmKGM9Yi5zdGFydChkKTw9YS5iLmN1cnJlbnRUaW1lP2MrKGIuZW5kKGQpLWEuYi5jdXJyZW50VGltZSk6YysoYi5lbmQoZCktYi5zdGFydChkKSkpO3JldHVybiBjfXJldHVybiBNYXRoLm1heChiLWEuYi5jdXJyZW50VGltZSwwKX0KVy5wcm90b3R5cGUuRD1mdW5jdGlvbihhKXtpZighdGhpcy5mLmdldEJvb2woInByZXZlbnRfcGxheWluZ19vbl9pbnN1ZmZpY2llbnRfYnVmZmVyIiwhMSl8fCF0aGlzLkspe2tmKHRoaXMpO3ZhciBiPWE/YS50eXBlOiIiLGM9IndhaXRpbmciPT09YjtpZighdGhpcy5iLmVuZGVkJiYhdGhpcy5iLnNlZWtpbmd8fGMpe3ZhciBkO3RoaXMuZi5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmdGhpcy5sJiYoZD10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ3YXRjaGRvZyIpKTt2YXIgZT10aGlzLmIuYnVmZmVyZWQsZj1lLmxlbmd0aD9lLmVuZChlLmxlbmd0aC0xKTowLGc7dGhpcy5mLmdldEJvb2woImZpeF91bnN0YWxsX2J1ZmZlcl9jYWxjdWxhdGlvbiIsITEpP2c9cGYodGhpcyk6Zz1NYXRoLm1heChmLXRoaXMuYi5jdXJyZW50VGltZSwwKTt2YXIgaD10aGlzLmIuY3VycmVudFRpbWUsZT10aGlzLkkoKT90aGlzLmYuZ2V0TnVtYmVyKCJsaXZlX2J1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwKLjUpOnRoaXMuZi5nZXROdW1iZXIoImJ1ZmZlcmluZ191bmRlcmZsb3dfdGhyZXNob2xkIiwwKSxrPXRoaXMuYi5kdXJhdGlvbixrPWlzTmFOKGspPzA6TWF0aC5tYXgoay0uMDUsMCksZj1mPj1rfHxoPj1rLGI9Ynx8IndhdGNoZG9nX3RpbWVyIjtpZih0aGlzLmgpe3FmKHRoaXMsYSk7YT1yZih0aGlzLmEpO3ZhciBsPTA8YT9nL2E6MDtnPmF8fHNmKHRoaXMuYSl8fHRoaXMuZi5nZXRCb29sKCJmaXhfYnVmZmVyaW5nX2F0X3RoZV9lbmRfb2ZfcGxheWJhY2siLCEwKSYmZj8oJGUodGhpcyxiKSx0aGlzLlkmJiF0aGlzLncmJnRoaXMuYi5wbGF5KCkpOnRoaXMuQiE9PWwmJih0aGlzLkI9bCx0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToiYnVmZmVyaW5nUHJvZ3Jlc3MiLHByb2dyZXNzOmx9KSkpfWVsc2UgdGhpcy5iLnBhdXNlZCYmIWN8fCEoIWYmJmc8ZXx8b2YodGhpcykpfHwodGhpcy5oPSEwLHRoaXMudz90aGlzLmIucGxheWJhY2tSYXRlPTA6dGhpcy5iLnBhdXNlKCksdGhpcy5sJiYKIXRoaXMubyYmKGc9dGhpcy5iLmJ1ZmZlcmVkLGc9Zy5sZW5ndGg/Zy5lbmQoZy5sZW5ndGgtMSk6MCx0aGlzLmYuZ2V0Qm9vbCgiZml4X3Vuc3RhbGxfYnVmZmVyX2NhbGN1bGF0aW9uIiwhMSk/bD1wZih0aGlzKTpsPU1hdGgubWF4KGctdGhpcy5iLmN1cnJlbnRUaW1lLDApLGc9MUUzKihyZih0aGlzLmEpLWwpLHRoaXMubz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJidWZmZXJpbmciKS5zZXRMZW5ndGgoTWF0aC5yb3VuZChnKSkuc2V0VHlwZSh0aGlzLnU/InN0YXJ0L3VucGF1c2UiOiJpbl9wbGF5Iikuc2V0SW5pdGlhdG9yKGIpLnN0YXJ0KCkpLHUucWEoImJ1ZmZlcmluZyIpLHRoaXMuZGlzcGF0Y2hFdmVudCh5KHt0eXBlOiJidWZmZXJpbmdTdGFydCJ9KSksdGhpcy5mLmdldEJvb2woIm5vX3NraXBfZ2Fwc19vbl9idWZmZXJpbmciLCExKXx8bGYodGhpcykscWYodGhpcyxhKSksc2YodGhpcy5hKSYmJGUodGhpcyxiKTtkJiZkLmxvZygpfWVsc2UgdGhpcy5mLmdldEJvb2woImZpeF9mZl9pbl9wbGF5X3N0YWxsX3Vwb25fc2VlayIsCiExKSYmcWYodGhpcyxhKX19O1cucHJvdG90eXBlLm1hPWZ1bmN0aW9uKGEpe3RoaXMuZGlzcGF0Y2hFdmVudChhKX07Vy5wcm90b3R5cGUucGE9ZnVuY3Rpb24oYSl7dGhpcy5kaXNwYXRjaEV2ZW50KGEpfTtmdW5jdGlvbiBxZihhLGIpe2ImJiJwbGF5aW5nIj09PWIudHlwZSYmKGEuQT0hMCxldmVudEtpbGwoYikpfVcucHJvdG90eXBlLnZhPWZ1bmN0aW9uKGEpe2lmKHRoaXMuYSl7dmFyIGI9dGhpcy5hO2IuYy52aWRlbyYmYi5jLnZpZGVvLkpjKGEpfX07Vy5wcm90b3R5cGUuc2V0VmlkZW9TdHJlYW1PZmZzZXQ9Vy5wcm90b3R5cGUudmE7ZnVuY3Rpb24gdGYoYSl7Zm9yKHZhciBiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKHZhciBjPWFbYl0sZD0wO2Q8Yy5hLmxlbmd0aDsrK2Qpe2Zvcih2YXIgZT1jLmFbZF0sZj1lLGc9L3ZpZGVvXC93ZWJtOyBjb2RlY3M9ImF2MDEuKiIvLGg9ITEsaz0wO2s8Zi52Lmxlbmd0aDsrK2spe3ZhciBsPWYudltrXTtPZShOZChsKSk/Zy50ZXN0KE5kKGwpKSYmKGg9ITApOihmLnYuc3BsaWNlKGssMSksLS1rKX1pZihoKWZvcihrPTA7azxmLnYubGVuZ3RoOysraylsPWYudltrXSxnLnRlc3QoTmQobCkpfHwoZi52LnNwbGljZShrLDEpLC0tayk7MD09ZS52Lmxlbmd0aCYmKGMuYS5zcGxpY2UoZCwxKSwtLWQpfWZvcihiPTA7YjxhLmxlbmd0aDsrK2IpZm9yKGM9YVtiXSxkPTA7ZDxjLmEubGVuZ3RoOysrZCljLmFbZF0udi5zb3J0KHVmKX0KZnVuY3Rpb24gdWYoYSxiKXt2YXIgYz1hLmJhbmR3aWR0aHx8TnVtYmVyLk1BWF9WQUxVRSxkPWIuYmFuZHdpZHRofHxOdW1iZXIuTUFYX1ZBTFVFO3JldHVybiBjPGQ/LTE6Yz5kPzE6MH07ZnVuY3Rpb24gdmYoYSl7dGhpcy5hPWF9dmYucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmEuZGVzdHJveSgpO3RoaXMuYT1udWxsfTt2Zi5wcm90b3R5cGUudXBkYXRlPWZ1bmN0aW9uKGEpe3ZhciBiPXdmKGEsbnVsbCksYz13Zih0aGlzLmEsYSk7cmV0dXJuIFByb21pc2UuYWxsKFtiLGNdKS50aGVuKEoodGhpcyxmdW5jdGlvbihiKXt2YXIgYz1iWzBdO2I9YlsxXTt0Zih0aGlzLmEuYSk7YS5iJiYhdGhpcy5hLmImJihhLmg9ITApO2EuYz10aGlzLmEuYzthLmk9dGhpcy5hLmk/dGhpcy5hLmkuY2xvbmUoKTpudWxsO2EuZz10aGlzLmEuZzt2YXIgZj1bXTt4ZihhLHRoaXMuYSxjLGIsZik7dGYoYS5hKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGYpfSkpfTsKZnVuY3Rpb24gd2YoYSxiKXtmdW5jdGlvbiBjKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfXZhciBkPWEuYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYX0pLnJlZHVjZShjLFtdKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShjLFtdKTtpZihWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInRlbXBsYXRlZF9sYXN0X3hfdGltZWxpbmUiLCExKSYmYil2YXIgZT1iLmEubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLmF9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoYyxbXSkubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLk0uY3JlYXRlKCl9KSxlPVByb21pc2UuYWxsKGUpLnRoZW4oZnVuY3Rpb24oYSl7Zm9yKHZhciBiPU51bWJlci5QT1NJVElWRV9JTkZJTklUWSxjPTA7YzxhLmxlbmd0aDsrK2Mpe3ZhciBlPWFbY107ZS5sZW5ndGgoKSYmZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWU8YiYmKGI9ZS5sYXN0KCkudW5zY2FsZWRTdGFydFRpbWUpfWI9CmEubGVuZ3RoP2I6bnVsbDthPWQubWFwKGZ1bmN0aW9uKGEpe2EuTS5FYyYmYS5NLkVjKGIpO3JldHVybiBhLk0uY3JlYXRlKCl9KTtyZXR1cm4gUHJvbWlzZS5hbGwoYSl9KTtlbHNlIGU9ZC5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuTS5jcmVhdGUoKX0pLGU9UHJvbWlzZS5hbGwoZSk7cmV0dXJuIGUudGhlbihmdW5jdGlvbihhKXtmb3IodmFyIGI9e30sYz0wO2M8ZC5sZW5ndGg7KytjKWJbZFtjXS5YXT1hW2NdO3JldHVybiBQcm9taXNlLnJlc29sdmUoYil9KX0KZnVuY3Rpb24geGYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiYoeWYoa1swXSxoWzBdLGMsZCxlKSxrWzBdLmR1cmF0aW9uPWhbMF0uZHVyYXRpb24pfX0KZnVuY3Rpb24geWYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLmEuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi5hLmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2E9YWIoZik7Zm9yKGI9MDtiPGEubGVuZ3RoOysrYil7dmFyIGg9YVtiXSxrPWYuZ2V0KGgpOzE8ay5sZW5ndGh8fChoPWcuZ2V0KGgpKSYmMCE9aC5sZW5ndGgmJjE9PWgubGVuZ3RoJiZ6ZihrWzBdLGhbMF0sYyxkLGUpfX0KZnVuY3Rpb24gemYoYSxiLGMsZCxlKXt2YXIgZj1uZXcgRDthLnYuZm9yRWFjaChmdW5jdGlvbihhLGIpe2YucHVzaChhLmlkfHwiIitiLGEpfSk7dmFyIGc9bmV3IEQ7Yi52LmZvckVhY2goZnVuY3Rpb24oYSxiKXtnLnB1c2goYS5pZHx8IiIrYixhKX0pO2I9e307Zm9yKHZhciBoPWFiKGYpLGs9MDtrPGgubGVuZ3RoOysrayl7dmFyIGw9aFtrXTtiW2xdPWw7dmFyIG09Zi5nZXQobCk7MTxtLmxlbmd0aHx8KChsPWcuZ2V0KGwpKSYmMCE9bC5sZW5ndGg/MT09bC5sZW5ndGgmJihCZihtWzBdLGxbMF0sYyxkKSxtWzBdLmFhPWxbMF0uYWEsbFswXS5hYT1udWxsLG1bMF0uYT1sWzBdLmEsVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJyZWZyZXNoX2JhbmR3aWR0aF9mcm9tX2xpdmVfbWFuaWZlc3QiLCExKSYmKG1bMF0uYmFuZHdpZHRoPWxbMF0uYmFuZHdpZHRoKSk6KGUucHVzaChtWzBdKSxhLnYuc3BsaWNlKGEudi5pbmRleE9mKG1bMF0pLDEpKSl9aD1hYihnKTsKZm9yKGs9MDtrPGgubGVuZ3RoOysraylsPWhba10sYltsXXx8KGJbbF09bCxsPWcuZ2V0KGwpLGEudi5wdXNoKGxbMF0pKX1mdW5jdGlvbiBCZihhLGIsYyxkKXthPWNbYS5YXTtjPWRbYi5YXTtkPShiPWEubGVuZ3RoKCkpP2EubGFzdCgpLmVuZFRpbWU6MDtpZihhLkIoYykpe2M9YS5sZW5ndGgoKTt2YXIgZT0hMTtWaWRlb1BsYXllclNoYWthR2xvYmFsQ29uZmlnLmdldEJvb2woInJvYnVzdF9jb3VudF9jaGFuZ2VzIiwhMSkmJihlPSEhYyYmYS5sYXN0KCkuZW5kVGltZT5kKTthLmcucHVzaChiIT09Y3x8ZSk7NTA8YS5nLmxlbmd0aCYmYS5nLnNoaWZ0KCl9fTtmdW5jdGlvbiBYKCl7dGhpcy5hPXRoaXMuYj1udWxsO3RoaXMuZj1uZXcgYmI7dGhpcy5jPU51bWJlci5QT1NJVElWRV9JTkZJTklUWTt0aGlzLmk9ITA7dGhpcy5nPSExfXEoInNoYWthLm1lZGlhLlNpbXBsZUFick1hbmFnZXIiLFgpO1gucHJvdG90eXBlLmRlc3Ryb3k9ZnVuY3Rpb24oKXt0aGlzLmYuZGVzdHJveSgpO3RoaXMuYT10aGlzLmI9dGhpcy5mPW51bGx9O1gucHJvdG90eXBlLmluaXRpYWxpemU9ZnVuY3Rpb24oYSxiKXt0aGlzLmJ8fHRoaXMuYXx8KHRoaXMuYj1hLHRoaXMuYT1iKX07ClgucHJvdG90eXBlLnN0YXJ0PWZ1bmN0aW9uKCl7dGhpcy5iJiZ0aGlzLmEmJiF0aGlzLmcmJih0aGlzLmM9RGF0ZS5ub3coKSs0RTMsRSh0aGlzLmYsdGhpcy5iLmdldEVzdGltYXRvcigpLCJiYW5kd2lkdGgiLHRoaXMubS5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsImFkYXB0YXRpb24iLHRoaXMuai5iaW5kKHRoaXMpKSxFKHRoaXMuZix0aGlzLmEsInRyYWNrc2NoYW5nZWQiLHRoaXMuaC5iaW5kKHRoaXMpKSx0aGlzLmc9ITApfTtYLnByb3RvdHlwZS5lbmFibGU9ZnVuY3Rpb24oYSl7dGhpcy5pPWF9O1gucHJvdG90eXBlLmdldEluaXRpYWxWaWRlb1RyYWNrSWQ9ZnVuY3Rpb24oKXtpZighdGhpcy5ifHwhdGhpcy5hKXJldHVybiBudWxsO3ZhciBhPUNmKHRoaXMpO3JldHVybiBhP2EuaWQ6bnVsbH07WC5wcm90b3R5cGUuZ2V0SW5pdGlhbFN3aXRjaFJlYXNvbj1mdW5jdGlvbigpe3JldHVybiBudWxsfTtYLnByb3RvdHlwZS5nZXRJbml0aWFsQXVkaW9UcmFja0lkPWZ1bmN0aW9uKCl7cmV0dXJuIG51bGx9OwpYLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjKXt0aGlzLmcmJnRoaXMuYS5zZWxlY3RWaWRlb1RyYWNrKGEuaWQsYixjKX07WC5wcm90b3R5cGUubT1mdW5jdGlvbigpe0RhdGUubm93KCk8dGhpcy5jfHx0aGlzLmgoKX07WC5wcm90b3R5cGUuaD1mdW5jdGlvbigpe2lmKHRoaXMuaSl7dmFyIGE9Q2YodGhpcyk7aWYoYSl7aWYoYS5hY3RpdmUpe3RoaXMuYz1EYXRlLm5vdygpKzNFMztyZXR1cm59dGhpcy5zZWxlY3RWaWRlb1RyYWNrKGEsITEpfXRoaXMuYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFl9fTtYLnByb3RvdHlwZS5qPWZ1bmN0aW9uKCl7dGhpcy5jPT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFkmJih0aGlzLmM9RGF0ZS5ub3coKSszRTQpfTsKZnVuY3Rpb24gQ2YoYSl7dmFyIGI9YS5hLlooKTtpZigwPT1iLmxlbmd0aClyZXR1cm4gbnVsbDtiLnNvcnQodmEpO3ZhciBjO2E6e2M9YS5hLnZhKCk7Zm9yKHZhciBkPTA7ZDxjLmxlbmd0aDsrK2QpaWYoY1tkXS5hY3RpdmUpe2M9Y1tkXTticmVhayBhfWM9bnVsbH1jPWM/Yy5iYW5kd2lkdGg6MDthPWEuYi5nZXRCYW5kd2lkdGgoKTtmb3IodmFyIGQ9YlswXSxlPTA7ZTxiLmxlbmd0aDsrK2Upe3ZhciBmPWJbZV0sZz1lKzE8Yi5sZW5ndGg/YltlKzFdOntiYW5kd2lkdGg6TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZfTtpZihmLmJhbmR3aWR0aCYmKGc9KGcuYmFuZHdpZHRoK2MpLy44NSxhPj0oZi5iYW5kd2lkdGgrYykvLjk1JiZhPD1nJiYoZD1mLGQuYWN0aXZlKSkpYnJlYWt9cmV0dXJuIGR9O2Z1bmN0aW9uIFkoYSxiLGMsZCl7Ri5jYWxsKHRoaXMsbnVsbCk7dGhpcy5iPWE7dGhpcy5hPWI7dGhpcy53YT1jO3RoaXMua2I9bmV3IFZpZGVvUGxheWVyTG9jYWxCYW5kd2lkdGhFc3RpbWF0b3IodGhpcyxjLGIpO3RoaXMuaT1uZXcgYmI7dGhpcy5oPW5ldyBNZWRpYVNvdXJjZTt0aGlzLmJhPXRoaXMudmlkZW89bnVsbDt0aGlzLkNiPTA7dGhpcy5uYz10aGlzLiRiPSExO3RoaXMuTWI9aWE7dGhpcy5CYj10aGlzLlY9dGhpcy5pYT10aGlzLmw9bnVsbDt0aGlzLkxiPTM7dGhpcy5yYT10aGlzLmFjPXRoaXMuRmE9dGhpcy5FYT0hMTt0aGlzLlBhPTA7dGhpcy5kYT1uZXcgVmlkZW9QdXNoVHJhY2tlcjt0aGlzLmdhPW51bGw7dGhpcy5qYz0xO3RoaXMuaGM9SW5maW5pdHk7dGhpcy5WYj10aGlzLlRiPSExO3RoaXMucGE9dGhpcy5PYT1udWxsO3RoaXMuWGI9dGhpcy5XYj10aGlzLkdhPXRoaXMuZGM9dGhpcy5tYT0hMTt0aGlzLmY9bmV3IEQ7dGhpcy5BPWQ7dGhpcy5BLmluaXRpYWxpemUodGhpcy5rYiwKdGhpcyk7dGhpcy5PPSExO3RoaXMuUz0iZW4iO3RoaXMueWE9ITE7dGhpcy5KPW5ldyBJO3RoaXMuSmI9bmV3IEk7dGhpcy5tPW5ldyBrYTt0aGlzLkQ9bnVsbDt0aGlzLmtjPTE7dGhpcy5jPXt9O3RoaXMuc2E9bmV3IEk7dGhpcy5qYT0wO3RoaXMuUmE9MTVFMzt0aGlzLmo9bnVsbDt0aGlzLmZjPSExO3RoaXMuZWM9MDt0aGlzLkNhPSExO3RoaXMuQj17fTt0aGlzLmxhPXRoaXMua2E9dGhpcy51PW51bGw7dGhpcy5nPXt9O3RoaXMuJD0hMTt0aGlzLmdjPTA7dGhpcy5LPXRoaXMuYS5nZXROdW1iZXIoImJ1ZmZlcmluZ19vdmVyZmxvd190aHJlc2hvbGQiLDApO3RoaXMucGM9bnVsbDt0aGlzLm89e307dGhpcy53PXt9O3RoaXMuUj1udWxsO3RoaXMuVT1bXTt0aGlzLlQ9dGhpcy5JPW51bGw7dGhpcy5HPW5ldyBOZXR3b3JrU3RhdHVzRGV0ZWN0b3I7dGhpcy5pYz0hMTt0aGlzLm5hPSEwO3RoaXMuZWE9ITE7dGhpcy51Yz1uZXcgU3Vic2NyaXB0aW9uc0hhbmRsZXI7dGhpcy5aYj0hMTsKdGhpcy54YT0xO3RoaXMuSWQ9dGhpcy5hLmdldE51bWJlcigic3RyZWFtX21heGltdW1fb25wYXVzZV9idWZmZXJfc2l6ZV9tdWx0aXBsaWVyIiwwKTt0aGlzLmNhPW51bGw7dGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmdGhpcy51Yy5hZGRTdWJzY3JpcHRpb25zKHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya0ludGVycnVwdGVkIix0aGlzLlRjLHRoaXMpLHRoaXMuRy5hZGRMaXN0ZW5lcigibmV0d29ya1Jlc3VtZWQiLHRoaXMuVWMsdGhpcyksdGhpcy5HLmFkZExpc3RlbmVyKCJzeXN0ZW1XYWtlIix0aGlzLlZjLHRoaXMpKX1yKFksRik7cSgic2hha2EucGxheWVyLlN0cmVhbVZpZGVvU291cmNlIixZKTtZLnByb3RvdHlwZS5ZYj1mdW5jdGlvbigpe3JldHVybntWaWRlb1NvdXJjZVN0cmVhbTp0aGlzLmMudmlkZW8sQXVkaW9Tb3VyY2VTdHJlYW06dGhpcy5jLmF1ZGlvLFRleHRTb3VyY2VTdHJlYW06dGhpcy5jLnRleHQsQmFuZHdpZHRoRXN0aW1hdG9yOnRoaXMud2F9fTsKWS5wcm90b3R5cGUuZ2V0U3RyZWFtRGVidWc9WS5wcm90b3R5cGUuWWI7WS5wcm90b3R5cGUuUGM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iP3RoaXMuYi53OiJub25lIn07WS5wcm90b3R5cGUuZ2V0TXBkQXVkaW9Db25maWc9WS5wcm90b3R5cGUuUGM7ClkucHJvdG90eXBlLmxjPWZ1bmN0aW9uKGEpe251bGwhPWEuc3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5zdHJlYW1CdWZmZXJTaXplPWEuc3RyZWFtQnVmZmVyU2l6ZSk7bnVsbCE9YS5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZSYmKHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1hLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplKTtudWxsIT1hLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplJiYodGhpcy5nLmR5bmFtaWNTdHJlYW1CdWZmZXJTaXplPWEuZHluYW1pY1N0cmVhbUJ1ZmZlclNpemUpO251bGwhPWEuc21hcnRCdWZmZXJBZGp1c3RtZW50UGFyYW1zJiYodGhpcy5nLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcz1hLnNtYXJ0QnVmZmVyQWRqdXN0bWVudFBhcmFtcyk7bnVsbCE9YS5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycyYmKHRoaXMuZy5hZGRDZG5EZWJ1Z1F1ZXJ5UGFyYW1ldGVycz1hLmFkZENkbkRlYnVnUXVlcnlQYXJhbWV0ZXJzKTtudWxsIT1hLnNlZ21lbnRSZXF1ZXN0VGltZW91dCYmCih0aGlzLmcuc2VnbWVudFJlcXVlc3RUaW1lb3V0PWEuc2VnbWVudFJlcXVlc3RUaW1lb3V0KTtudWxsIT1hLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzJiYodGhpcy5nLnJlc29sdmVWaWRlb1RpbWVVcGRhdGVPbkZyYWdtZW50ZWRUaW1lUmFuZ2VzPWEucmVzb2x2ZVZpZGVvVGltZVVwZGF0ZU9uRnJhZ21lbnRlZFRpbWVSYW5nZXMpO251bGwhPWEucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQmJih0aGlzLmcucmVhcHBlbmRJbml0U2VnbWVudEFmdGVyQWJvcnQ9YS5yZWFwcGVuZEluaXRTZWdtZW50QWZ0ZXJBYm9ydCk7bnVsbCE9YS5saXZlRGF0YUZldGNoTWF4UmV0cmllcyYmKHRoaXMuZy5saXZlRGF0YUZldGNoTWF4UmV0cmllcz1hLmxpdmVEYXRhRmV0Y2hNYXhSZXRyaWVzKTtudWxsIT1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMmJih0aGlzLmcubGl2ZVNvdXJjZUJ1ZmZlckNsZWFyTWF4UmV0cmllcz1hLmxpdmVTb3VyY2VCdWZmZXJDbGVhck1heFJldHJpZXMpOwpudWxsIT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UmJih0aGlzLmcucGxheWhlYWRGcmFnbWVudGVkR2FwRGlmZkFsbG93YW5jZT1hLnBsYXloZWFkRnJhZ21lbnRlZEdhcERpZmZBbGxvd2FuY2UpO251bGwhPWEuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb24mJih0aGlzLmcuZml4QnVmZmVyaW5nR29hbERldGVybWluYXRpb249YS5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbik7bnVsbCE9YS5za2lwRW1wdHlTZWdtZW50cyYmKHRoaXMuZy5za2lwRW1wdHlTZWdtZW50cz1hLnNraXBFbXB0eVNlZ21lbnRzKTtudWxsIT1hLnVzZU1pY3JvVGFza1RpbWVvdXRzJiYodGhpcy5nLnVzZU1pY3JvVGFza1RpbWVvdXRzPWEudXNlTWljcm9UYXNrVGltZW91dHMpO0RmKHRoaXMpO251bGwhPWEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0JiYodGhpcy4kYj1Cb29sZWFuKGEuaW5jbHVkZVN0cmVhbUJ1ZmZlclNpemVJblN0YXJ0T2Zmc2V0KSk7Cm51bGwhPWEubGl2ZUF1ZGlvUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5wYT1TdHJpbmcoYS5saXZlQXVkaW9QdXNoUmVwcmVzZW50YXRpb24pKTtudWxsIT1hLmxpdmVJbml0aWFsUHVzaFJlcHJlc2VudGF0aW9uJiYodGhpcy5PYT1TdHJpbmcoYS5saXZlSW5pdGlhbFB1c2hSZXByZXNlbnRhdGlvbikpO251bGwhPWEuZW5hYmxlQWRhcHRhdGlvbiYmdGhpcy5BLmVuYWJsZShCb29sZWFuKGEuZW5hYmxlQWRhcHRhdGlvbikpO251bGwhPWEubXBkUmVxdWVzdFRpbWVvdXQmJih0aGlzLk1iPU51bWJlcihhLm1wZFJlcXVlc3RUaW1lb3V0KSk7bnVsbCE9YS5taW5NcGRSZWZyZXNoSW50ZXJ2YWwmJih0aGlzLkxiPU51bWJlcihhLm1pbk1wZFJlZnJlc2hJbnRlcnZhbCkvMUUzKTtudWxsIT1hLmVuYWJsZU1hbmlmZXN0RGVidWcmJih0aGlzLlZiPSEhYS5lbmFibGVNYW5pZmVzdERlYnVnKTtudWxsIT1hLmxpdmVTdHJlYW1FbmRUaW1lb3V0JiYodGhpcy5SYT1OdW1iZXIoYS5saXZlU3RyZWFtRW5kVGltZW91dCkpOwpudWxsIT1hLnByZWZlcnJlZExhbmd1YWdlJiYodGhpcy5TPVNhKFN0cmluZyhhLnByZWZlcnJlZExhbmd1YWdlKSkpO251bGwhPWEubGl2ZVNlbmRQdXNoSGVhZGVycyYmKHRoaXMucmE9Qm9vbGVhbihhLmxpdmVTZW5kUHVzaEhlYWRlcnMpKTtudWxsIT1hLmxpdmVNYXhNYW5pZmVzdEZldGNoZXNXaXRoUHVzaCYmKHRoaXMuUGE9TnVtYmVyKGEubGl2ZU1heE1hbmlmZXN0RmV0Y2hlc1dpdGhQdXNoKSk7bnVsbCE9YS5jdXJyZW50VGltZUR1cmluZ1JlYWR5U3RhdGVaZXJvVGhyb3dzJiYodGhpcy5UYj1Cb29sZWFuKGEuY3VycmVudFRpbWVEdXJpbmdSZWFkeVN0YXRlWmVyb1Rocm93cykpO251bGwhPWEubGl2ZU1heFNlZ21lbnRzVG9QdXNoJiYodGhpcy5oYz1OdW1iZXIoYS5saXZlTWF4U2VnbWVudHNUb1B1c2gpKTtudWxsIT1hLmp1bXBUb0xpdmVUaHJlc2hvbGQmJih0aGlzLmVjPU51bWJlcihhLmp1bXBUb0xpdmVUaHJlc2hvbGQpKTtudWxsIT1hLnJlc3RyaWN0aW9ucyYmKHRoaXMubT0KYS5yZXN0cmljdGlvbnMsdGhpcy5PJiZFZih0aGlzKSk7bnVsbCE9YS51c2VMb25nQ2FjaGVGb3JNYW5pZmVzdCYmKHRoaXMubWE9Qm9vbGVhbihhLnVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KSk7bnVsbCE9YS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2smJih0aGlzLmRjPUJvb2xlYW4oYS5qdW1wVG9FYXJsaWVzdFBvc2l0aW9uSW5DdXJyZW50QmxvY2spKTtudWxsIT1hLmlnbm9yZU1pbkJ1ZmZlclRpbWUmJih0aGlzLkdhPUJvb2xlYW4oYS5pZ25vcmVNaW5CdWZmZXJUaW1lKSk7bnVsbCE9PWEuZW5hYmxlUmVxdWVzdFBpcGVsaW5pbmcmJih0aGlzLldiPUJvb2xlYW4oYS5lbmFibGVSZXF1ZXN0UGlwZWxpbmluZykpO251bGwhPT1hLmVuYWJsZVN0cmVhbWluZyYmKHRoaXMuWGI9Qm9vbGVhbihhLmVuYWJsZVN0cmVhbWluZykpfTsKWS5wcm90b3R5cGUuZGVzdHJveT1mdW5jdGlvbigpe3RoaXMuSi5kZXN0cm95KCk7dGhpcy5zYS5kZXN0cm95KCk7dGhpcy5zYT10aGlzLko9bnVsbDt0aGlzLmthJiYoY2xlYXJUaW1lb3V0KHRoaXMua2EpLHRoaXMua2E9bnVsbCk7dGhpcy51JiYoY2xlYXJUaW1lb3V0KHRoaXMudSksdGhpcy51PW51bGwpO3RoaXMuQj1udWxsO3RoaXMuaS5kZXN0cm95KCk7dGhpcy5pPW51bGw7V2EodGhpcy5jKS5mb3JFYWNoKGZ1bmN0aW9uKGEpe2EuZGVzdHJveSgpfSk7dGhpcy5mPXRoaXMuYz1udWxsO3RoaXMuYiYmKHRoaXMuYi5kZXN0cm95KCksdGhpcy5iPW51bGwpO3RoaXMuQS5kZXN0cm95KCk7dGhpcy5KYT10aGlzLm09dGhpcy52aWRlbz10aGlzLmg9dGhpcy53YT10aGlzLkE9bnVsbDt0aGlzLmEuZ2V0Qm9vbCgiZml4aW5nX3NjaGVkdWxlcl9kaXNhYmxlX2xlYWtzIiwhMCkmJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7KGE9dGhpcy5vW2FdKSYmYS5kaXNhYmxlKCl9LmJpbmQodGhpcykpLAp0aGlzLm89e30pO09iamVjdC5rZXlzKHRoaXMudykuZm9yRWFjaChmdW5jdGlvbihhKXsoYT10aGlzLndbYV0pJiZhLmRlc3Ryb3koKX0uYmluZCh0aGlzKSk7dGhpcy53PXt9O3RoaXMuSSYmKHRoaXMuSS5kaXNhYmxlKCksdGhpcy5JPW51bGwpO3RoaXMuUiYmKHRoaXMuUi5jbGVhbnVwKCksdGhpcy5SPW51bGwpO2Zvcih2YXIgYT0wO2E8dGhpcy5VLmxlbmd0aDthKyspdGhpcy5VW2FdLmNsZWFudXAoKTt0aGlzLlU9W107dGhpcy51Yy5yZWxlYXNlKCl9O2Z1bmN0aW9uIGVmKGEsYil7aWYoYS5sKXt2YXIgYz1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJtZWRpYV9zb3VyY2Vfb3BlbiIpLnN0YXJ0KCk7YS5KYi50aGVuKGZ1bmN0aW9uKCl7Yy5sb2coKX0pfUUoYS5pLGEuaCwic291cmNlb3BlbiIsYS5oZC5iaW5kKGEpKTtiLnNyYz13aW5kb3cuVVJMLmNyZWF0ZU9iamVjdFVSTChhLmgpfW49WS5wcm90b3R5cGU7bi52Yz1mdW5jdGlvbigpe307CmZ1bmN0aW9uIGpmKGEsYixjKXt2YXIgZDthLmwmJihkPWEubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9hdHRhY2giKS5zdGFydCgpKTtpZighYS5PKXJldHVybiBhPUVycm9yKCJDYW5ub3QgY2FsbCBhdHRhY2goKSByaWdodCBub3cuIiksYS50eXBlPSJhcHAiLGQmJmQuc2V0RXJyb3IoYSkubG9nKCksUHJvbWlzZS5yZWplY3QoYSk7YS5KYT1iO2EudmlkZW89YzthLmJhPW51bGw7YS5hLmdldEJvb2woImVuYWJsZV92aWV3cG9ydF9wcmlvcml0eV9hZGp1c3RtZW50IiwhMSkmJihhLlI9bmV3IFZpZXdwb3J0UHJpb3JpdHlBZGp1c3RlcihhLnZpZGVvKSxhLlIuc2V0T25Qcmlvcml0eUNoYW5nZWQoZnVuY3Rpb24oYSl7T2JqZWN0LmtleXModGhpcy5vKS5mb3JFYWNoKGZ1bmN0aW9uKGIpe3RoaXMub1tiXS51cGRhdGVQcmlvcml0eVdpdGhOZXdBZGp1c3RtZW50KGEpfS5iaW5kKHRoaXMpKX0uYmluZChhKSkpO2EuYS5nZXRCb29sKCJlbmFibGVfZmlyc3RfdmlkZW9fcHJpb3JpdHlfYWRqdXN0bWVudCIsCiExKSYmYS5VLnB1c2gobmV3IEZpcnN0TG9hZGVkVmlkZW9Qcmlvcml0eUFkanVzdGVyKGEudmlkZW8pKTtFKGEuaSxhLnZpZGVvLCJsb2FkZWRtZXRhZGF0YSIsYS5nZC5iaW5kKGEpKTtFKGEuaSxhLndhLCJiYW5kd2lkdGgiLGEuR2QuYmluZChhKSk7aWYoYS5iLmJ8fGEuYS5nZXRCb29sKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3ciLCExKSlFKGEuaSxiLCJidWZmZXJpbmdTdGFydCIsYS5jZC5iaW5kKGEpKSxFKGEuaSxiLCJidWZmZXJpbmdFbmQiLGEuYmQuYmluZChhKSk7Yj1hLmEuZ2V0Qm9vbCgiZW5hYmxlX2NvbnRlbnRfcHJvdGVjdGlvbiIsITEpPyhiPWEudmlkZW8ubWVkaWFLZXlzKSYmYS52aWRlby5zZXRNZWRpYUtleXM/YS52aWRlby5zZXRNZWRpYUtleXMoYik6UHJvbWlzZS5yZXNvbHZlKCk6UHJvbWlzZS5yZXNvbHZlKCk7RmYoYSkudGhlbihKKGEsZnVuY3Rpb24oKXtkJiZ0aGlzLlAoKSYmZC5zZXRMaXZlaGVhZFBvc2l0aW9uKEdmKEhmKHRoaXMpKSk7dGhpcy5KJiYKdGhpcy5KLnJlc29sdmUoKTt0aGlzLnZjKCl9KSkuY2F0Y2goSihhLGZ1bmN0aW9uKGEpe3RoaXMuSiYmdGhpcy5KLnJlamVjdChhKX0pKTtyZXR1cm4gUHJvbWlzZS5hbGwoW2EuSixiXSkudGhlbihmdW5jdGlvbigpe2QmJmQubG9nKCl9KX0Kbi53Yj1mdW5jdGlvbigpe2lmKHRoaXMuTyl7dmFyIGE9RXJyb3IoIkNhbm5vdCBjYWxsIGxvYWQoKSByaWdodCBub3cuIik7YS50eXBlPSJhcHAiO3JldHVybiBQcm9taXNlLnJlamVjdChhKX1pZighdGhpcy5ifHwwPT10aGlzLmIuYS5sZW5ndGgpcmV0dXJuIGE9RXJyb3IoIlRoZSBtYW5pZmVzdCBkb2VzIG5vdCBzcGVjaWZ5IGFueSBjb250ZW50LiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTt0Zih0aGlzLmIuYSk7aWYoMD09dGhpcy5iLmEubGVuZ3RofHwwPT10aGlzLmIuYVswXS5hLmxlbmd0aHx8IXRoaXMuYi5hWzBdLmEuc29tZShmdW5jdGlvbihhKXtyZXR1cm4idmlkZW8iPT09YS5jb250ZW50VHlwZX0pKXJldHVybiBhPUVycm9yKCJUaGUgbWFuaWZlc3Qgc3BlY2lmaWVzIGNvbnRlbnQgdGhhdCBjYW5ub3QgYmUgZGlzcGxheWVkIG9uIHRoaXMgYnJvd3Nlci9wbGF0Zm9ybS4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5PPQohMDt0aGlzLkdhfHwodGhpcy5nLmluaXRpYWxTdHJlYW1CdWZmZXJTaXplPU1hdGgubWF4KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZXx8MCx0aGlzLmIuZykpO3RoaXMuaWEmJnRoaXMuaWEuc2V0U3RyZWFtVHlwZSh0aGlzLmIuQik7RGYodGhpcyk7RWYodGhpcyk7cmV0dXJuIFByb21pc2UucmVzb2x2ZSgpfTtmdW5jdGlvbiBJZihhKXt2YXIgYj15KHt0eXBlOiJtYW5pZmVzdHdyYXBwZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gSmYoYSxiKXt2YXIgYz15KHt0eXBlOiJsaXZlaGVhZElkbGVBdCIsc2Vjb25kczpiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYyl9ZnVuY3Rpb24gR2YoYSl7cmV0dXJuIE1hdGgubWluLmFwcGx5KE1hdGgsYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEubGVuZ3RoKCk/YS5sYXN0KCkuZW5kVGltZTpudWxsfSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiEhYX0pKX0Kbi5LYj1mdW5jdGlvbihhLGIpe3ZhciBjO3RoaXMuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmS2YodGhpcywwKTt0aGlzLlYmJih0aGlzLlYubG9nKCksdGhpcy5WPW51bGwpO3RoaXMubCYmKGM9dGhpcy5sLmdldE9wZXJhdGlvbkxvZ2dlcigidXBkYXRlX21hbmlmZXN0Iikuc3RhcnQoKSk7aWYoIWJ8fHRoaXMuTyl7dmFyIGQ9RGF0ZS5ub3coKTt0aGlzLmEuZ2V0Qm9vbCgiZGVjb3VwbGVfbXBkX3VwZGF0ZV9sb29wX2Zyb21fcmVxdWVzdF9sb29wIiwhMSl8fCh0aGlzLnU9bnVsbCk7dmFyIGU9bnVsbCxmLGc7aWYodGhpcy5yYSYmKCF0aGlzLlBhfHx0aGlzLlBhPnRoaXMuamMpKXtmPU1hdGguZmxvb3IoTGYodGhpcykpKzE7Zj1NYXRoLm1pbihmLHRoaXMuaGMpO3ZhciBoPXRoaXMuYy52aWRlbztpZihoPWg/aC5HYigpOm51bGwpaD1oLmxhc3QoKSxudWxsIT1oLnVuc2NhbGVkU3RhcnRUaW1lJiYoZz1oLnVuc2NhbGVkU3RhcnRUaW1lKTsKaWYodGhpcy52aWRlby5wYXVzZWR8fHRoaXMuJClmPTB9ZiYmdGhpcy5qYysrO2g9dGhpcy5iLmk7aD10aGlzLmEuZ2V0Qm9vbCgiZW5hYmxlX2NsZWFuX2ZhaWxvdmVyX3VyaV9vbl9tcGRfcmVxdWVzdHMiLCEwKT9oLmNsb25lKCk6aDtjJiYhYSYmYy5zZXRSZXNvdXJjZShoLnRvU3RyaW5nKCkpOyhhP3RoaXMueGMoKTp0aGlzLnljKGgsZixnKSkudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YXx8dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7ZT1uZXcgdmYoYik7dmFyIGM7dGhpcy5sJiYoYz10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJ1cGRhdGVfbWFuaWZlc3RfaW5mbyIpLnN0YXJ0KCkpO2I9ZS51cGRhdGUodGhpcy5iKTtiLnRoZW4oZnVuY3Rpb24oKXtjJiZjLmxvZygpfSxmdW5jdGlvbihhKXtjJiZjLnNldEVycm9yKGEpLmxvZygpfSkuY2F0Y2goZnVuY3Rpb24oKXt9KTtyZXR1cm4gYn0pKS50aGVuKEoodGhpcyxmdW5jdGlvbihhKXtlLmRlc3Ryb3koKTtlPW51bGw7CnZhciBmPUhmKHRoaXMpO3RoaXMuTGEoIlNlZ21lbnRJbmRleGVzVXBkYXRlZCIsZik7aWYodGhpcy5hLmdldEJvb2woImVtaXRfbGl2ZV9wbGF5aGVhZF9pZGxlX2Zyb21fY2xpZW50IiwhMCkpe3ZhciBnPXRoaXMuYS5nZXROdW1iZXIoImxpdmVfcGxheWhlYWRfaWRsZV9hbGxfc3RyZWFtX3RocmVzaG9sZCIsNCksaD10aGlzLmEuZ2V0TnVtYmVyKCJsaXZlX3BsYXloZWFkX2lkbGVfc2luZ2xlX3N0cmVhbV90aHJlc2hvbGQiLDUpO2lmKEhmKHRoaXMpLmV2ZXJ5KGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49Z30pfHxIZih0aGlzKS5zb21lKGZ1bmN0aW9uKGEpe3JldHVybiBhLnUoKT49aH0pKXt2YXIgdD1HZihmKTtKZih0aGlzLHQpfX1mLnNvbWUoZnVuY3Rpb24oYSl7cmV0dXJuIGEucmIoKX0pJiZJZih0aGlzKTt0PU1mKHRoaXMsZik7YyYmdGhpcy5QKCkmJmMuc2V0TGl2ZWhlYWRQb3NpdGlvbihHZihmKSk7YyYmYy5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOgoic3RhdGljIikuc2V0VXBkYXRlUGVyaW9kKG51bGw9PT10aGlzLmIuYz9udWxsOk1hdGguY2VpbCgxRTMqdGhpcy5iLmMpKTt0aGlzLm5hJiZOZih0aGlzLHQpO3RoaXMuYS5nZXRCb29sKCJza2lwX3JlbWFpbmluZ19idWZmZXJlZF9vbl9zdHJlYW1fZW5kIiwhMSkmJnQmJnRoaXMuYi5iJiZ0aGlzLmIuaCYmdGhpcy52aWRlby5wYXVzZWQmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPXRoaXMuamEtLjEpO2lmKHNmKHRoaXMpKXJldHVybiBjJiZjLmxvZygpLHRoaXMuZmIoKTtmb3IoZj0wO2Y8YS5sZW5ndGg7KytmKU9mKHRoaXMsYVtmXSk7dGhpcy5HYXx8KHRoaXMuZy5pbml0aWFsU3RyZWFtQnVmZmVyU2l6ZT1NYXRoLm1heCh0aGlzLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemV8fDAsdGhpcy5iLmcpKTt0aGlzLmcudXNlSW5pdGlhbEJ1ZmZlclNpemVXaGVuUGF1c2VkPXRoaXMuYi5iO0RmKHRoaXMpO0VmKHRoaXMpOzA9PU9iamVjdC5rZXlzKHRoaXMuYykubGVuZ3RoP0ZmKHRoaXMpOgooYT1EYXRlLm5vdygpLGJ8fEtmKHRoaXMsKGEtZCkvMUUzKSk7YyYmYy5sb2coKTt0aGlzLnRiKCkmJmV4dHJhY3RDRUE2MDgucHJlcGFyZSgpO3RoaXMuYS5nZXRCb29sKCJ1cGRhdGVfY2VhNjA4X2F2YWlsYWJpbGl0eV9vbl9tcGRfcGFyc2luZyIsITEpJiYoYT10aGlzLnRiKCksdGhpcy5aYiE9PWEmJihmPXkoe3R5cGU6ImNlYTYwOEF2YWlsYWJpbGl0eUNoYW5nZWQiLGJ1YmJsZXM6ITB9KSx0aGlzLmRpc3BhdGNoRXZlbnQoZiksdGhpcy5aYj1hKSl9KSkuY2F0Y2goSih0aGlzLGZ1bmN0aW9uKGEpe2MmJmMuc2V0RXJyb3IoYSkubG9nKCk7ZSYmKGUuZGVzdHJveSgpLGU9bnVsbCk7aWYoIWIpe3ZhciBkPXRoaXMuYi5mfHx0aGlzLmEuZ2V0Qm9vbCgicmV0cnlfZWdyZXNzXzUwMHMiLCExKSxmPVswLDQxMF07dGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0IiwhMSkmJmYucHVzaCg0MTcsMjAwKTshdGhpcy5hLmdldEJvb2woIm5vX3JldHJ5X29uXzUwMl81MDMiLAohMSkmJmQmJihmPWYuY29uY2F0KFs1MDIsNTAzXSkpO2Q9dGhpcy5hLmdldEJvb2woImZpeF9saXZlX3N0cmVhbV9nb25lX29uX21hbmlmZXN0X3VwZGF0ZSIsITApPy0xPT09Zi5pbmRleE9mKGEuc3RhdHVzKTowIT09YS5zdGF0dXM7aWYodGhpcy5hLmdldEJvb2woImFsbG93X2luZmluaXRlX3JldHJ5X29uX25ldF9lcnIiLCEwKSYmIm5ldCI9PT1hLnR5cGUmJiFkKXN3aXRjaChhLnN0YXR1cyl7Y2FzZSA0MTA6dGhpcy5pYz0hMDt0aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCk7dGhpcy5mYigpO2JyZWFrO2Nhc2UgMjAwOmNhc2UgNDE3OmEucmVzcG9uc2VIZWFkZXJzJiZudWxsIT1hLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0/dGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6InJlcGxpY2Fzd2l0Y2giLGJ1YmJsZXM6ITAscmVwbGljYTphLnJlc3BvbnNlSGVhZGVyc1sieC1mYi12aWRlby1yZXBsaWNhIl0sdXJsOmEudXJsLHN0YXR1czphLnN0YXR1c30pKToKZD0hMDticmVhaztkZWZhdWx0OlBmKHRoaXMpfTA9PT1hLnN0YXR1cz90aGlzLkcuaW5mb3JtTmV0d29ya0ludGVycnVwdGVkKCk6dGhpcy5HLmluZm9ybU5ldHdvcmtSZXN1bWVkKCk7aWYoImRlbGF5Ij09YS50eXBlKXJldHVybiBQZih0aGlzKTt0aGlzLmEuZ2V0Qm9vbCgiYWxsb3dfaW5maW5pdGVfcmV0cnlfb25fbmV0X2VyciIsITApJiYhZHx8ImFib3J0ZWQiPT1hLnR5cGV8fChhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpLHRoaXMuYiYmUGYodGhpcykpfX0pKX19O24ueWM9ZnVuY3Rpb24oKXtyZXR1cm4gUHJvbWlzZS5yZWplY3QoIkNhbm5vdCB1cGRhdGUgbWFuaWZlc3Qgd2l0aCB0aGlzIFZpZGVvU291cmNlIGltcGxlbWVudGF0aW9uLiIpfTtuLnhjPWZ1bmN0aW9uKCl7cmV0dXJuIFByb21pc2UucmVqZWN0KCJDYW5ub3QgdXBkYXRlIG1hbmlmZXN0IHdpdGggdGhpcyBWaWRlb1NvdXJjZSBpbXBsZW1lbnRhdGlvbi4iKX07CmZ1bmN0aW9uIE5mKGEsYil7aWYoYiYmYS5iJiZhLmIuYilpZihhLmEuZ2V0Qm9vbCgic2Vla19vdmVyX3VuYXZhaWxhYmxlX3NlZ21lbnRzX29uX21hbmlmZXN0X3VwZGF0ZSIsITEpJiZhLmVhKWIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTAmJihhLmVhPSExLGEudmlkZW8uY3VycmVudFRpbWU9Yi5lbmQsUWYoYSkpO2Vsc2UgaWYoYS52aWRlby5wYXVzZWQmJmIuZW5kPmEudmlkZW8uY3VycmVudFRpbWUrMTApaWYoYS5hLmdldEJvb2woImVuYWJsZV9sYXp5X2xpdmVoZWFkX2NhdGNodXAiLCExKSl7dmFyIGM9YS54YTtjPGEuSWQmJihhLnhhPSsrYyk7UmYoYSxjKTthLmNhPWIuZW5kfWVsc2UgYS5lYT0hMSxhLnZpZGVvLmN1cnJlbnRUaW1lPWIuZW5kLFFmKGEpfQpmdW5jdGlvbiBLZihhLGIpe2lmKG51bGw9PWEuYi5jKUJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cubGl2ZSIsInVwZGF0ZV9wZXJpb2RfaXNfbnVsbCIpO2Vsc2UgaWYoIWEuRmEpe2lmKGEuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKSYmKGEudSYmKGNsZWFyVGltZW91dChhLnUpLGEudT1udWxsKSxzZihhKSkpcmV0dXJuO3ZhciBjPU1hdGgubWF4KGEuYi5jLGEuTGIpLGM9TWF0aC5tYXgoYy1iLDApLGQ9YS5LYi5iaW5kKGEsITEpOyFjJiZhLmcudXNlTWljcm9UYXNrVGltZW91dHM/UHJvbWlzZS5yZXNvbHZlKCkudGhlbihkKTooYS5WJiZhLlYuc2V0UmVzdWx0KCJmYWlsZWQiKS5sb2coKSxhLmwmJihhLlY9YS5sLmdldE9wZXJhdGlvbkxvZ2dlcigic2NoZWR1bGVfbWFuaWZlc3RfdXBkYXRlIikuc3RhcnQoKS5zZXRVcGRhdGVQZXJpb2QoTWF0aC5jZWlsKDFFMypjKSkpLGEudT1zZXRUaW1lb3V0KGQsCjFFMypjKSl9fWZ1bmN0aW9uIE9mKGEsYil7dmFyIGM9TWQoYiksZD1hLmNbY107aWYoZCYmZC5ZYSgpPT1iKXt2YXIgZT1hLmYuZ2V0KE1kKGIpKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEudn0pLnJlZHVjZShmdW5jdGlvbihhLGIpe3JldHVybiBhLmNvbmNhdChiKX0sW10pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gYS5vYSYmYS5mYX0pO2lmKDA9PWUubGVuZ3RoKXtjPUVycm9yKCJBbGwgdXNhYmxlIHN0cmVhbXMgaGF2ZSBiZWVuIHJlbW92ZWQgZnJvbSB0aGUgbWFuaWZlc3QuIik7Yy50eXBlPSJhcHAiO2M9QShjKTthLmRpc3BhdGNoRXZlbnQoYyk7cmV0dXJufWEuQltjXS5MYz09YiYmZGVsZXRlIGEuQltjXTtkLmpiKGVbMF0sITApO2IuZGVzdHJveSgpfWIuZGVzdHJveSgpfW4uQ2Q9ZnVuY3Rpb24oYSl7dGhpcy5wYz1hfTtZLnByb3RvdHlwZS5zZXRUYWdnZWRUaW1lUmFuZ2VzPVkucHJvdG90eXBlLkNkOwpZLnByb3RvdHlwZS53ZD1mdW5jdGlvbigpe3JldHVybiAwPT09T2JqZWN0LmtleXModGhpcy5jKS5sZW5ndGg/ITE6WyJhdWRpbyIsInZpZGVvIl0uZXZlcnkoSih0aGlzLGZ1bmN0aW9uKGEpe3JldHVybiF0aGlzLmNbYV18fHRoaXMuY1thXS5UfSkpfTtZLnByb3RvdHlwZS5oYXNIaXRCdWZmZXJpbmdHb2FsPVkucHJvdG90eXBlLndkOwpZLnByb3RvdHlwZS5aPWZ1bmN0aW9uKGEpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidmlkZW8iKSlyZXR1cm5bXTthPWEmJmEudXNlTG9jYWxCaXRyYXRlfHwhMTt2YXIgYj10aGlzLmMudmlkZW8sYz1iP2IuWWEoKTpudWxsLGQ9Yz9jLlg6MCxlPTEsZj1udWxsO3RoaXMuYS5nZXRCb29sKCJ1c2VfbGl2ZV9iaXRyYXRlX2VzdGltYXRlcyIsITEpJiZ0aGlzLlAoKSYmbnVsbCE9YiYmKGY9Yi5sYSgpLG51bGwhPWMmJjA8Yy5iYW5kd2lkdGgmJihlPWYvYy5iYW5kd2lkdGgpKTtmb3IodmFyIGM9W10sZz10aGlzLmYuZ2V0KCJ2aWRlbyIpLGg9MDtoPGcubGVuZ3RoOysraClmb3IodmFyIGs9Z1toXSxsPTA7bDxrLnYubGVuZ3RoOysrbCl7dmFyIG09ay52W2xdO2lmKG0ub2EmJm0uZmEpe3ZhciBwPW51bGw7aWYoYSYmbnVsbCE9PW0uTSl7dmFyIHQ9bS5NLmMoKSx3PWI7aWYodGhpcy5QKCl8fG51bGw9PT10fHxudWxsPT09dylwPW51bGw7ZWxzZXt2YXIgcD0KcGUodyx0aGlzLnZpZGVvLmN1cnJlbnRUaW1lLHQpLHo9dC5nZXRTZWdtZW50cygpO3RoaXMuYS5nZXRCb29sKCJzdGFydF9sb2NhbF9iaXRyYXRlX2F0X2J1ZmZlcl9lbmQiLCExKSYmKHc9TG9jYWxCaXRyYXRlSGVscGVyLmdldEJ1ZmZlckVuZFNlZ21lbnRJbmRleCh6LHAsdGhpcy52aWRlby5jdXJyZW50VGltZSthZSh3LHRoaXMudmlkZW8uY3VycmVudFRpbWUpKSxudWxsIT09dyYmKHA9dykpO3A9TG9jYWxCaXRyYXRlSGVscGVyLmdldExvY2FsQml0cmF0ZSh0LmdldFNlZ21lbnRzKCkscCx0aGlzLmEuZ2V0TnVtYmVyKCJsb2NhbF9iaXRyYXRlX3NlZ21lbnRzX2FoZWFkIiwxMCkpfXRoaXMuYS5nZXRCb29sKCJ1c2VfbWF4X2xvY2FsX2JpdHJhdGUiLCExKSYmKHA9TWF0aC5tYXgocCxtLmJhbmR3aWR0aCkpfXQ9bS5YO3A9cHx8bS5iYW5kd2lkdGg7dGhpcy5hLmdldEJvb2woInVzZV9saXZlX2JpdHJhdGVfZXN0aW1hdGVzIiwhMSkmJm51bGwhPWYmJih0PT09ZD9wPU1hdGgubWF4KHAsCmYpOjE8ZSYmKHA9cCplKSxwPU1hdGgucm91bmQocCkpO209bmV3IHVhKHQscCxtLndpZHRoLG0uaGVpZ2h0LG0uaWQsbS5mYlF1YWxpdHlMYWJlbCxtLmZiUXVhbGl0eUNsYXNzLG0uZixtLmZyYW1lUmF0ZSxtLm1pbWVUeXBlLG0uY29kZWNzLG0uZyxtLmgpO3Q9PWQmJihtLmFjdGl2ZT0hMCk7Yy5wdXNoKG0pfX1yZXR1cm4gY307WS5wcm90b3R5cGUuZ2V0VmlkZW9UcmFja3M9WS5wcm90b3R5cGUuWjtZLnByb3RvdHlwZS5SYz1mdW5jdGlvbigpe2lmKHRoaXMuZ2EpcmV0dXJuIHRoaXMuZ2E7aWYoIXRoaXMuYilyZXR1cm4gbnVsbDtmb3IodmFyIGE9MDthPHRoaXMuYi5hLmxlbmd0aDsrK2EpZm9yKHZhciBiPXRoaXMuYi5hW2FdLGM9MDtjPGIuYS5sZW5ndGg7KytjKWlmKHRoaXMuZ2E9Yi5hW2NdLmMpcmV0dXJuIHRoaXMuZ2E7cmV0dXJuIG51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvUHJvamVjdGlvbj1ZLnByb3RvdHlwZS5SYztZLnByb3RvdHlwZS5PYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmtifTsKWS5wcm90b3R5cGUuZ2V0TG9jYWxFc3RpbWF0b3I9WS5wcm90b3R5cGUuT2M7ZnVuY3Rpb24gU2YoYSl7YT1hLlooKTtmb3IodmFyIGI9MDtiPGEubGVuZ3RoO2IrKylpZihhW2JdLmFjdGl2ZSlyZXR1cm4gYVtiXX1ZLnByb3RvdHlwZS52YT1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgiYXVkaW8iKSlyZXR1cm5bXTtmb3IodmFyIGE9dGhpcy5jLmF1ZGlvLGE9KGE9YT9hLllhKCk6bnVsbCk/YS5YOjAsYj1bXSxjPXRoaXMuZi5nZXQoImF1ZGlvIiksZD0wO2Q8Yy5sZW5ndGg7KytkKWZvcih2YXIgZT1jW2RdLGY9ZS5sYW5nLGc9MDtnPGUudi5sZW5ndGg7KytnKXt2YXIgaD1lLnZbZ107aWYoaC5vYSYmaC5mYSl7dmFyIGs9aC5YLGg9bmV3IGZhKGssaC5iYW5kd2lkdGgsZixoLmlkLGgubWltZVR5cGUsaC5jb2RlY3MsdGhpcy5iLnUsaC5jKTtrPT1hJiYoaC5hY3RpdmU9ITApO2IucHVzaChoKX19cmV0dXJuIGJ9OwpZLnByb3RvdHlwZS5nZXRBdWRpb1RyYWNrcz1ZLnByb3RvdHlwZS52YTtZLnByb3RvdHlwZS5tYz1mdW5jdGlvbigpe2lmKCF0aGlzLmZ8fCF0aGlzLmYuYS5oYXNPd25Qcm9wZXJ0eSgidGV4dCIpKXJldHVybltdO2Zvcih2YXIgYT10aGlzLmMudGV4dCxiPWE/YS5ZYSgpOm51bGwsYj1iP2IuWDowLGM9W10sZD10aGlzLmYuZ2V0KCJ0ZXh0IiksZT0wO2U8ZC5sZW5ndGg7KytlKWZvcih2YXIgZj1kW2VdLGc9Zi5sYW5nLGg9MDtoPGYudi5sZW5ndGg7KytoKXt2YXIgaz1mLnZbaF0uWCxsPW5ldyB0YShrLGcpO2s9PWImJihsLmFjdGl2ZT0hMCxsLmVuYWJsZWQ9YS5FYigpKTtjLnB1c2gobCl9cmV0dXJuIGN9O1kucHJvdG90eXBlLmdldFRleHRUcmFja3M9WS5wcm90b3R5cGUubWM7WS5wcm90b3R5cGUuYmM9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5iJiZ0aGlzLmIubSYmMDx0aGlzLmIubT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zPVkucHJvdG90eXBlLmJjOwpZLnByb3RvdHlwZS5jYz1mdW5jdGlvbigpe3JldHVybiB0aGlzLmImJnRoaXMuYi5vJiYwPHRoaXMuYi5vJiZna3goIjExNzYyNTEiKT8hMDohMX07WS5wcm90b3R5cGUuaXNVc2luZ0FTUkNhcHRpb25zRW1wbG95ZWVEb2dmb29kaW5nPVkucHJvdG90eXBlLmNjO2Z1bmN0aW9uIHJmKGEpe3ZhciBiPU51bWJlcihhLmcuaW5pdGlhbFN0cmVhbUJ1ZmZlclNpemUpO2EuZy5maXhCdWZmZXJpbmdHb2FsRGV0ZXJtaW5hdGlvbiYmKGI9MSk7aWYoYS5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpKWI9YS5LO2Vsc2V7dmFyIGM9YS5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk7MDxjJiYoYj1jKX1yZXR1cm4gYS5hYz9OdW1iZXIoYS5nLnN0cmVhbUJ1ZmZlclNpemUpOmJ9CmZ1bmN0aW9uIE5lKGEpe2lmKGEuTyl7YT1hLmIuYVswXTtmb3IodmFyIGI9W10sYz0wO2M8YS5hLmxlbmd0aDsrK2MpYi5wdXNoLmFwcGx5KGIsUWQoYS5hW2NdKSk7YT1ifWVsc2UgYT1bXTtyZXR1cm4gYX0KZnVuY3Rpb24gUGUoYSxiKXtpZihhLk8pe2Zvcih2YXIgYz17fSxkPWEuYi5hWzBdLGU9MDtlPGQuYS5sZW5ndGg7KytlKXt2YXIgZj1kLmFbZV07Y1tmLlhdPWZ9YS5mLmE9e307ZD1hYihiKTtmb3IoZT0wO2U8ZC5sZW5ndGg7KytlKXt2YXIgZj1kW2VdLGc9Yi5nZXQoZik7aWYoInZpZGVvIj09Zil7dmFyIGg9Z1swXS5pZDthLmYucHVzaChmLGNbaF0pfWVsc2UgaWYoImF1ZGlvIj09Zil7aWYoMDxnLmxlbmd0aClmb3IodmFyIGg9Z1swXS5iLnNwbGl0KCI7IilbMF0saz0wO2s8Zy5sZW5ndGg7KytrKXt2YXIgbD1nW2tdO2wuYi5zcGxpdCgiOyIpWzBdPT1oJiZhLmYucHVzaChmLGNbbC5pZF0pfX1lbHNlIGZvcihrPTA7azxnLmxlbmd0aDsrK2spaD1nW2tdLmlkLGEuZi5wdXNoKGYsY1toXSl9YS55YT0hMDtpZihjPWEuZi5nZXQoImF1ZGlvIikpVGYoYSxjKSxhLmYuc2V0KCJhdWRpbyIsYyksYz1jWzBdLmxhbmd8fGEuUyxSYSgyLGEuUyxjKSYmKGEueWE9ITEpO2lmKGM9YS5mLmdldCgidGV4dCIpKVRmKGEsCmMpLGEuZi5zZXQoInRleHQiLGMpLGM9Y1swXS5sYW5nfHxhLlMsUmEoMixhLlMsYyl8fChhLnlhPSExKX19WS5wcm90b3R5cGUuWGM9ZnVuY3Rpb24oKXt0aGlzLkVhPSEwfTtZLnByb3RvdHlwZS5zZXRDbGVhckJ1ZmZlckFmdGVyU2Vla2luZz1ZLnByb3RvdHlwZS5YYztZLnByb3RvdHlwZS5zZWxlY3RWaWRlb1RyYWNrPWZ1bmN0aW9uKGEsYixjLGQsZSl7cmV0dXJuIG1mKHRoaXMsInZpZGVvIixhLGIsYyxkLGUpfTtZLnByb3RvdHlwZS5yZXN1bWVWaWRlb0ZldGNoaW5nPWZ1bmN0aW9uKCl7dmFyIGE9dGhpcy5jLnZpZGVvP3RoaXMuYy52aWRlby5GOm51bGw7YSYmYS5yZXN1bWVWaWRlb0ZldGNoaW5nKCl9O1kucHJvdG90eXBlLnJlc3VtZVZpZGVvRmV0Y2hpbmc9WS5wcm90b3R5cGUucmVzdW1lVmlkZW9GZXRjaGluZztZLnByb3RvdHlwZS5IZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uRjpudWxsO2EmJmEuc3RvcFVudGlsU2VnbWVudHNVcGRhdGUoKX07ClkucHJvdG90eXBlLnN0b3BVbnRpbFZpZGVvU3RyZWFtU3dpdGNoPVkucHJvdG90eXBlLkhkO2Z1bmN0aW9uIG5mKGEsYil7dmFyIGM9YS5jLnRleHQ7YyYmYy52YihiKX0KZnVuY3Rpb24gRWYoYSl7aWYoYS5tKXtmb3IodmFyIGI9ITEsYz0wO2M8YS5iLmEubGVuZ3RoOysrYylmb3IodmFyIGQ9YS5iLmFbY10sZT0wO2U8ZC5hLmxlbmd0aDsrK2Upe3ZhciBmPWQuYVtlXTtpZigidmlkZW8iPT1mLmNvbnRlbnRUeXBlKWZvcih2YXIgZz0wO2c8Zi52Lmxlbmd0aDsrK2cpe3ZhciBoPWYudltnXSxrPWguZmE7aC5mYT0hMDthLm0ubWF4V2lkdGgmJmgud2lkdGg+YS5tLm1heFdpZHRoJiYoaC5mYT0hMSk7YS5tLm1heEhlaWdodCYmaC5oZWlnaHQ+YS5tLm1heEhlaWdodCYmKGguZmE9ITEpO2EubS5taW5IZWlnaHQmJmguaGVpZ2h0PGEubS5taW5IZWlnaHQmJihoLmZhPSExKTthLm0ubWF4QmFuZHdpZHRoJiZoLmJhbmR3aWR0aD5hLm0ubWF4QmFuZHdpZHRoJiYoaC5mYT0hMSk7YS5tLm1pbkJhbmR3aWR0aCYmaC5iYW5kd2lkdGg8YS5tLm1pbkJhbmR3aWR0aCYmKGguZmE9ITEpO2shPWguZmEmJihiPSEwKX19MCE9JGEoYS5mKS5sZW5ndGgmJmImJihVZihhKSwKMDxhLlooKS5sZW5ndGh8fChiPUVycm9yKCJUaGUgYXBwbGljYXRpb24gaGFzIHJlc3RyaWN0ZWQgYWxsIHZpZGVvIHRyYWNrcyEiKSxiLnR5cGU9ImFwcCIsYj1BKGIpLGEuZGlzcGF0Y2hFdmVudChiKSkpfX1ZLnByb3RvdHlwZS5QPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYj90aGlzLmIuYjpudWxsfTtZLnByb3RvdHlwZS5pc0xpdmU9WS5wcm90b3R5cGUuUDtZLnByb3RvdHlwZS5ZYz1mdW5jdGlvbihhKXt0aGlzLmFjPWF9O1kucHJvdG90eXBlLnNldElzTGl2ZUludGVycnVwdGVkPVkucHJvdG90eXBlLlljO1kucHJvdG90eXBlLnZkPWZ1bmN0aW9uKCl7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uSGMoKX07WS5wcm90b3R5cGUuZm9yY2VSZXN5bmNWaWRlb0J1ZmZlcj1ZLnByb3RvdHlwZS52ZDsKZnVuY3Rpb24gV2UoYSxiKXtmb3IodmFyIGMsZD0hMSxlPW5ldyBELGY9JGEoYS5mKSxnPTA7ZzxmLmxlbmd0aDsrK2cpZm9yKHZhciBoPWZbZ10saz0wO2s8aC52Lmxlbmd0aDsrK2spe3ZhciBsPWgudltrXTtsLmIuZm9yRWFjaChmdW5jdGlvbihhKXtlLnB1c2goYSxsKX0pfWZvcihjIGluIGIpaWYoZj1QYVtiW2NdXXx8bnVsbCxoPWUuZ2V0KGMpKWZvcihnPTA7ZzxoLmxlbmd0aDsrK2cpbD1oW2ddLGs9bC5vYSxsLm9hPSFmLGshPWwub2EmJihkPSEwKTtlbHNlIGliKGMpO2QmJihVZihhKSxkPWEudmEoKSxjPWEuWigpLGQ9YS5mLmEuaGFzT3duUHJvcGVydHkoImF1ZGlvIikmJjA9PWQubGVuZ3RoLGM9YS5mLmEuaGFzT3duUHJvcGVydHkoInZpZGVvIikmJjA9PWMubGVuZ3RoLGR8fGMpJiYoYz1FcnJvcigiVGhlIGtleSBzeXN0ZW0gaGFzIHJlc3RyaWN0ZWQgYWxsICIrKGQmJmM/ImF1ZGlvIGFuZCB2aWRlbyB0cmFja3MuIjpkPyJhdWRpbyB0cmFja3MuIjoidmlkZW8gdHJhY2tzLiIpKSwKYy50eXBlPSJkcm0iLGM9QShjKSxhLmRpc3BhdGNoRXZlbnQoYykpfWZ1bmN0aW9uIFVmKGEpe3ZhciBiPXkoe3R5cGU6InRyYWNrc2NoYW5nZWQiLGJ1YmJsZXM6ITB9KTthLmRpc3BhdGNoRXZlbnQoYil9ZnVuY3Rpb24gbWYoYSxiLGMsZCxlLGYsZyl7Zz0hIWc7aWYoIWEuZi5hLmhhc093blByb3BlcnR5KGIpfHwhYS5jW2JdKXJldHVybiExO2Zvcih2YXIgaD1hLmYuZ2V0KGIpLGs9MDtrPGgubGVuZ3RoOysraylmb3IodmFyIGw9aFtrXSxtPTA7bTxsLnYubGVuZ3RoOysrbSl7dmFyIHA9bC52W21dO2lmKHAuWD09Yyl7aWYoIXAub2F8fCFwLmZhKXJldHVybiExO2lmKCJ0ZXh0IiE9YiYmIWEuQ2EpcmV0dXJuIGM9YS5CW2JdLGEuQltiXT17TGM6cCxyYzpudWxsIT1jJiZjLnJjfHxkLHNjOm51bGwhPWMmJmMuc2N8fGUsc3dpdGNoUmVhc29uOmYsS2E6Z30sITA7YS5jW2JdLmpiKHAsZCxlLGYsZyk7cmV0dXJuITB9fXJldHVybiExfQpmdW5jdGlvbiBUZihhLGIpe2Zvcih2YXIgYz0wOzI+PWM7KytjKWZvcih2YXIgZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdO2lmKFJhKGMsYS5TLGUubGFuZykpe2Iuc3BsaWNlKGQsMSk7Yi5zcGxpY2UoMCwwLGUpO3JldHVybn19Zm9yKGQ9MDtkPGIubGVuZ3RoOysrZClpZihlPWJbZF0sZS5mKXtiLnNwbGljZShkLDEpO2Iuc3BsaWNlKDAsMCxlKTticmVha319bj1ZLnByb3RvdHlwZTtuLmhkPWZ1bmN0aW9uKCl7dGhpcy5pLlZhKHRoaXMuaCwic291cmNlb3BlbiIpO3RoaXMuSmIucmVzb2x2ZSgpfTsKZnVuY3Rpb24gRmYoYSl7dmFyIGI7YS5sJiYoYj1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdGFydF9zdHJlYW1zIikuc3RhcnQoKSk7Zm9yKHZhciBjPVtdLGQ9WyJhdWRpbyIsInZpZGVvIiwidGV4dCJdLGU9MDtlPGQubGVuZ3RoOysrZSl7dmFyIGY9ZFtlXTthLmYuYS5oYXNPd25Qcm9wZXJ0eShmKSYmYy5wdXNoKGEuZi5nZXQoZilbMF0pfWZvcih2YXIgZz1WZihhLGMpLGU9MDtlPGQubGVuZ3RoOysrZSlpZihmPWRbZV0sYS5mLmEuaGFzT3duUHJvcGVydHkoZikmJiFnW2ZdKXJldHVybiBhPUVycm9yKCJVbmFibGUgdG8gc2VsZWN0IGFuIGluaXRpYWwgIitmKyIgc3RyZWFtOiBhbGwgIitmKyIgc3RyZWFtcyBoYXZlIGJlZW4gcmVzdHJpY3RlZCAoYnkgdGhlIGFwcGxpY2F0aW9uIG9yIGJ5IHRoZSBrZXkgc3lzdGVtKS4iKSxhLnR5cGU9InN0cmVhbSIsYiYmYi5zZXRFcnJvcihhKS5sb2coKSxQcm9taXNlLnJlamVjdChhKTtjPVdhKGcpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS5NLmNyZWF0ZSgpfSk7CmMucHVzaChhLkpiKTtyZXR1cm4gUHJvbWlzZS5hbGwoYykudGhlbihKKGEsZnVuY3Rpb24oYSl7YS5wb3AoKTtpZighYS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5sZW5ndGgoKX0pKXJldHVybiBhPUVycm9yKCJTb21lIHN0cmVhbXMgYXJlIG5vdCBhdmFpbGFibGUuIiksYS50eXBlPSJzdHJlYW0iLFByb21pc2UucmVqZWN0KGEpO2E9TWYodGhpcyxhKTtpZighYSlyZXR1cm4gYT1FcnJvcigiU29tZSBzdHJlYW1zIGFyZSBub3QgYXZhaWxhYmxlLiIpLGEudHlwZT0ic3RyZWFtIixQcm9taXNlLnJlamVjdChhKTtpZighV2YodGhpcyxnKSlyZXR1cm4gYT1FcnJvcigiRmFpbGVkIHRvIGNyZWF0ZSBTdHJlYW0gb2JqZWN0cy4iKSxhLnR5cGU9InN0cmVhbSIsUHJvbWlzZS5yZWplY3QoYSk7dGhpcy5BLnN0YXJ0KCk7WGYodGhpcyxnLGEpO3JldHVybiBQcm9taXNlLnJlc29sdmUoKX0pKS50aGVuKGZ1bmN0aW9uKCl7YiYmYi5sb2coKX0pLmNhdGNoKEooYSxmdW5jdGlvbihhKXtpZigiYWJvcnRlZCI9PQphLnR5cGUpYiYmYi5zZXRFcnJvcihhKS5sb2coKTtlbHNle09iamVjdC5rZXlzKHRoaXMuYyk7aWYodGhpcy5iLmIpcmV0dXJuIHlhKCk8dGhpcy5iLmo/KGE9TWF0aC5tYXgodGhpcy5iLmotRGF0ZS5ub3coKS8xRTMsdGhpcy5MYiksdGhpcy51PXNldFRpbWVvdXQodGhpcy5LYi5iaW5kKHRoaXMsITApLDFFMyphKSk6S2YodGhpcywwKSxiJiZiLmxvZygpLFByb21pc2UucmVzb2x2ZSgpO2ImJmIuc2V0RXJyb3IoYSkubG9nKCk7cmV0dXJuIFByb21pc2UucmVqZWN0KGEpfX0pKX0KZnVuY3Rpb24gVmYoYSxiKXtmb3IodmFyIGM9e30sZD0wO2Q8Yi5sZW5ndGg7KytkKXt2YXIgZT1iW2RdLGY9bnVsbDtpZigidmlkZW8iPT1lLmNvbnRlbnRUeXBlKXt2YXIgZz1hLkEuZ2V0SW5pdGlhbFZpZGVvVHJhY2tJZCgpO2lmKG51bGw9PWcpY29udGludWU7Zj1lLnYuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiBhLlg9PWd9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWZbMF19ZWxzZSBpZigiYXVkaW8iPT1lLmNvbnRlbnRUeXBlKWlmKGc9YS5BLmdldEluaXRpYWxBdWRpb1RyYWNrSWQoKSxmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWD09Z30pLDA9PWYubGVuZ3RoKXtmPWUudi5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIGEub2EmJmEuZmF9KTtpZigwPT1mLmxlbmd0aCljb250aW51ZTtmPWUudltNYXRoLmZsb29yKGYubGVuZ3RoLzIpXX1lbHNlIGY9ZlswXTtlbHNlIDA8ZS52Lmxlbmd0aCYmKGY9ZS52WzBdKTtjW2UuY29udGVudFR5cGVdPWZ9cmV0dXJuIGN9CmZ1bmN0aW9uIFdmKGEsYil7dmFyIGM9e30sZDtmb3IoZCBpbiBiKXt2YXIgZT1iW2RdLGU9InRleHQiPT1kP25ldyB0ZShhLGEudmlkZW8pOllmKGEsZSk7aWYoIWUpcmV0dXJuIFdhKGMpLmZvckVhY2goZnVuY3Rpb24oYSl7YS5kZXN0cm95KCl9KSwhMTtjW2RdPWV9YS5RYihhLm5jKTthLmM9YztyZXR1cm4hMH0KZnVuY3Rpb24gWWYoYSxiKXt2YXIgYz1OZChiKSxkPVpmKGMuc3BsaXQoIjsiKVswXSksZT1udWxsLGY9YS5hLmdldEJvb2woInVzZV9sb2NhbF9lc3RpbWF0b3JfZm9yX2Ficl9zYW1wbGluZyIsITApP2Eua2I6YS53YSxnPW51bGwsaD1udWxsLGs9YS5iLmZ8fGEuYi5BLGs9YS5hLmdldEJvb2woInNraXBfc2VnbWVudF9yZXF1ZXN0X21hbmFnZXIiLCExKSYmazthLlhiJiZjYW5Vc2VGZXRjaFN0cmVhbSgpPyhoPW5ldyBNdWx0aXBsZVNlZ21lbnRzUHJvdmlkZXIoYS5hLmdldE51bWJlcigic3RyZWFtaW5nX3NlZ21lbnRfc2l6ZSIsNCkpLGc9JGYoYSxoLGQsZikpOmEuV2ImJiFrJiYoZT1hZyhhLGQsZikpO3ZhciBrPW51bGwsbD1hLmYuZ2V0KGQpOyJ2aWRlbyI9PT1kJiYwPGwubGVuZ3RoJiYoaz1mdW5jdGlvbihhLGIpe2Zvcih2YXIgYz1udWxsLGQ9bnVsbCxlPTA7ZTxsWzBdLnYubGVuZ3RoO2UrKylsWzBdLnZbZV0uaWQ9PT1hP2M9bFswXS52W2VdOmxbMF0udltlXS5pZD09PQpiJiYoZD1sWzBdLnZbZV0pO3JldHVybiBudWxsPT09Y3x8bnVsbD09PWQ/MDpjLmJhbmR3aWR0aD5kLmJhbmR3aWR0aD8xOi0xfSk7Yz1uZXcgVShhLGEudmlkZW8sYS5hLGEuaCxjLGYsYS5wYyxhLmRhLGssYS5HLGUsZyxoLGEuaWEpO2MucGEoYS5nKTtyZXR1cm4gY30KZnVuY3Rpb24gJGYoYSxiLGMsZCl7dmFyIGU9YS53W2NdLGY9ImF1ZGlvIiE9PWN8fGEuYS5nZXRCb29sKCJlbmFibGVfYXVkaW9fc3RyZWFtaW5nIiwhMSk7aWYoIWUmJmYpe3ZhciBlPW5ldyBWaWRlb1N0cmVhbWluZ01hbmFnZXIoYS5hLGIsYyxhLmwsYS5VKSxnPSJ2aWRlbyI9PT1jO2cmJmUuYWRkTGlzdGVuZXIoImJhbmR3aWR0aFVwZGF0ZSIsZnVuY3Rpb24oYSl7ZC5zYW1wbGUoYS50aW1lVGFrZW4sYS5ieXRlc1JlYWQsZyx7dGltZVRvTGFzdEJ5dGU6YS50aW1lVGFrZW59LHRoaXMuQmIsdGhpcy5sLCF0aGlzLmEuZ2V0Qm9vbCgiZXZhbHVhdGVfYWJyX29uX3N0cmVhbV9iYW5kd2lkdGhfc2FtcGxlIiwhMCkpfS5iaW5kKGEpKX1lJiYoYS53W2NdPWUpO3JldHVybiBlfHxudWxsfQpmdW5jdGlvbiBhZyhhLGIsYyl7aWYoInZpZGVvIj09PWJ8fCJhdWRpbyI9PT1iJiZhLmEuZ2V0Qm9vbCgiZW5hYmxlX3JlcXVlc3RfcGlwZWxpbmluZ19mb3Jfdm9kX2F1ZGlvcyIsITEpKXt2YXIgZD1hLm9bYl07ZHx8KGQ9bmV3IFNlZ21lbnRSZXF1ZXN0TWFuYWdlcihhLmEsYixhLlAoKT9WaWRlb1ByaW9yaXR5Q2FsY3VsYXRvci5jYWxjdWxhdGVMaXZlOlZpZGVvUHJpb3JpdHlDYWxjdWxhdG9yLmNhbGN1bGF0ZSxhLmwsYyxhLkJiLGEuZGEsYS5pYSksYS5SJiZkLnVwZGF0ZVByaW9yaXR5V2l0aE5ld0FkanVzdG1lbnQoYS5SLmdldFByaW9yaXR5QWRqdXN0bWVudCgpKSxhLm9bYl09ZCk7cmV0dXJuIGR9cmV0dXJuIG51bGx9ZnVuY3Rpb24gYmcoYSxiKXthLnZpZGVvLmN1cnJlbnRUaW1lPWI7YS5hLmdldEJvb2woInNldF9wZW5kaW5nX3NlZWtfb25fc2V0X2N1cnJlbnRfdGltZV9mYWlsdXJlIiwhMSkmJmEudmlkZW8uY3VycmVudFRpbWUrMTxiJiZjZyhhLGIpO2EuRD1ifQpmdW5jdGlvbiBYZihhLGIsYyl7YS5rYz1hLnZpZGVvLnBsYXliYWNrUmF0ZTthLnZpZGVvLnBsYXliYWNrUmF0ZT0wO2RnKGEsYyk7dmFyIGQ7ZD1hLmIuZjsoIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmIWEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKXx8IWQpJiZhLmxhJiZhLmxhPD1jLmVuZCYmYS5sYT49Yy5zdGFydD9kPWEubGE6YS5iLmI/KGQ9ZWcoYSxjKSxhLmZjPSEwKTpkPWMuc3RhcnQ7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5tZC5iaW5kKGEpKTthLkk/KGEuSS5zZXRPblBsYXlpbmcoYS5tYi5iaW5kKGEsITApKSxhLkkuc2V0T25QYXVzZWQoYS5tYi5iaW5kKGEsITEpKSxhLkkuZW5hYmxlKCkpOihFKGEuaSxhLnZpZGVvLCJwbGF5aW5nIixhLm1iLmJpbmQoYSwhMCkpLGEuYS5nZXRCb29sKCJ1cGRhdGVfcHJpb3JpdHlfb25fcGxheV9ldmVudCIsCiEwKSYmRShhLmksYS52aWRlbywicGxheSIsYS5tYi5iaW5kKGEsITApKSxFKGEuaSxhLnZpZGVvLCJwYXVzZSIsYS5tYi5iaW5kKGEsITEpKSk7RShhLmksYS52aWRlbywic2Vla2luZyIsYS5NYy5iaW5kKGEpKTtFKGEuaSxhLnZpZGVvLCJ0aW1ldXBkYXRlIix0aHJvdHRsZShhLk1jLmJpbmQoYSksYS5hLmdldE51bWJlcigic2NoZWR1bGVyX3ByaW9yaXR5X3VwZGF0ZV9pbnRlcnZhbCIsMUUzKSkpO2lmKGEudmlkZW8uY3VycmVudFRpbWUhPWQpaWYoYS5UYikwIT09YS52aWRlby5yZWFkeVN0YXRlP2JnKGEsZCk6Y2coYSxkKTtlbHNlIHRyeXtiZyhhLGQpfWNhdGNoKGUpe2NnKGEsZCl9ZmcoYSxjLnN0YXJ0LGMuZW5kLGMubGFzdCxjLmFiKTt2YXIgZj1bXSxnO2ZvcihnIGluIGEuYyl7Yz1hLmNbZ107SihhLGZ1bmN0aW9uKGEpe2YucHVzaChhLktjKHRoaXMuc2EpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGIpe3ZhciBjPWEuc2IoKTtjPnRoaXMuQ2ImJih0aGlzLkNiPWMpO3JldHVybiBifSkpKX0pKGMpOwpFKGEuaSxjLCJlbmRlZCIsYS5vZC5iaW5kKGEpKTtFKGEuaSxjLCJzaG91bGRfZW5kX2FsbF9zdHJlYW1zIixhLnBkLmJpbmQoYSkpO0UoYS5pLGMsInNob3VsZF9udWRnZSIsYS5qZC5iaW5kKGEpKTtkPWJbZ107dmFyIGg9YS5BLmdldEluaXRpYWxTd2l0Y2hSZWFzb24oKXx8dm9pZCAwO2MuamIoZCwhMSx2b2lkIDAsaCl9UHJvbWlzZS5hbGwoZikudGhlbihKKGEsZnVuY3Rpb24oYSl7dGhpcy5hLmdldEJvb2woInByZXZlbnRfc3RyZWFtX3N0YXJ0X2lmX3N0cmVhbXNfY2hhbmdlIiwhMSkmJiFnZyh0aGlzKXx8aGcodGhpcyxhKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImRlc3Ryb3kiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKTtuZihhLGEueWEpfQpuLm1iPWZ1bmN0aW9uKGEpe09iamVjdC5rZXlzKHRoaXMubykuZm9yRWFjaChmdW5jdGlvbihiKXt0aGlzLm9bYl0udXBkYXRlUHJpb3JpdHlXaXRoTmV3UGxheWluZ1N0YXRlKGEpfS5iaW5kKHRoaXMpKTtPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYil7dGhpcy53W2JdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXlpbmdTdGF0ZShhKX0uYmluZCh0aGlzKSk7aWYodGhpcy5sKXt2YXIgYj1NZih0aGlzLEhmKHRoaXMpKTtiJiZ0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjdXJyZW50X3RpbWVfYXRfcGxheWluZ19sZXNzX3RoYW5fc3RyZWFtX2xpbWl0c19zdGFydCIpfWEmJm51bGwhPT10aGlzLmNhJiYodGhpcy54YT0xLFJmKHRoaXMsdGhpcy54YSksaWcodGhpcykpfTsKbi5NYz1mdW5jdGlvbigpe3RoaXMudmlkZW8mJihPYmplY3Qua2V5cyh0aGlzLm8pLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy5vW2FdLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSxPYmplY3Qua2V5cyh0aGlzLncpLmZvckVhY2goZnVuY3Rpb24oYSl7dGhpcy53W2FdLmdldFByaW9yaXR5VXBkYXRlcigpLnVwZGF0ZVByaW9yaXR5V2l0aE5ld1BsYXloZWFkKHRoaXMudmlkZW8uY3VycmVudFRpbWUpfS5iaW5kKHRoaXMpKSl9O2Z1bmN0aW9uIFFmKGEpe2lmKGEuYS5nZXRCb29sKCJjbGVhcl9jdXJyZW50X3NlZ21lbnRfaW5kZXhlc19kdXJpbmdfbGl2ZWhlYWRfY2F0Y2h1cCIsITEpKWZvcih2YXIgYiBpbiBhLmMpYS5jW2JdLmk9bnVsbH1mdW5jdGlvbiBjZyhhLGIpe2EuYmE9Yjtmb3IodmFyIGMgaW4gYS5jKXt2YXIgZD1hLmNbY107YS5iYSYmKGQuSj1hLmJhKX19CmZ1bmN0aW9uIGdnKGEpe3JldHVybiFPYmplY3Qua2V5cyhhLmMpLnNvbWUoSihhLGZ1bmN0aW9uKGEpe3JldHVybiB0aGlzLmNbYV0mJiF0aGlzLmNbYV0uaH0pKX0KZnVuY3Rpb24gaGcoYSxiKXtiYShiJiZiLmxlbmd0aD09T2JqZWN0LmtleXMoYS5jKS5sZW5ndGgpO2Zvcih2YXIgYz1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFksZD1OdW1iZXIuTkVHQVRJVkVfSU5GSU5JVFksZT0wO2U8Yi5sZW5ndGg7KytlKXZhciBmPWJbZV0sYz1NYXRoLm1pbihjLGYpLGQ9TWF0aC5tYXgoZCxmKTtjPUhmKGEpO2ZvcihlPTA7ZTxjLmxlbmd0aDsrK2UpY1tlXS5VYShkKTthLmEuZ2V0Qm9vbCgicHJvY2Vzc19kZWZlcnJlZF9zd2l0Y2hlc19lYXJseSIsITEpJiZqZyhhKTtrZyhhLGMsZCk7dmFyIGc9V2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuWWEoKS5pZH0pO2EuYS5nZXRCb29sKCJzZXF1ZW50aWFsbHlfbG9hZF9zdHJlYW1zIiwhMSk/bGcoYSxnLGQpOihlPSRhKGEuZikubWFwKGZ1bmN0aW9uKGEpe3JldHVybiBhLnZ9KS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYil9LFtdKS5maWx0ZXIoZnVuY3Rpb24oYSl7cmV0dXJuIX5nLmluZGV4T2YoYS5pZCl9KS5tYXAoSihhLApmdW5jdGlvbihhKXt2YXIgYj1bYS5NLnBiP2EuTS5wYigpOmEuTS5jcmVhdGUoKV07YS5hYSYmYi5wdXNoKGEuYWEuY3JlYXRlKHRoaXMubCx0aGlzLmRhKSk7cmV0dXJuIFByb21pc2UuYWxsKGIpfSkpLFByb21pc2UuYWxsKGUpLnRoZW4oSihhLGZ1bmN0aW9uKGEpe2Zvcih2YXIgYj0wO2I8YS5sZW5ndGg7KytiKWFbYl1bMF0uVWEoZCk7dGhpcy5DYT0hMDtqZyh0aGlzKX0pKS5jYXRjaChKKGEsZnVuY3Rpb24oYSl7ImFib3J0ZWQiIT1hLnR5cGUmJihhPUEoYSksdGhpcy5kaXNwYXRjaEV2ZW50KGEpKX0pKSl9CmZ1bmN0aW9uIGxnKGEsYixjKXt2YXIgZD1Qcm9taXNlLnJlc29sdmUoKTskYShhLmYpLm1hcChmdW5jdGlvbihhKXtyZXR1cm4gYS52fSkucmVkdWNlKGZ1bmN0aW9uKGEsYil7cmV0dXJuIGEuY29uY2F0KGIpfSxbXSkuZmlsdGVyKGZ1bmN0aW9uKGEpe3JldHVybiF+Yi5pbmRleE9mKGEuaWQpfSkuZm9yRWFjaChmdW5jdGlvbihhKXtkPWQudGhlbihKKHRoaXMsZnVuY3Rpb24oYil7YiYmYlswXS5VYShjKTtiPVthLk0ucGI/YS5NLnBiKCk6YS5NLmNyZWF0ZSgpXTthLmFhJiZiLnB1c2goYS5hYS5jcmVhdGUodGhpcy5sLHRoaXMuZGEpKTtyZXR1cm4gUHJvbWlzZS5hbGwoYil9KSkuY2F0Y2goZnVuY3Rpb24oYSl7dGhyb3cgYTt9KX0pO2QudGhlbihKKGEsZnVuY3Rpb24oKXt0aGlzLkNhPSEwO2pnKHRoaXMpfSkpLmNhdGNoKEooYSxmdW5jdGlvbihhKXsiYWJvcnRlZCIhPWEudHlwZSYmKGE9QShhKSx0aGlzLmRpc3BhdGNoRXZlbnQoYSkpfSkpfQpmdW5jdGlvbiBqZyhhKXtmb3IodmFyIGIgaW4gYS5CKXt2YXIgYz1hLkJbYl07YS5jW2JdLmpiKGMuTGMsYy5yYyxjLnNjLGMuc3dpdGNoUmVhc29uLGMuS2EpfWEuQj17fX0KZnVuY3Rpb24ga2coYSxiLGMpe3ZhciBkO2EuYS5nZXRCb29sKCJ3d3dfdmlkZW9zX2V4dGVuZGVkX3NwbF9sb2dnaW5nX2Zvcl9jb25uZWN0ZWRfdHYiLCExKSYmYS5sJiYoZD1hLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJzdHJlYW1fdmlkZW9fc291cmNlX2JlZ2luX3BsYXliYWNrIikpO2lmKGI9TWYoYSxiKSlkZyhhLGIpLGZnKGEsYi5zdGFydCxiLmVuZCxiLmxhc3QsYi5hYik7MCE9Yz8oYz1hLnZpZGVvLmN1cnJlbnRUaW1lK2MsYS5hLmdldE51bWJlcigid3d3X3ZpZGVvc19udWRnZV90aW1lc3RhbXBfY29ycmVjdGlvbl9zIiwwKSYmKGMrPWEuYS5nZXROdW1iZXIoInd3d192aWRlb3NfbnVkZ2VfdGltZXN0YW1wX2NvcnJlY3Rpb25fcyIsMCkpLGEudmlkZW8uY3VycmVudFRpbWU9YyxhLkQ9Yyk6YS5mYyYmYiYmKGM9ZWcoYSxiKSxNYXRoLmFicyhjLWEudmlkZW8uY3VycmVudFRpbWUpPj1hLmVjJiYoYS52aWRlby5jdXJyZW50VGltZT1jKSk7YS5hLmdldEJvb2woInVuaWZ5X3N0cmVhbV9zdGFydF93aXRoX2J1ZmZlcl9kZXRlY3RvciIsCiExKT8oYz15KHt0eXBlOiJhbGxTdHJlYW1zU3RhcnRlZCIsYnViYmxlczohMH0pLGEuZGlzcGF0Y2hFdmVudChjKSk6YS52aWRlby5wbGF5YmFja1JhdGU9YS5rYzthLmIuYiYmbnVsbCE9YS5iLmMmJktmKGEsMCk7bWcoYSk7YS5zYS5yZXNvbHZlKCk7ZCYmZC5sb2coKX0KZnVuY3Rpb24gZWcoYSxiKXt2YXIgYz1iLmVuZDt2b2lkIDAhPT1iLkJjJiYoYz1iLkJjKTtpZihhLmEuZ2V0Qm9vbCgidGVtcGxhdGVkX2Fsd2F5c19qdW1wX3RvX3N0cmVhbV9saW1pdHNfZW5kIiwhMSkmJmEuYiYmYS5iLmYpcmV0dXJuIGIuZW5kO2lmKGEuZGMpe3ZhciBkPWEudmlkZW8uY3VycmVudFRpbWUsZT1iLnN0YXJ0O2lmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9hZGp1c3Rfc3RyZWFtX2xpbWl0c19zdGFydF9vZmZzZXRfaW50IiwwKSYmYS5iJiZhLmIuZil7Zm9yKHZhciBmPUhmKGEpLGc9MCxoPTA7aDxmLmxlbmd0aDsrK2gpe3ZhciBrPWZbaF0sbD1NYXRoLm1pbihhLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfYWRqdXN0X3N0cmVhbV9saW1pdHNfc3RhcnRfb2Zmc2V0X2ludCIsMCksay5sZW5ndGgoKSk7ay5sZW5ndGgoKSYmMDxsJiZsPD1rLmxlbmd0aCgpJiYoZz1NYXRoLm1heChrLmdldChrLmxlbmd0aCgpLWwpLnN0YXJ0VGltZSxnKSl9ZT1NYXRoLm1heChlLApnKX1pZihkPj1lJiZkPD1iLmVuZCYmZDxjKWlmKGEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmYS5iJiZhLmIuZil7Zj1IZihhKTtrPW51bGw7ZT1OdW1iZXIuUE9TSVRJVkVfSU5GSU5JVFk7Zm9yKGg9MDtoPGYubGVuZ3RoOysraClmW2hdLmxlbmd0aCgpPGUmJihlPWZbaF0ubGVuZ3RoKCksaz1mW2hdKTtrJiZlPmEuYS5nZXROdW1iZXIoInRlbXBsYXRlZF9qdW1wX3RvX2xpdmVfc2lkeF9lbmRfb2Zmc2V0IiwwKSYmKGY9ay5nZXQoay5sZW5ndGgoKS1hLmEuZ2V0TnVtYmVyKCJ0ZW1wbGF0ZWRfanVtcF90b19saXZlX3NpZHhfZW5kX29mZnNldCIsMCkpLnN0YXJ0VGltZSxkPj1mJiYoYz1kKSl9ZWxzZSBjPWR9cmV0dXJuIGN9CmZ1bmN0aW9uIGRnKGEsYil7aWYoYS5iLmIpaXNOYU4oYS5oLmR1cmF0aW9uKSYmKGEuaC5kdXJhdGlvbj1iLmVuZCsyNTkyRTMpO2Vsc2UgaWYoaXNOYU4oYS5oLmR1cmF0aW9uKXx8Yi5lbmQ+YS5oLmR1cmF0aW9uKWlmKGEuaC5kdXJhdGlvbj1iLmVuZCwhYS5hLmdldEJvb2woImRpc2FibGVfYXBwZW5kX3dpbmRvd19lbmQiLCExKSlmb3IodmFyIGM9YS5hLmdldE51bWJlcigiYXBwZW5kX3dpbmRvd19lbmRfZnVkZ2VfZmFjdG9yIiwwKSxkPTA7ZDxhLmguc291cmNlQnVmZmVycy5sZW5ndGg7KytkKWEuaC5zb3VyY2VCdWZmZXJzW2RdLmFwcGVuZFdpbmRvd0VuZD1iLmVuZCtjfQpuLnJkPWZ1bmN0aW9uKCl7dGhpcy5rYT1udWxsO21nKHRoaXMpO3ZhciBhPU1mKHRoaXMsSGYodGhpcykpO2lmKGEpe3ZhciBiPXRoaXMuYi5iO3RoaXMuYS5nZXRCb29sKCJ0cmVhdF9saXZlX3N0YXRpY19tYW5pZmVzdF9hc19keW5hbWljIiwhMSkmJihiPWJ8fHRoaXMuYi5oKTtiJiZ0aGlzLmphIT1hLmxhc3QmJih0aGlzLmphPWEubGFzdCxudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCkpO2ZnKHRoaXMsYS5zdGFydCxhLmVuZCxhLmxhc3QsYS5hYik7dGhpcy52aWRlby5wYXVzZWR8fG5nKHRoaXMsdGhpcy52aWRlby5jdXJyZW50VGltZSxhLnN0YXJ0LGEuZW5kKX19O2Z1bmN0aW9uIGZnKGEsYixjLGQsZSl7Yj15KHt0eXBlOiJzZWVrcmFuZ2VjaGFuZ2VkIixidWJibGVzOiEwLHN0YXJ0OmIsZW5kOmMsbGFzdDpkLHNlZWtSYW5nZUdhcHM6ZX0pO2EuZGlzcGF0Y2hFdmVudChiKX0Kbi5tZD1mdW5jdGlvbigpe3ZhciBhPXRoaXMudmlkZW8uY3VycmVudFRpbWUsYj1NZih0aGlzLEhmKHRoaXMpKTt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImN1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7aWYobnVsbCE9dGhpcy5EKXtpZihhPj10aGlzLkQtLjAxJiZhPD10aGlzLkQrLjAxKXt0aGlzLkQ9bnVsbDt0aGlzLmwmJmImJmE8Yi5zdGFydCYmQmFuemFpT0RTLmJ1bXBFbnRpdHlLZXkoMjk2NiwidmlkZW9zLnd3dy5zaGFrYSIsImlnbm9yZWRfc2Vla193aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7cmV0dXJufXRoaXMuRD1udWxsfWlmKGIpe3ZhciBjPWIuc3RhcnQsZD1iLmVuZDt0aGlzLmEuZ2V0Qm9vbCgic2tpcF9yZW1haW5pbmdfYnVmZmVyZWRfb25fc3RyZWFtX2VuZCIsITEpJiZ0aGlzLmIuYiYmCnRoaXMuYi5oJiZ0aGlzLnZpZGVvLnBhdXNlZCYmKGQ9dGhpcy5qYSk7KGM9bmcodGhpcyxhLGMsZCkpfHwoYTw9ZCsuMDF8fHRoaXMuYi5iJiYhb2codGhpcyxkKT9jPSExOih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWQsYz0hMCkpO2lmKGMpdGhpcy5sJiZhPGIuc3RhcnQmJkJhbnphaU9EUy5idW1wRW50aXR5S2V5KDI5NjYsInZpZGVvcy53d3cuc2hha2EiLCJjbGFtcF9wbGF5aGVhZF93aGVuX2N1cnJlbnRfdGltZV9hdF9zZWVrX2xlc3NfdGhhbl9zdHJlYW1fbGltaXRzX3N0YXJ0Iik7ZWxzZXtmb3IodmFyIGUgaW4gdGhpcy5jKXRoaXMuY1tlXS5DYyh0aGlzLkVhKTt0aGlzLkVhPSExfX19O2Z1bmN0aW9uIG5nKGEsYixjLGQpe2lmKGI+PWMtLjAxKXJldHVybiExO2I9MDthLmIuYiYmKGI9LjUsb2coYSxjK2IpfHwoYj1hLmIuZykpO2EudmlkZW8uY3VycmVudFRpbWU9TWF0aC5taW4oYytiLGQpO3JldHVybiEwfQpmdW5jdGlvbiBvZyhhLGIpe2Zvcih2YXIgYyBpbiBhLmMpaWYoIWEuY1tjXS5JYyhiKSlyZXR1cm4hMTtyZXR1cm4hMH1uLm9kPWZ1bmN0aW9uKCl7aWYoIXRoaXMuYi5ifHx0aGlzLkZhKXtmb3IodmFyIGEgaW4gdGhpcy5jKWlmKCF0aGlzLmNbYV0uZ2IoKSlyZXR1cm47dGhpcy5mYigpfX07bi5wZD1mdW5jdGlvbigpe2NsZWFyVGltZW91dCh0aGlzLnUpO3RoaXMuRmE9ITA7Zm9yKHZhciBhIGluIHRoaXMuYyl0aGlzLmNbYV0uZ2IoKXx8dGhpcy5jW2FdLkRiKCl9O24uamQ9ZnVuY3Rpb24oKXt0aGlzLmEuZ2V0Qm9vbCgiaWdub3JlX3NlZWtfd2hlbl9udWRnaW5nIiwhMCkmJih0aGlzLkQ9dGhpcy52aWRlby5jdXJyZW50VGltZSk7dGhpcy52aWRlby5jdXJyZW50VGltZSs9LjAwMX07Cm4udGI9ZnVuY3Rpb24oKXtpZih0aGlzLmJjKCl8fHRoaXMuY2MoKSlyZXR1cm4hMDt2YXIgYT10aGlzLmIsYj1udWxsLGM9bnVsbDthJiZhLmEmJmEuYVswXSYmKGI9YS5hWzBdKTtiJiZiLmEmJmIuYVswXSYmKGM9Yi5hWzBdKTtyZXR1cm4hIWMmJmMuYn07WS5wcm90b3R5cGUuaGFzSW5saW5lZENlYTYwOFN1YnRpdGxlcz1ZLnByb3RvdHlwZS50YjtZLnByb3RvdHlwZS5RYj1mdW5jdGlvbihhKXt0aGlzLm5jPWE7dmFyIGI9dGhpcy5jOyJ2aWRlbyJpbiBiJiYoYT1hJiZ0aGlzLnRiKCksYi52aWRlby5jLlM9YSl9O1kucHJvdG90eXBlLnNldEVuYWJsZUNlYTYwOFBhcnNpbmc9WS5wcm90b3R5cGUuUWI7CmZ1bmN0aW9uIHNmKGEpe3ZhciBiPWEuYS5nZXROdW1iZXIoImxpdmVfYnVmZmVyaW5nX3VuZGVyZmxvd190aHJlc2hvbGQiLC41KSxjPWEuYS5nZXRCb29sKCJmaXhfbGl2ZV9zdHJlYW1fZ29uZV9vbl9tYW5pZmVzdF91cGRhdGUiLCEwKSYmYS5pYyxkPSExO2lmKGEuYi5oKXt2YXIgZD1hLmEuZ2V0TnVtYmVyKCJsaXZlX3N0cmVhbV9lbmRfc2xhY2siLDApLGU7Zm9yKGUgaW4gYS5jKWEuY1tlXS5nYigpfHwoZD0wKTtkPWEudmlkZW8uY3VycmVudFRpbWUrYitkPmEuamF9cmV0dXJuIGN8fGR9bj1ZLnByb3RvdHlwZTsKbi5jZD1mdW5jdGlvbigpe3RoaXMuJD0hMDtpZih0aGlzLmImJnRoaXMuYi5iKXtpZihzZih0aGlzKSlyZXR1cm4gdGhpcy5mYigpO3RoaXMuYS5nZXRCb29sKCJhbGxvd19pbmZpbml0ZV9yZXRyeV9vbl9uZXRfZXJyIiwhMCkmJnRoaXMuRy5pc05ldHdvcmtJbnRlcnJ1cHRlZCgpfHwhV2EodGhpcy5jKS5ldmVyeShmdW5jdGlvbihhKXtyZXR1cm4gYS5nYigpfSl8fHBnKHRoaXMsdGhpcy5SYSl9dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYobnVsbD09PXRoaXMuS3x8RGF0ZS5ub3coKS10aGlzLmdjPnRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd190aW1lX3dpbmRvdyIsMkUzKT90aGlzLks9dGhpcy5hLmdldE51bWJlcigiYnVmZmVyaW5nX292ZXJmbG93X3RocmVzaG9sZCIsMCk6dGhpcy5LKj10aGlzLmEuZ2V0TnVtYmVyKCJiYWNrX29mZl9idWZmZXJpbmdfb3ZlcmZsb3dfdGltZV9mYWN0b3IiLDIpLAp0aGlzLks9TWF0aC5taW4odGhpcy5LLHRoaXMuYS5nZXROdW1iZXIoImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvd19tYXgiLDUpKSl9O2Z1bmN0aW9uIHBnKGEsYil7YS5qPXNldFRpbWVvdXQoYS5mYi5iaW5kKGEpLGIpfW4uYmQ9ZnVuY3Rpb24oKXt0aGlzLiQ9ITE7dGhpcy5hLmdldEJvb2woImJhY2tfb2ZmX2J1ZmZlcmluZ19vdmVyZmxvdyIsITEpJiYodGhpcy5nYz1EYXRlLm5vdygpKTtudWxsIT10aGlzLmomJihjbGVhclRpbWVvdXQodGhpcy5qKSx0aGlzLmo9bnVsbCl9O24uZ2Q9ZnVuY3Rpb24oKXtudWxsIT09dGhpcy5iYSYmKGJnKHRoaXMsdGhpcy5iYSksY2codGhpcyxudWxsKSl9O24uR2Q9ZnVuY3Rpb24oKXt9OwpuLmZiPWZ1bmN0aW9uKCl7dGhpcy4kPSExO3RoaXMuaj1udWxsO3ZhciBhO2lmKGE9dGhpcy5hLmdldEJvb2woInRlc3Rfc291cmNlX2J1ZmZlcnNfbm90X3VwZGF0aW5nX2VuZF9vZl9zdHJlYW0iLCExKSlhOntpZih0aGlzLmgpZm9yKGE9MDthPHRoaXMuaC5zb3VyY2VCdWZmZXJzLmxlbmd0aDsrK2EpaWYodGhpcy5oLnNvdXJjZUJ1ZmZlcnNbYV0udXBkYXRpbmcpe2E9ITA7YnJlYWsgYX1hPSExfWlmKGEpcmV0dXJuIHBnKHRoaXMsMUUzKTt0aGlzLmgmJiJvcGVuIj09dGhpcy5oLnJlYWR5U3RhdGUmJnRoaXMuaC5lbmRPZlN0cmVhbSgpfTtmdW5jdGlvbiBIZihhKXtyZXR1cm4gV2EoYS5jKS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuR2IoKX0pLmZpbHRlcihmdW5jdGlvbihhKXtyZXR1cm4gbnVsbCE9YX0pfWZ1bmN0aW9uIExmKGEpe3JldHVybiBNYXRoLm1heChhLmI/YS5iLmc6MSxhLiRiP2EuZy5zdHJlYW1CdWZmZXJTaXplfHwwOjApfQpmdW5jdGlvbiBNZihhLGIpe2Zvcih2YXIgYz0wLGQ9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGU9TnVtYmVyLlBPU0lUSVZFX0lORklOSVRZLGY9W10sZz0hVmlkZW9QbGF5ZXJTaGFrYUdsb2JhbENvbmZpZy5nZXRCb29sKCJub19zZWVrX3JhbmdlX2dhcHNfZHVyaW5nX2NvbXB1dGVfc3RyZWFtX2xpbWl0cyIsITEpLGg9MDtoPGIubGVuZ3RoOysraCl7dmFyIGs9YltoXS5BKCk7ZyYmKGY9Zi5jb25jYXQoYltoXS5nZXRTZWVrUmFuZ2VHYXBzKCkpKTtjPU1hdGgubWF4KGMsay5zdGFydCk7bnVsbCE9ay5lbmQmJihkPU1hdGgubWluKGQsay5lbmQpKTtiW2hdLmxlbmd0aCgpJiYoZT1NYXRoLm1pbihlLGJbaF0ubGFzdCgpLmVuZFRpbWUpKX1nJiYoZj1tZXJnZVNlZWtSYW5nZUdhcHMoZikpO2lmKGQ9PU51bWJlci5QT1NJVElWRV9JTkZJTklUWSlpZihkPWEuYi5hWzBdLGQuZHVyYXRpb24pZD0oZC5zdGFydHx8MCkrZC5kdXJhdGlvbjtlbHNlIHJldHVybiBudWxsO2lmKGEuYi5iKXt2YXIgZz0KTGYoYSksZD1NYXRoLm1heChkLWcsYyksbDthLnJhJiZhLmEuZ2V0Qm9vbCgibGl2ZV9qdW1wX3RvX3B1c2hlZF9zZWdtZW50IiwhMSkmJmIubGVuZ3RoJiYoaD1NYXRoLmZsb29yKExmKGEpLzEpKzEsZz1iWzBdLGg9Zy5sZW5ndGgoKS1oLChnPWcuZ2V0KGgpKSYmKGw9Zy5zdGFydFRpbWUpKX1pZihjPmQpcmV0dXJuIG51bGw7ZD1NYXRoLmZsb29yKDFFNSpkKS8xRTU7cmV0dXJue3N0YXJ0OmMsZW5kOmQsbGFzdDplLGFiOmYsQmM6bH19bi5uYj1mdW5jdGlvbigpe3JldHVybiBNZih0aGlzLEhmKHRoaXMpKX07WS5wcm90b3R5cGUuY29tcHV0ZVN0cmVhbUxpbWl0cz1ZLnByb3RvdHlwZS5uYjtmdW5jdGlvbiBtZyhhKXthLmIuYiYmKGEua2E9c2V0VGltZW91dChhLnJkLmJpbmQoYSksMUUzKSl9ZnVuY3Rpb24gRGYoYSl7Zm9yKHZhciBiIGluIGEuYylhLmNbYl0ucGEoYS5nKX1ZLnByb3RvdHlwZS5zYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLkNifTsKWS5wcm90b3R5cGUuZ2V0TG9uZ2VzdEluaXRSZXNwb25zZVRpbWU9WS5wcm90b3R5cGUuc2I7ZnVuY3Rpb24gWmYoYSl7cmV0dXJuInYiPT09YS5jaGFyQXQoMCk/InZpZGVvIjoiYSI9PT1hLmNoYXJBdCgwKT8iYXVkaW8iOm51bGx9WS5wcm90b3R5cGUuVGM9ZnVuY3Rpb24oKXt2YXIgYT15KHt0eXBlOiJuZXR3b3JraW50ZXJydXB0ZWQiLGJ1YmJsZXM6ITB9KTt0aGlzLmRpc3BhdGNoRXZlbnQoYSk7dGhpcy5UPXRoaXMuVHx8RGF0ZS5ub3coKTt0aGlzLiQmJnRoaXMuaiYmY2xlYXJUaW1lb3V0KHRoaXMuail9OwpZLnByb3RvdHlwZS5VYz1mdW5jdGlvbigpe3ZhciBhPXkoe3R5cGU6Im5ldHdvcmtyZXN1bWVkIixidWJibGVzOiEwfSk7dGhpcy5kaXNwYXRjaEV2ZW50KGEpO2E9dGhpcy5hLmdldE51bWJlcigibWF4X25ldHdvcmtfaW50ZXJydXB0ZWRfdGltZV9iZWZvcmVfc2VlayIsMUU0KTtudWxsIT09dGhpcy5UJiZEYXRlLm5vdygpLXRoaXMuVD49YSYmKHRoaXMuVD1udWxsLHRoaXMuZWE9ITApO3RoaXMuYS5nZXRCb29sKCJmaXhfbmV0d29ya19pbnRlcnJ1cHRlZF9zdGFydF9ub3RfbnVsbGVkIiwhMSkmJih0aGlzLlQ9bnVsbCk7dGhpcy4kJiZwZyh0aGlzLHRoaXMuUmEpfTtZLnByb3RvdHlwZS5WYz1mdW5jdGlvbigpe3RoaXMuZWE9ITB9O2Z1bmN0aW9uIFBmKGEpe2EuYS5nZXRCb29sKCJkZWNvdXBsZV9tcGRfdXBkYXRlX2xvb3BfZnJvbV9yZXF1ZXN0X2xvb3AiLCExKXx8S2YoYSwwKX1ZLnByb3RvdHlwZS5xYz1mdW5jdGlvbihhKXt0aGlzLm5hPWF9OwpZLnByb3RvdHlwZS5zZXRFbmFibGVMaXZlaGVhZENhdGNodXA9WS5wcm90b3R5cGUucWM7WS5wcm90b3R5cGUuemQ9ZnVuY3Rpb24oKXtyZXR1cm4gdGhpcy5uYX07WS5wcm90b3R5cGUuaXNMaXZlaGVhZENhdGNodXBFbmFibGVkPVkucHJvdG90eXBlLnpkO1kucHJvdG90eXBlLlNjPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8uYy5pOm51bGx9O1kucHJvdG90eXBlLmdldFZpZGVvU3RyZWFtUHJvZ3Jlc3NUcmFja2VyPVkucHJvdG90eXBlLlNjO1kucHJvdG90eXBlLnFiPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuYy52aWRlbz90aGlzLmMudmlkZW8ucWIoKTpudWxsfTtZLnByb3RvdHlwZS5nZXRCdWZmZXJWZWxvY2l0eT1ZLnByb3RvdHlwZS5xYjtmdW5jdGlvbiBSZihhLGIpe2Zvcih2YXIgYyBpbiBhLmMpYS5jW2NdLm5hPWJ9CmZ1bmN0aW9uIGlnKGEpe3ZhciBiPVtdO2lmKG51bGwhPT1hLmNhKXt2YXIgYz1hLmNhLGQ7Zm9yKGQgaW4gYS5jKWIucHVzaChyZShhLmNbZF0sYS5jYSkpO1Byb21pc2UuYWxsKGIpLnRoZW4oSihhLGZ1bmN0aW9uKCl7aWYoYyl7Zm9yKHZhciBhIGluIHRoaXMuYyl7dmFyIGI9dGhpcy5jW2FdO2IuSz1udWxsO2IuVj0hMTtiLkk9bnVsbH1jPnRoaXMudmlkZW8uY3VycmVudFRpbWUmJih0aGlzLnZpZGVvLmN1cnJlbnRUaW1lPWMpfX0pKX1hLmNhPW51bGx9O2Z1bmN0aW9uIFooYSxiLGMsZCxlLGYsZyl7ZHx8KGQ9bmV3IEcpO2V8fChlPW5ldyBYKTtZLmNhbGwodGhpcyxudWxsLGIsZCxlKTsic3RyaW5nIj09PXR5cGVvZiBhP3RoaXMuTmI9YTp0aGlzLlBiPWE7dGhpcy5hPWI7dGhpcy5GPW51bGw7dGhpcy50YT1jO3RoaXMuRGE9W107dGhpcy5SYj1bXTt0aGlzLlNiPVtdO3RoaXMuSGE9MDt0aGlzLlk9bnVsbDt0aGlzLk9iPWd8fG51bGx9cihaLFkpO3EoInNoYWthLnBsYXllci5EYXNoVmlkZW9Tb3VyY2UiLFopO1oucHJvdG90eXBlLkpkPWZ1bmN0aW9uKGEpe3RoaXMuRj1hO3RoaXMuS2IoITAsITApfTtaLnByb3RvdHlwZS51cGRhdGVNYW5pZmVzdD1aLnByb3RvdHlwZS5KZDtaLnByb3RvdHlwZS5BYj1mdW5jdGlvbigpe3JldHVybiB0aGlzLlBifHx0aGlzLkZ9O1oucHJvdG90eXBlLmdldE1hbmlmZXN0PVoucHJvdG90eXBlLkFiO1oucHJvdG90eXBlLlViPWZ1bmN0aW9uKCl7cmV0dXJuIHRoaXMuQWIoKX07CloucHJvdG90eXBlLmRlYnVnR2V0TWFuaWZlc3Q9Wi5wcm90b3R5cGUuVWI7Wi5wcm90b3R5cGUuWmM9ZnVuY3Rpb24oYSxiLGMpe3RoaXMuRGEucHVzaChhKTt0aGlzLlJiLnB1c2goYnx8IiIpO3RoaXMuU2IucHVzaChjfHwiIil9O1oucHJvdG90eXBlLmFkZEV4dGVybmFsQ2FwdGlvbnM9Wi5wcm90b3R5cGUuWmM7Wi5wcm90b3R5cGUudGQ9ZnVuY3Rpb24oYSl7dGhpcy5ZPWF9O1oucHJvdG90eXBlLnNldE5ldHdvcmtDYWxsYmFjaz1aLnByb3RvdHlwZS50ZDtaLnByb3RvdHlwZS5kZXN0cm95PWZ1bmN0aW9uKCl7dGhpcy5GPXRoaXMuWT10aGlzLnRhPW51bGw7WS5wcm90b3R5cGUuZGVzdHJveS5jYWxsKHRoaXMpfTsKWi5wcm90b3R5cGUud2I9ZnVuY3Rpb24oKXt2YXIgYTt0aGlzLmwmJihhPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInNvdXJjZV9sb2FkIikuc3RhcnQoKSk7dmFyIGIsYz1KKHRoaXMsZnVuY3Rpb24oYSl7aWYodGhpcy5hLmdldEJvb2woImVuYWJsZV9kb3VibGVfaW5nZXN0X29uX2luaXRpYWxfbXBkIiwhMSkpc3dpdGNoKGEuc3RhdHVzKXtjYXNlIDIwMDpjYXNlIDQxNzppZihhLnJlc3BvbnNlSGVhZGVycyYmbnVsbCE9YS5yZXNwb25zZUhlYWRlcnNbIngtZmItdmlkZW8tcmVwbGljYSJdKXJldHVybiB0aGlzLmRpc3BhdGNoRXZlbnQoeSh7dHlwZToicmVwbGljYXN3aXRjaCIsYnViYmxlczohMCxyZXBsaWNhOmEucmVzcG9uc2VIZWFkZXJzWyJ4LWZiLXZpZGVvLXJlcGxpY2EiXX0pKSxuZXcgUHJvbWlzZShmdW5jdGlvbigpe30pfTA9PT1hLnN0YXR1cyYmdGhpcy5kaXNwYXRjaEV2ZW50KHkoe3R5cGU6ImluaXRpYWxsaXZlbWFuaWZlc3RyZXF1ZXN0ZmFpbHVyZSIsYnViYmxlczohMCwKc3RhdHVzOmEuc3RhdHVzLHVybDp0aGlzLk5ifSkpO3Rocm93IGE7fSksZD1KKHRoaXMsZnVuY3Rpb24oYyl7dGhpcy5MYSgiTVBERmV0Y2hEdXJhdGlvbiIsKERhdGUubm93KCktYikvMUUzKTt0aGlzLkY9Yztmb3IodmFyIGQ9MDtkPHRoaXMuRGEubGVuZ3RoO2QrKylMYyhjLHRoaXMuRGFbZF0sdGhpcy5SYltkXSx0aGlzLlNiW2RdKTt2YXIgZD1uZXcgeWUodGhpcy5hLHRoaXMudGEsdGhpcy5sLHRoaXMuT2IpLGU7dGhpcy5sJiYoZT10aGlzLmwuZ2V0T3BlcmF0aW9uTG9nZ2VyKCJwcm9jZXNzX21hbmlmZXN0Iikuc3RhcnQoKSk7dGhpcy5iPXplKGQsYyx0aGlzLlkpO2UmJmUubG9nKCk7YSYmYS5zZXRNYW5pZmVzdFR5cGUodGhpcy5iLmI/ImR5bmFtaWMiOiJzdGF0aWMiKTtyZXR1cm4gWS5wcm90b3R5cGUud2IuY2FsbCh0aGlzKS50aGVuKGZ1bmN0aW9uKCl7YSYmYS5sb2coKX0pfSk7aWYodGhpcy5QYilyZXR1cm4gYj1EYXRlLm5vdygpLGQodGhpcy5QYik7dmFyIGU9W25ldyBMKHRoaXMuTmIpXSwKZjtpZih0aGlzLnJhKXt2YXIgZz1uZXcgVmlkZW9QdXNoUGFyYW1ldGVyc0hlbHBlcih0aGlzLk5iKTtnLnNldFN0cmVhbUVuZE9mZnNldChNYXRoLmZsb29yKExmKHRoaXMpLzEpKTt0aGlzLk9hJiZnLnNldFB1c2hWaWRlb1JlcHJlc2VudGF0aW9uSUQodGhpcy5PYSk7dGhpcy5wYSYmZy5zZXRQdXNoQXVkaW9SZXByZXNlbnRhdGlvbklEKHRoaXMucGEpO3RoaXMubWEmJmcuc2V0VXNlTG9uZ0NhY2hlRm9yTWFuaWZlc3QodGhpcy5tYSk7Zj1uZXcgZmQobnVsbCk7Zi5hPWd9ZT1uZXcgSyh0aGlzLlksZSx2b2lkIDAsdm9pZCAwLHZvaWQgMCx0aGlzLk9iKTtmPW5ldyBkZChlLHRoaXMuTWIsZix0aGlzLmRhKTtiPURhdGUubm93KCk7cmV0dXJuIGVkKGYsdGhpcy5sKS50aGVuKGQsYyl9OwpaLnByb3RvdHlwZS52Yz1mdW5jdGlvbigpe2lmKHRoaXMuVmIpe3ZhciBhPXRoaXMuYjtpZihhPShhPWEmJmEuYSkmJmFbMF0pe3ZhciBhPWEuYS5yZWR1Y2UoZnVuY3Rpb24oYSxiKXtyZXR1cm4gYS5jb25jYXQoYi52KX0sW10pLGI9ZnVuY3Rpb24oYSl7cmV0dXJuIG51bGwhPWF9O1Byb21pc2UuYWxsKGEubWFwKGZ1bmN0aW9uKGEpe2E9YS5NO3JldHVybiBhLlFjP2EuU2E6YS5jcmVhdGUoKX0pKS50aGVuKGZ1bmN0aW9uKGEpe2E9YS5maWx0ZXIoYik7dGhpcy5MYSgiSW5pdGlhbFNlZ21lbnRJbmRleGVzIixhKX0uYmluZCh0aGlzKSk7UHJvbWlzZS5hbGwoYS5tYXAoZnVuY3Rpb24oYSl7cmV0dXJuIGEuYWF9KSkudGhlbihmdW5jdGlvbihhKXthPWEuZmlsdGVyKGIpO3RoaXMuTGEoIlNlZ21lbnRJbml0U291cmNlcyIsYSl9LmJpbmQodGhpcykpfX19OwpaLnByb3RvdHlwZS55Yz1mdW5jdGlvbihhLGIsYyl7aWYodGhpcy52aWRlby5wYXVzZWQmJnRoaXMuSGErMUU0PkRhdGUubm93KCkmJnRoaXMuYilyZXR1cm4gUHJvbWlzZS5yZWplY3Qoe3R5cGU6ImRlbGF5In0pO3ZhciBkO2lmKGImJnZvaWQgMCE9YylkPW5ldyBmZChiKSxkLmY9YyxiPVNmKHRoaXMpLG51bGwhPWImJihkLmM9Yi5zdHJlYW1JbmZvSUQsZC5iPXRoaXMucGEpO2Vsc2UgZm9yKGI9YS5jLGM9MDtjPGIubGVuZ3RoO2MrKyl7dmFyIGU9bmV3IFZpZGVvUHVzaFBhcmFtZXRlcnNIZWxwZXIoYltjXS50b1N0cmluZygpKTt0aGlzLm1hJiZlLnNldFVzZUxvbmdDYWNoZUZvck1hbmlmZXN0KHRoaXMubWEpO2JbY109bmV3IEwoZS5nZXRVUkwoKSl9YT1uZXcgZGQoYSx0aGlzLk1iLGQsdGhpcy5kYSk7dmFyIGY9RGF0ZS5ub3coKTtyZXR1cm4gZWQoYSx0aGlzLmwpLnRoZW4oSih0aGlzLGZ1bmN0aW9uKGEpe3RoaXMuSGE9RGF0ZS5ub3coKTt0aGlzLkxhKCJNUERGZXRjaER1cmF0aW9uIiwKKHRoaXMuSGEtZikvMUUzKTt0aGlzLmEuZ2V0Qm9vbCgidHJlYXRfbGl2ZV9zdGF0aWNfbWFuaWZlc3RfYXNfZHluYW1pYyIsITEpJiYoYS5tYW5pZmVzdElzTGl2ZVN0cmVhbWluZz0iZHluYW1pYyI9PT0odGhpcy5GP3RoaXMuRi50eXBlOmEudHlwZSkpO3RoaXMuRj1hO3ZhciBiPW5ldyB5ZSh0aGlzLmEsdGhpcy50YSx0aGlzLmwsdGhpcy5PYik7aWYodGhpcy5sKXZhciBjPXRoaXMubC5nZXRPcGVyYXRpb25Mb2dnZXIoInByb2Nlc3NfbWFuaWZlc3QiKS5zdGFydCgpO2E9emUoYixhLHRoaXMuWSk7YyYmYy5sb2coKTtyZXR1cm4gUHJvbWlzZS5yZXNvbHZlKGEpfSkpfTtaLnByb3RvdHlwZS54Yz1mdW5jdGlvbigpe3ZhciBhPXplKG5ldyB5ZSh0aGlzLmEsdGhpcy50YSksdGhpcy5GLHRoaXMuWSk7cmV0dXJuIFByb21pc2UucmVzb2x2ZShhKX07fS5iaW5kKGcsIGdsb2JhbCkpKCk7Cgptb2R1bGUuZXhwb3J0cyA9IGcuc2hha2E7CgoKLyogICovfSksbnVsbCk7Ci8vIyBzb3VyY2VVUkw9ZmI4YjE2YzhiNTc2N2Q1MTg4NjBkYWIyODMwYzUwZjIuanMK, line 417: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3ixBw4/yk/l/en_GB/oQQf-SqDp4N.js?_nc_x=F1thSyd-8rl, line 55: unreachable code after return statement
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3i6N34/yB/l/en_GB/ffbpG-BylCl.js?_nc_x=F1thSyd-8rl, line 48: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3i6N34/yB/l/en_GB/ffbpG-BylCl.js?_nc_x=F1thSyd-8rl, line 48: Error: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: Failed to init decoder
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3/y2/r/gBLmTAR0OX1.js?_nc_x=F1thSyd-8rl, line 418: Error: The manifest specifies content that cannot be displayed on this browser/platform.
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1589690200183	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile97y9Ib"
1589690201411	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1589690202719	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1589690202720	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1589690202720	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1589690202720	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1589690205921	Marionette	INFO	Listening on port 39189
1589690205980	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: resource://devtools/client/jsonview/converter-observer.js, line 94: NS_ERROR_NOT_AVAILABLE: Component returned failure code: 0x80040111 (NS_ERROR_NOT_AVAILABLE) [nsIChannel.contentType]
JavaScript error: , line 0: UnknownError: The operation failed for reasons unrelated to the database itself and not covered by any other error code.
1589690281637	Marionette	INFO	Stopped listening on port 39189
1589690516017	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofiletB9hjZ"
1589690516589	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1589690517895	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1589690517895	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1589690517896	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1589690517896	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1589690519747	Marionette	INFO	Listening on port 34575
1589690519846	Marionette	WARN	TLS certificate errors will be ignored for this session
IPDL protocol error: Handler returned error code!

###!!! [Parent][DispatchAsyncMessage] Error: PLayerTransaction::Msg_ReleaseLayer Processing error: message was deserialized, but the handler returned false (indicating failure)

1589690580416	Marionette	INFO	Stopped listening on port 34575
1589690589857	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile7zoGXB"
1589690590392	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1589690591743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1589690591743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1589690591743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1589690591743	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1589690593630	Marionette	INFO	Listening on port 36437
1589690593673	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript warning: https://static.xx.fbcdn.net/rsrc.php/v3iIaV4/yw/l/en_GB/fk7FG1EqCNe9yRPcs9JtxmAacckqP5K_2LhhQ9Vew8waAqkJ0D3GWKH4NZ58YN9gh5ybBI5e33Rmi.js?_nc_x=F1thSyd-8rl, line 357: This error message will be blank when privacy.resistFingerprinting = true.  If it is really necessary, please add it to the whitelist in MediaError::GetMessage: 2152398850: Request failed
[Child 24232, MediaDecoderStateMachine #1] WARNING: Decoder=7f9c1f527000 state=DECODING_METADATA Decode metadata failed, shutting down decoder: file /build/firefox-DqkhD2/firefox-76.0+build2/dom/media/MediaDecoderStateMachine.cpp, line 359
[Child 24232, MediaDecoderStateMachine #1] WARNING: Decoder=7f9c1f527000 Decode error: NS_ERROR_DOM_MEDIA_METADATA_ERR (0x806e0006) - static MP4Metadata::ResultAndByteBuffer mozilla::MP4Metadata::Metadata(mozilla::ByteStream *): Cannot parse metadata: file /build/firefox-DqkhD2/firefox-76.0+build2/dom/media/MediaDecoderStateMachine.cpp, line 3367
[Child 24232, MediaDecoderStateMachine #1] WARNING: Decoder=7f9c1d521800 state=DECODING_METADATA Decode metadata failed, shutting down decoder: file /build/firefox-DqkhD2/firefox-76.0+build2/dom/media/MediaDecoderStateMachine.cpp, line 359
[Child 24232, MediaDecoderStateMachine #1] WARNING: Decoder=7f9c1d521800 Decode error: NS_ERROR_DOM_MEDIA_METADATA_ERR (0x806e0006) - static MP4Metadata::ResultAndByteBuffer mozilla::MP4Metadata::Metadata(mozilla::ByteStream *): Cannot parse metadata: file /build/firefox-DqkhD2/firefox-76.0+build2/dom/media/MediaDecoderStateMachine.cpp, line 3367
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1589690715040	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofile3qgoZD"
1589690715603	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1589690717149	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1589690717149	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1589690717150	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1589690717150	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1589690719185	Marionette	INFO	Listening on port 33239
1589690719253	Marionette	WARN	TLS certificate errors will be ignored for this session
Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
1589690782186	mozrunner::runner	INFO	Running command: "/usr/bin/firefox" "-marionette" "--disable-notifications" "--disable-infobars" "--mute-audio" "-foreground" "-no-remote" "-profile" "/tmp/rust_mozprofileYJPyHo"
1589690782722	addons.webextension.doh-rollout@mozilla.org	WARN	Loading extension 'doh-rollout@mozilla.org': Reading manifest: Invalid extension permission: networkStatus
1589690784054	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: mozillaAddons
1589690784055	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: telemetry
1589690784055	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: resource://pdf.js/
1589690784055	addons.webextension.screenshots@mozilla.org	WARN	Loading extension 'screenshots@mozilla.org': Reading manifest: Invalid extension permission: about:reader*
1589690785959	Marionette	INFO	Listening on port 39051
1589690785999	Marionette	WARN	TLS certificate errors will be ignored for this session
JavaScript error: https://static.xx.fbcdn.net/rsrc.php/v3i6jl4/yl/l/en_GB/cW33u2KbjzKTkSJu5-a01pl97RRU7j8-O-SBws5g0CyqvtOw3_5csTeMXDBHNgc_62ZizpPLqJJnf2AAVGEUjCGl5u9AucvaxMszKPBnpTtgQWlN8r8fJ_hSO7ASl7FU0O8ETtEvtZwDgGk.js?_nc_x=F1thSyd-8rl, line 66: JSONParseError: Response contained invalid JSON.
Reason: JSON.parse: unexpected end of data at line 1 column 1 of the JSON data

Exiting due to channel error.
Exiting due to channel error.
Exiting due to channel error.
